!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define("palanca-studio",["React","ReactDOM"],e):"object"==typeof exports?exports["palanca-studio"]=e(require("React"),require("ReactDOM")):t["palanca-studio"]=e(t.React,t.ReactDOM)}(window,(function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/Users/xesf/Documents/workaround/github/palanca-studio/public",n(n.s=133)}([function(e,n){e.exports=t},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var a=typeof r;if("string"===a||"number"===a)t.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&t.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},function(t,e,n){t.exports=n(134)()},function(t,e,n){var r=n(218),i=n(49)(r);t.exports=i},function(t,e){t.exports=function(t){return null==t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(16),i=n(2);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(147);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(1);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}},function(t,e,n){"use strict";var r=n(109),i=n(276),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===a.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(30),i=n(150),a=n(151),o="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:o:u&&u in Object(t)?i(t):a(t)}},function(t,e,n){var r=n(83),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();t.exports=a},function(t,n){t.exports=e},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,a,o,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(e.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){var r=n(36),i=n(55);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(173),i=n(176);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(154),i=n(86),a=n(22);t.exports=function(t){return a(t)?r(t):i(t)}},function(t,e,n){var r=n(93),i=n(32),a=n(232),o=n(13),s=n(233);t.exports=function(t,e,n){var u=o(t)?r:a;return n&&s(t,e,n)&&(e=void 0),u(t,i(e,3))}},function(t,e,n){"use strict";var r;r=n(242),t.exports=r.default,t.exports.instance=r.instance},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(19).Symbol;t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(161),i=n(204),a=n(47),o=n(13),s=n(210);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?o(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(39),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"monaco",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"deepMerge",{enumerable:!0,get:function(){return a.default}});var r=o(n(263)),i=o(n(265)),a=o(n(266));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";t.exports=n(136)},function(t,e,n){var r=n(18),i=n(31),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==o||e==s||e==a||e==u}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var a,o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",h=1,d=2,p=4,v=1,m=2,y=1,g=2,b=4,w=8,E=16,_=32,T=64,x=128,S=256,A=512,k=30,C="...",I=800,N=16,P=1,M=2,R=1/0,O=9007199254740991,L=17976931348623157e292,U=NaN,D=4294967295,j=D-1,F=D>>>1,B=[["ary",x],["bind",y],["bindKey",g],["curry",w],["curryRight",E],["flip",A],["partial",_],["partialRight",T],["rearg",S]],z="[object Arguments]",G="[object Array]",V="[object AsyncFunction]",K="[object Boolean]",H="[object Date]",q="[object DOMException]",W="[object Error]",X="[object Function]",Y="[object GeneratorFunction]",$="[object Map]",Z="[object Number]",J="[object Null]",Q="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",at="[object Undefined]",ot="[object WeakMap]",st="[object WeakSet]",ut="[object ArrayBuffer]",ct="[object DataView]",lt="[object Float32Array]",ft="[object Float64Array]",ht="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",vt="[object Uint8Array]",mt="[object Uint8ClampedArray]",yt="[object Uint16Array]",gt="[object Uint32Array]",bt=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,Et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,xt=RegExp(_t.source),St=RegExp(Tt.source),At=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp(Mt.source),Ot=/^\s+|\s+$/g,Lt=/^\s+/,Ut=/\s+$/,Dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ft=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zt=/\\(\\)?/g,Gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vt=/\w*$/,Kt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Wt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Qt+"]",ne="["+Jt+"]",re="\\d+",ie="[\\u2700-\\u27bf]",ae="[a-z\\xdf-\\xf6\\xf8-\\xff]",oe="[^\\ud800-\\udfff"+Qt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",le="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",he="(?:"+ae+"|"+oe+")",de="(?:"+fe+"|"+oe+")",pe="(?:"+ne+"|"+se+")"+"?",ve="[\\ufe0e\\ufe0f]?"+pe+("(?:\\u200d(?:"+[ue,ce,le].join("|")+")[\\ufe0e\\ufe0f]?"+pe+")*"),me="(?:"+[ie,ce,le].join("|")+")"+ve,ye="(?:"+[ue+ne+"?",ne,ce,le,te].join("|")+")",ge=RegExp("['’]","g"),be=RegExp(ne,"g"),we=RegExp(se+"(?="+se+")|"+ye+ve,"g"),Ee=RegExp([fe+"?"+ae+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,fe,"$"].join("|")+")",de+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,fe+he,"$"].join("|")+")",fe+"?"+he+"+(?:['’](?:d|ll|m|re|s|t|ve))?",fe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,me].join("|"),"g"),_e=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),Te=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Se=-1,Ae={};Ae[lt]=Ae[ft]=Ae[ht]=Ae[dt]=Ae[pt]=Ae[vt]=Ae[mt]=Ae[yt]=Ae[gt]=!0,Ae[z]=Ae[G]=Ae[ut]=Ae[K]=Ae[ct]=Ae[H]=Ae[W]=Ae[X]=Ae[$]=Ae[Z]=Ae[Q]=Ae[et]=Ae[nt]=Ae[rt]=Ae[ot]=!1;var ke={};ke[z]=ke[G]=ke[ut]=ke[ct]=ke[K]=ke[H]=ke[lt]=ke[ft]=ke[ht]=ke[dt]=ke[pt]=ke[$]=ke[Z]=ke[Q]=ke[et]=ke[nt]=ke[rt]=ke[it]=ke[vt]=ke[mt]=ke[yt]=ke[gt]=!0,ke[W]=ke[X]=ke[ot]=!1;var Ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ie=parseFloat,Ne=parseInt,Pe="object"==typeof t&&t&&t.Object===Object&&t,Me="object"==typeof self&&self&&self.Object===Object&&self,Re=Pe||Me||Function("return this")(),Oe=e&&!e.nodeType&&e,Le=Oe&&"object"==typeof r&&r&&!r.nodeType&&r,Ue=Le&&Le.exports===Oe,De=Ue&&Pe.process,je=function(){try{var t=Le&&Le.require&&Le.require("util").types;return t||De&&De.binding&&De.binding("util")}catch(t){}}(),Fe=je&&je.isArrayBuffer,Be=je&&je.isDate,ze=je&&je.isMap,Ge=je&&je.isRegExp,Ve=je&&je.isSet,Ke=je&&je.isTypedArray;function He(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function qe(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r}function We(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function $e(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}function Ze(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Je(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Qe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var an=hn("length");function on(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function sn(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function un(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):sn(t,ln,n)}function cn(t,e,n,r){for(var i=n-1,a=t.length;++i<a;)if(r(t[i],e))return i;return-1}function ln(t){return t!=t}function fn(t,e){var n=null==t?0:t.length;return n?vn(t,e)/n:U}function hn(t){return function(e){return null==e?a:e[t]}}function dn(t){return function(e){return null==t?a:t[e]}}function pn(t,e,n,r,i){return i(t,(function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)})),n}function vn(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==a&&(n=n===a?o:n+o)}return n}function mn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function yn(t){return function(e){return t(e)}}function gn(t,e){return Qe(e,(function(e){return t[e]}))}function bn(t,e){return t.has(e)}function wn(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function En(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var _n=dn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n",ſ:"s"}),Tn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(t){return"\\"+Ce[t]}function Sn(t){return _e.test(t)}function An(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function kn(t,e){return function(n){return t(e(n))}}function Cn(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n];o!==e&&o!==f||(t[n]=f,a[i++]=n)}return a}function In(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Pn(t){return Sn(t)?function(t){var e=we.lastIndex=0;for(;we.test(t);)++e;return e}(t):an(t)}function Mn(t){return Sn(t)?function(t){return t.match(we)||[]}(t):function(t){return t.split("")}(t)}var Rn=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var On=function t(e){var n,r=(e=null==e?Re:On.defaults(Re.Object(),e,On.pick(Re,xe))).Array,i=e.Date,Jt=e.Error,Qt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,re=e.String,ie=e.TypeError,ae=r.prototype,oe=Qt.prototype,se=ee.prototype,ue=e["__core-js_shared__"],ce=oe.toString,le=se.hasOwnProperty,fe=0,he=(n=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",de=se.toString,pe=ce.call(ee),ve=Re._,me=ne("^"+ce.call(le).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=Ue?e.Buffer:a,we=e.Symbol,_e=e.Uint8Array,Ce=ye?ye.allocUnsafe:a,Pe=kn(ee.getPrototypeOf,ee),Me=ee.create,Oe=se.propertyIsEnumerable,Le=ae.splice,De=we?we.isConcatSpreadable:a,je=we?we.iterator:a,an=we?we.toStringTag:a,dn=function(){try{var t=ja(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ln=e.clearTimeout!==Re.clearTimeout&&e.clearTimeout,Un=i&&i.now!==Re.Date.now&&i.now,Dn=e.setTimeout!==Re.setTimeout&&e.setTimeout,jn=te.ceil,Fn=te.floor,Bn=ee.getOwnPropertySymbols,zn=ye?ye.isBuffer:a,Gn=e.isFinite,Vn=ae.join,Kn=kn(ee.keys,ee),Hn=te.max,qn=te.min,Wn=i.now,Xn=e.parseInt,Yn=te.random,$n=ae.reverse,Zn=ja(e,"DataView"),Jn=ja(e,"Map"),Qn=ja(e,"Promise"),tr=ja(e,"Set"),er=ja(e,"WeakMap"),nr=ja(ee,"create"),rr=er&&new er,ir={},ar=lo(Zn),or=lo(Jn),sr=lo(Qn),ur=lo(tr),cr=lo(er),lr=we?we.prototype:a,fr=lr?lr.valueOf:a,hr=lr?lr.toString:a;function dr(t){if(Cs(t)&&!ys(t)&&!(t instanceof yr)){if(t instanceof mr)return t;if(le.call(t,"__wrapped__"))return fo(t)}return new mr(t)}var pr=function(){function t(){}return function(e){if(!ks(e))return{};if(Me)return Me(e);t.prototype=e;var n=new t;return t.prototype=a,n}}();function vr(){}function mr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=a}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function gr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Er(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wr;++e<n;)this.add(t[e])}function _r(t){var e=this.__data__=new br(t);this.size=e.size}function Tr(t,e){var n=ys(t),r=!n&&ms(t),i=!n&&!r&&Es(t),a=!n&&!r&&!i&&Us(t),o=n||r||i||a,s=o?mn(t.length,re):[],u=s.length;for(var c in t)!e&&!le.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ha(c,u))||s.push(c);return s}function xr(t){var e=t.length;return e?t[Ei(0,e-1)]:a}function Sr(t,e){return so(na(t),Or(e,0,t.length))}function Ar(t){return so(na(t))}function kr(t,e,n){(n===a||ds(t[e],n))&&(n!==a||e in t)||Mr(t,e,n)}function Cr(t,e,n){var r=t[e];le.call(t,e)&&ds(r,n)&&(n!==a||e in t)||Mr(t,e,n)}function Ir(t,e){for(var n=t.length;n--;)if(ds(t[n][0],e))return n;return-1}function Nr(t,e,n,r){return Fr(t,(function(t,i,a){e(r,t,n(t),a)})),r}function Pr(t,e){return t&&ra(e,iu(e),t)}function Mr(t,e,n){"__proto__"==e&&dn?dn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Rr(t,e){for(var n=-1,i=e.length,o=r(i),s=null==t;++n<i;)o[n]=s?a:Qs(t,e[n]);return o}function Or(t,e,n){return t==t&&(n!==a&&(t=t<=n?t:n),e!==a&&(t=t>=e?t:e)),t}function Lr(t,e,n,r,i,o){var s,u=e&h,c=e&d,l=e&p;if(n&&(s=i?n(t,r,i,o):n(t)),s!==a)return s;if(!ks(t))return t;var f=ys(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return na(t,s)}else{var v=za(t),m=v==X||v==Y;if(Es(t))return $i(t,u);if(v==Q||v==z||m&&!i){if(s=c||m?{}:Va(t),!u)return c?function(t,e){return ra(t,Ba(t),e)}(t,function(t,e){return t&&ra(e,au(e),t)}(s,t)):function(t,e){return ra(t,Fa(t),e)}(t,Pr(s,t))}else{if(!ke[v])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case ut:return Zi(t);case K:case H:return new r(+t);case ct:return function(t,e){var n=e?Zi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case lt:case ft:case ht:case dt:case pt:case vt:case mt:case yt:case gt:return Ji(t,n);case $:return new r;case Z:case rt:return new r(t);case et:return function(t){var e=new t.constructor(t.source,Vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new r;case it:return i=t,fr?ee(fr.call(i)):{}}var i}(t,v,u)}}o||(o=new _r);var y=o.get(t);if(y)return y;o.set(t,s),Rs(t)?t.forEach((function(r){s.add(Lr(r,e,n,r,t,o))})):Is(t)&&t.forEach((function(r,i){s.set(i,Lr(r,e,n,i,t,o))}));var g=f?a:(l?c?Pa:Na:c?au:iu)(t);return We(g||t,(function(r,i){g&&(r=t[i=r]),Cr(s,i,Lr(r,e,n,i,t,o))})),s}function Ur(t,e,n){var r=n.length;if(null==t)return!r;for(t=ee(t);r--;){var i=n[r],o=e[i],s=t[i];if(s===a&&!(i in t)||!o(s))return!1}return!0}function Dr(t,e,n){if("function"!=typeof t)throw new ie(u);return ro((function(){t.apply(a,n)}),e)}function jr(t,e,n,r){var i=-1,a=Ze,s=!0,u=t.length,c=[],l=e.length;if(!u)return c;n&&(e=Qe(e,yn(n))),r?(a=Je,s=!1):e.length>=o&&(a=bn,s=!1,e=new Er(e));t:for(;++i<u;){var f=t[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,s&&h==h){for(var d=l;d--;)if(e[d]===h)continue t;c.push(f)}else a(e,h,r)||c.push(f)}return c}dr.templateSettings={escape:At,evaluate:kt,interpolate:Ct,variable:"",imports:{_:dr}},dr.prototype=vr.prototype,dr.prototype.constructor=dr,mr.prototype=pr(vr.prototype),mr.prototype.constructor=mr,yr.prototype=pr(vr.prototype),yr.prototype.constructor=yr,gr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},gr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gr.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===c?a:n}return le.call(e,t)?e[t]:a},gr.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==a:le.call(e,t)},gr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===a?c:e,this},br.prototype.clear=function(){this.__data__=[],this.size=0},br.prototype.delete=function(t){var e=this.__data__,n=Ir(e,t);return!(n<0)&&(n==e.length-1?e.pop():Le.call(e,n,1),--this.size,!0)},br.prototype.get=function(t){var e=this.__data__,n=Ir(e,t);return n<0?a:e[n][1]},br.prototype.has=function(t){return Ir(this.__data__,t)>-1},br.prototype.set=function(t,e){var n=this.__data__,r=Ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},wr.prototype.clear=function(){this.size=0,this.__data__={hash:new gr,map:new(Jn||br),string:new gr}},wr.prototype.delete=function(t){var e=Ua(this,t).delete(t);return this.size-=e?1:0,e},wr.prototype.get=function(t){return Ua(this,t).get(t)},wr.prototype.has=function(t){return Ua(this,t).has(t)},wr.prototype.set=function(t,e){var n=Ua(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Er.prototype.add=Er.prototype.push=function(t){return this.__data__.set(t,c),this},Er.prototype.has=function(t){return this.__data__.has(t)},_r.prototype.clear=function(){this.__data__=new br,this.size=0},_r.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},_r.prototype.get=function(t){return this.__data__.get(t)},_r.prototype.has=function(t){return this.__data__.has(t)},_r.prototype.set=function(t,e){var n=this.__data__;if(n instanceof br){var r=n.__data__;if(!Jn||r.length<o-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wr(r)}return n.set(t,e),this.size=n.size,this};var Fr=oa(Wr),Br=oa(Xr,!0);function zr(t,e){var n=!0;return Fr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function Gr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(u===a?s==s&&!Ls(s):n(s,u)))var u=s,c=o}return c}function Vr(t,e){var n=[];return Fr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Kr(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Ka),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?Kr(s,e-1,n,r,i):tn(i,s):r||(i[i.length]=s)}return i}var Hr=sa(),qr=sa(!0);function Wr(t,e){return t&&Hr(t,e,iu)}function Xr(t,e){return t&&qr(t,e,iu)}function Yr(t,e){return $e(e,(function(e){return xs(t[e])}))}function $r(t,e){for(var n=0,r=(e=qi(e,t)).length;null!=t&&n<r;)t=t[co(e[n++])];return n&&n==r?t:a}function Zr(t,e,n){var r=e(t);return ys(t)?r:tn(r,n(t))}function Jr(t){return null==t?t===a?at:J:an&&an in ee(t)?function(t){var e=le.call(t,an),n=t[an];try{t[an]=a;var r=!0}catch(t){}var i=de.call(t);r&&(e?t[an]=n:delete t[an]);return i}(t):function(t){return de.call(t)}(t)}function Qr(t,e){return t>e}function ti(t,e){return null!=t&&le.call(t,e)}function ei(t,e){return null!=t&&e in ee(t)}function ni(t,e,n){for(var i=n?Je:Ze,o=t[0].length,s=t.length,u=s,c=r(s),l=1/0,f=[];u--;){var h=t[u];u&&e&&(h=Qe(h,yn(e))),l=qn(h.length,l),c[u]=!n&&(e||o>=120&&h.length>=120)?new Er(u&&h):a}h=t[0];var d=-1,p=c[0];t:for(;++d<o&&f.length<l;){var v=h[d],m=e?e(v):v;if(v=n||0!==v?v:0,!(p?bn(p,m):i(f,m,n))){for(u=s;--u;){var y=c[u];if(!(y?bn(y,m):i(t[u],m,n)))continue t}p&&p.push(m),f.push(v)}}return f}function ri(t,e,n){var r=null==(t=to(t,e=qi(e,t)))?t:t[co(To(e))];return null==r?a:He(r,t,n)}function ii(t){return Cs(t)&&Jr(t)==z}function ai(t,e,n,r,i){return t===e||(null==t||null==e||!Cs(t)&&!Cs(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var s=ys(t),u=ys(e),c=s?G:za(t),l=u?G:za(e),f=(c=c==z?Q:c)==Q,h=(l=l==z?Q:l)==Q,d=c==l;if(d&&Es(t)){if(!Es(e))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new _r),s||Us(t)?Ca(t,e,n,r,i,o):function(t,e,n,r,i,a,o){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!a(new _e(t),new _e(e)));case K:case H:case Z:return ds(+t,+e);case W:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case $:var s=An;case nt:var u=r&v;if(s||(s=In),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;r|=m,o.set(t,e);var l=Ca(s(t),s(e),r,i,a,o);return o.delete(t),l;case it:if(fr)return fr.call(t)==fr.call(e)}return!1}(t,e,c,n,r,i,o);if(!(n&v)){var p=f&&le.call(t,"__wrapped__"),y=h&&le.call(e,"__wrapped__");if(p||y){var g=p?t.value():t,b=y?e.value():e;return o||(o=new _r),i(g,b,n,r,o)}}if(!d)return!1;return o||(o=new _r),function(t,e,n,r,i,o){var s=n&v,u=Na(t),c=u.length,l=Na(e).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var h=u[f];if(!(s?h in e:le.call(e,h)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);var m=s;for(;++f<c;){h=u[f];var y=t[h],g=e[h];if(r)var b=s?r(g,y,h,e,t,o):r(y,g,h,t,e,o);if(!(b===a?y===g||i(y,g,n,r,o):b)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,ai,i))}function oi(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=ee(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=n[i])[0],l=t[c],f=u[1];if(s&&u[2]){if(l===a&&!(c in t))return!1}else{var h=new _r;if(r)var d=r(l,f,c,t,e,h);if(!(d===a?ai(f,l,v|m,r,h):d))return!1}}return!0}function si(t){return!(!ks(t)||(e=t,he&&he in e))&&(xs(t)?me:qt).test(lo(t));var e}function ui(t){return"function"==typeof t?t:null==t?Nu:"object"==typeof t?ys(t)?pi(t[0],t[1]):di(t):Fu(t)}function ci(t){if(!$a(t))return Kn(t);var e=[];for(var n in ee(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function li(t){if(!ks(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=$a(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function fi(t,e){return t<e}function hi(t,e){var n=-1,i=bs(t)?r(t.length):[];return Fr(t,(function(t,r,a){i[++n]=e(t,r,a)})),i}function di(t){var e=Da(t);return 1==e.length&&e[0][2]?Ja(e[0][0],e[0][1]):function(n){return n===t||oi(n,t,e)}}function pi(t,e){return Wa(t)&&Za(e)?Ja(co(t),e):function(n){var r=Qs(n,t);return r===a&&r===e?tu(n,t):ai(e,r,v|m)}}function vi(t,e,n,r,i){t!==e&&Hr(e,(function(o,s){if(i||(i=new _r),ks(o))!function(t,e,n,r,i,o,s){var u=eo(t,n),c=eo(e,n),l=s.get(c);if(l)return void kr(t,n,l);var f=o?o(u,c,n+"",t,e,s):a,h=f===a;if(h){var d=ys(c),p=!d&&Es(c),v=!d&&!p&&Us(c);f=c,d||p||v?ys(u)?f=u:ws(u)?f=na(u):p?(h=!1,f=$i(c,!0)):v?(h=!1,f=Ji(c,!0)):f=[]:Ps(c)||ms(c)?(f=u,ms(u)?f=Ks(u):ks(u)&&!xs(u)||(f=Va(c))):h=!1}h&&(s.set(c,f),i(f,c,r,o,s),s.delete(c));kr(t,n,f)}(t,e,s,n,vi,r,i);else{var u=r?r(eo(t,s),o,s+"",t,e,i):a;u===a&&(u=o),kr(t,s,u)}}),au)}function mi(t,e){var n=t.length;if(n)return Ha(e+=e<0?n:0,n)?t[e]:a}function yi(t,e,n){var r=-1;return e=Qe(e.length?e:[Nu],yn(La())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(hi(t,(function(t,n,i){return{criteria:Qe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;for(;++r<o;){var u=Qi(i[r],a[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function gi(t,e,n){for(var r=-1,i=e.length,a={};++r<i;){var o=e[r],s=$r(t,o);n(s,o)&&Ai(a,qi(o,t),s)}return a}function bi(t,e,n,r){var i=r?cn:un,a=-1,o=e.length,s=t;for(t===e&&(e=na(e)),n&&(s=Qe(t,yn(n)));++a<o;)for(var u=0,c=e[a],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Le.call(s,u,1),Le.call(t,u,1);return t}function wi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==a){var a=i;Ha(i)?Le.call(t,i,1):ji(t,i)}}return t}function Ei(t,e){return t+Fn(Yn()*(e-t+1))}function _i(t,e){var n="";if(!t||e<1||e>O)return n;do{e%2&&(n+=t),(e=Fn(e/2))&&(t+=t)}while(e);return n}function Ti(t,e){return io(Qa(t,e,Nu),t+"")}function xi(t){return xr(du(t))}function Si(t,e){var n=du(t);return so(n,Or(e,0,n.length))}function Ai(t,e,n,r){if(!ks(t))return t;for(var i=-1,o=(e=qi(e,t)).length,s=o-1,u=t;null!=u&&++i<o;){var c=co(e[i]),l=n;if(i!=s){var f=u[c];(l=r?r(f,c,u):a)===a&&(l=ks(f)?f:Ha(e[i+1])?[]:{})}Cr(u,c,l),u=u[c]}return t}var ki=rr?function(t,e){return rr.set(t,e),t}:Nu,Ci=dn?function(t,e){return dn(t,"toString",{configurable:!0,enumerable:!1,value:ku(e),writable:!0})}:Nu;function Ii(t){return so(du(t))}function Ni(t,e,n){var i=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(n=n>a?a:n)<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var o=r(a);++i<a;)o[i]=t[i+e];return o}function Pi(t,e){var n;return Fr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Mi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=F){for(;r<i;){var a=r+i>>>1,o=t[a];null!==o&&!Ls(o)&&(n?o<=e:o<e)?r=a+1:i=a}return i}return Ri(t,e,Nu,n)}function Ri(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,s=e!=e,u=null===e,c=Ls(e),l=e===a;i<o;){var f=Fn((i+o)/2),h=n(t[f]),d=h!==a,p=null===h,v=h==h,m=Ls(h);if(s)var y=r||v;else y=l?v&&(r||d):u?v&&d&&(r||!p):c?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=e:h<e);y?i=f+1:o=f}return qn(o,j)}function Oi(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n],s=e?e(o):o;if(!n||!ds(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Li(t){return"number"==typeof t?t:Ls(t)?U:+t}function Ui(t){if("string"==typeof t)return t;if(ys(t))return Qe(t,Ui)+"";if(Ls(t))return hr?hr.call(t):"";var e=t+"";return"0"==e&&1/t==-R?"-0":e}function Di(t,e,n){var r=-1,i=Ze,a=t.length,s=!0,u=[],c=u;if(n)s=!1,i=Je;else if(a>=o){var l=e?null:_a(t);if(l)return In(l);s=!1,i=bn,c=new Er}else c=e?[]:u;t:for(;++r<a;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),u.push(f)}else i(c,h,n)||(c!==u&&c.push(h),u.push(f))}return u}function ji(t,e){return null==(t=to(t,e=qi(e,t)))||delete t[co(To(e))]}function Fi(t,e,n,r){return Ai(t,e,n($r(t,e)),r)}function Bi(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?Ni(t,r?0:a,r?a+1:i):Ni(t,r?a+1:0,r?i:a)}function zi(t,e){var n=t;return n instanceof yr&&(n=n.value()),en(e,(function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))}),n)}function Gi(t,e,n){var i=t.length;if(i<2)return i?Di(t[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=t[a],u=-1;++u<i;)u!=a&&(o[a]=jr(o[a]||s,t[u],e,n));return Di(Kr(o,1),e,n)}function Vi(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;){var u=r<o?e[r]:a;n(s,t[r],u)}return s}function Ki(t){return ws(t)?t:[]}function Hi(t){return"function"==typeof t?t:Nu}function qi(t,e){return ys(t)?t:Wa(t,e)?[t]:uo(Hs(t))}var Wi=Ti;function Xi(t,e,n){var r=t.length;return n=n===a?r:n,!e&&n>=r?t:Ni(t,e,n)}var Yi=Ln||function(t){return Re.clearTimeout(t)};function $i(t,e){if(e)return t.slice();var n=t.length,r=Ce?Ce(n):new t.constructor(n);return t.copy(r),r}function Zi(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function Ji(t,e){var n=e?Zi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Qi(t,e){if(t!==e){var n=t!==a,r=null===t,i=t==t,o=Ls(t),s=e!==a,u=null===e,c=e==e,l=Ls(e);if(!u&&!l&&!o&&t>e||o&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||u&&n&&i||!s&&i||!c)return-1}return 0}function ta(t,e,n,i){for(var a=-1,o=t.length,s=n.length,u=-1,c=e.length,l=Hn(o-s,0),f=r(c+l),h=!i;++u<c;)f[u]=e[u];for(;++a<s;)(h||a<o)&&(f[n[a]]=t[a]);for(;l--;)f[u++]=t[a++];return f}function ea(t,e,n,i){for(var a=-1,o=t.length,s=-1,u=n.length,c=-1,l=e.length,f=Hn(o-u,0),h=r(f+l),d=!i;++a<f;)h[a]=t[a];for(var p=a;++c<l;)h[p+c]=e[c];for(;++s<u;)(d||a<o)&&(h[p+n[s]]=t[a++]);return h}function na(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function ra(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var u=e[o],c=r?r(n[u],t[u],u,n,t):a;c===a&&(c=t[u]),i?Mr(n,u,c):Cr(n,u,c)}return n}function ia(t,e){return function(n,r){var i=ys(n)?qe:Nr,a=e?e():{};return i(n,t,La(r,2),a)}}function aa(t){return Ti((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:a,s=i>2?n[2]:a;for(o=t.length>3&&"function"==typeof o?(i--,o):a,s&&qa(n[0],n[1],s)&&(o=i<3?a:o,i=1),e=ee(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function oa(t,e){return function(n,r){if(null==n)return n;if(!bs(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=ee(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function sa(t){return function(e,n,r){for(var i=-1,a=ee(e),o=r(e),s=o.length;s--;){var u=o[t?s:++i];if(!1===n(a[u],u,a))break}return e}}function ua(t){return function(e){var n=Sn(e=Hs(e))?Mn(e):a,r=n?n[0]:e.charAt(0),i=n?Xi(n,1).join(""):e.slice(1);return r[t]()+i}}function ca(t){return function(e){return en(xu(mu(e).replace(ge,"")),t,"")}}function la(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pr(t.prototype),r=t.apply(n,e);return ks(r)?r:n}}function fa(t){return function(e,n,r){var i=ee(e);if(!bs(e)){var o=La(n,3);e=iu(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:a}}function ha(t){return Ia((function(e){var n=e.length,r=n,i=mr.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new ie(u);if(i&&!s&&"wrapper"==Ra(o))var s=new mr([],!0)}for(r=s?r:n;++r<n;){var c=Ra(o=e[r]),l="wrapper"==c?Ma(o):a;s=l&&Xa(l[0])&&l[1]==(x|w|_|S)&&!l[4].length&&1==l[9]?s[Ra(l[0])].apply(s,l[3]):1==o.length&&Xa(o)?s[c]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&ys(r))return s.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}}))}function da(t,e,n,i,o,s,u,c,l,f){var h=e&x,d=e&y,p=e&g,v=e&(w|E),m=e&A,b=p?a:la(t);return function y(){for(var g=arguments.length,w=r(g),E=g;E--;)w[E]=arguments[E];if(v)var _=Oa(y),T=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(w,_);if(i&&(w=ta(w,i,o,v)),s&&(w=ea(w,s,u,v)),g-=T,v&&g<f){var x=Cn(w,_);return wa(t,e,da,y.placeholder,n,w,x,c,l,f-g)}var S=d?n:this,A=p?S[t]:t;return g=w.length,c?w=function(t,e){var n=t.length,r=qn(e.length,n),i=na(t);for(;r--;){var o=e[r];t[r]=Ha(o,n)?i[o]:a}return t}(w,c):m&&g>1&&w.reverse(),h&&l<g&&(w.length=l),this&&this!==Re&&this instanceof y&&(A=b||la(A)),A.apply(S,w)}}function pa(t,e){return function(n,r){return function(t,e,n,r){return Wr(t,(function(t,i,a){e(r,n(t),i,a)})),r}(n,t,e(r),{})}}function va(t,e){return function(n,r){var i;if(n===a&&r===a)return e;if(n!==a&&(i=n),r!==a){if(i===a)return r;"string"==typeof n||"string"==typeof r?(n=Ui(n),r=Ui(r)):(n=Li(n),r=Li(r)),i=t(n,r)}return i}}function ma(t){return Ia((function(e){return e=Qe(e,yn(La())),Ti((function(n){var r=this;return t(e,(function(t){return He(t,r,n)}))}))}))}function ya(t,e){var n=(e=e===a?" ":Ui(e)).length;if(n<2)return n?_i(e,t):e;var r=_i(e,jn(t/Pn(e)));return Sn(e)?Xi(Mn(r),0,t).join(""):r.slice(0,t)}function ga(t){return function(e,n,i){return i&&"number"!=typeof i&&qa(e,n,i)&&(n=i=a),e=Bs(e),n===a?(n=e,e=0):n=Bs(n),function(t,e,n,i){for(var a=-1,o=Hn(jn((e-t)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=t,t+=n;return s}(e,n,i=i===a?e<n?1:-1:Bs(i),t)}}function ba(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Vs(e),n=Vs(n)),t(e,n)}}function wa(t,e,n,r,i,o,s,u,c,l){var f=e&w;e|=f?_:T,(e&=~(f?T:_))&b||(e&=~(y|g));var h=[t,e,i,f?o:a,f?s:a,f?a:o,f?a:s,u,c,l],d=n.apply(a,h);return Xa(t)&&no(d,h),d.placeholder=r,ao(d,t,e)}function Ea(t){var e=te[t];return function(t,n){if(t=Vs(t),(n=null==n?0:qn(zs(n),292))&&Gn(t)){var r=(Hs(t)+"e").split("e");return+((r=(Hs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var _a=tr&&1/In(new tr([,-0]))[1]==R?function(t){return new tr(t)}:Lu;function Ta(t){return function(e){var n=za(e);return n==$?An(e):n==nt?Nn(e):function(t,e){return Qe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function xa(t,e,n,i,o,s,c,l){var h=e&g;if(!h&&"function"!=typeof t)throw new ie(u);var d=i?i.length:0;if(d||(e&=~(_|T),i=o=a),c=c===a?c:Hn(zs(c),0),l=l===a?l:zs(l),d-=o?o.length:0,e&T){var p=i,v=o;i=o=a}var m=h?a:Ma(t),A=[t,e,n,i,o,p,v,s,c,l];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r,a=i<(y|g|x),o=r==x&&n==w||r==x&&n==S&&t[7].length<=e[8]||r==(x|S)&&e[7].length<=e[8]&&n==w;if(!a&&!o)return t;r&y&&(t[2]=e[2],i|=n&y?0:b);var s=e[3];if(s){var u=t[3];t[3]=u?ta(u,s,e[4]):s,t[4]=u?Cn(t[3],f):e[4]}(s=e[5])&&(u=t[5],t[5]=u?ea(u,s,e[6]):s,t[6]=u?Cn(t[5],f):e[6]);(s=e[7])&&(t[7]=s);r&x&&(t[8]=null==t[8]?e[8]:qn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(A,m),t=A[0],e=A[1],n=A[2],i=A[3],o=A[4],!(l=A[9]=A[9]===a?h?0:t.length:Hn(A[9]-d,0))&&e&(w|E)&&(e&=~(w|E)),e&&e!=y)k=e==w||e==E?function(t,e,n){var i=la(t);return function o(){for(var s=arguments.length,u=r(s),c=s,l=Oa(o);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:Cn(u,l);return(s-=f.length)<n?wa(t,e,da,o.placeholder,a,u,f,a,a,n-s):He(this&&this!==Re&&this instanceof o?i:t,this,u)}}(t,e,l):e!=_&&e!=(y|_)||o.length?da.apply(a,A):function(t,e,n,i){var a=e&y,o=la(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==Re&&this instanceof e?o:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return He(h,a?n:this,f)}}(t,e,n,i);else var k=function(t,e,n){var r=e&y,i=la(t);return function e(){return(this&&this!==Re&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return ao((m?ki:no)(k,A),t,e)}function Sa(t,e,n,r){return t===a||ds(t,se[n])&&!le.call(r,n)?e:t}function Aa(t,e,n,r,i,o){return ks(t)&&ks(e)&&(o.set(e,t),vi(t,e,a,Aa,o),o.delete(e)),t}function ka(t){return Ps(t)?a:t}function Ca(t,e,n,r,i,o){var s=n&v,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var f=-1,h=!0,d=n&m?new Er:a;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],y=e[f];if(r)var g=s?r(y,p,f,e,t,o):r(p,y,f,t,e,o);if(g!==a){if(g)continue;h=!1;break}if(d){if(!rn(e,(function(t,e){if(!bn(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){h=!1;break}}else if(p!==y&&!i(p,y,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Ia(t){return io(Qa(t,a,go),t+"")}function Na(t){return Zr(t,iu,Fa)}function Pa(t){return Zr(t,au,Ba)}var Ma=rr?function(t){return rr.get(t)}:Lu;function Ra(t){for(var e=t.name+"",n=ir[e],r=le.call(ir,e)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function Oa(t){return(le.call(dr,"placeholder")?dr:t).placeholder}function La(){var t=dr.iteratee||Pu;return t=t===Pu?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function Ua(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Da(t){for(var e=iu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Za(i)]}return e}function ja(t,e){var n=function(t,e){return null==t?a:t[e]}(t,e);return si(n)?n:a}var Fa=Bn?function(t){return null==t?[]:(t=ee(t),$e(Bn(t),(function(e){return Oe.call(t,e)})))}:Gu,Ba=Bn?function(t){for(var e=[];t;)tn(e,Fa(t)),t=Pe(t);return e}:Gu,za=Jr;function Ga(t,e,n){for(var r=-1,i=(e=qi(e,t)).length,a=!1;++r<i;){var o=co(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&As(i)&&Ha(o,i)&&(ys(t)||ms(t))}function Va(t){return"function"!=typeof t.constructor||$a(t)?{}:pr(Pe(t))}function Ka(t){return ys(t)||ms(t)||!!(De&&t&&t[De])}function Ha(t,e){var n=typeof t;return!!(e=null==e?O:e)&&("number"==n||"symbol"!=n&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function qa(t,e,n){if(!ks(n))return!1;var r=typeof e;return!!("number"==r?bs(n)&&Ha(e,n.length):"string"==r&&e in n)&&ds(n[e],t)}function Wa(t,e){if(ys(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ls(t))||(Nt.test(t)||!It.test(t)||null!=e&&t in ee(e))}function Xa(t){var e=Ra(t),n=dr[e];if("function"!=typeof n||!(e in yr.prototype))return!1;if(t===n)return!0;var r=Ma(n);return!!r&&t===r[0]}(Zn&&za(new Zn(new ArrayBuffer(1)))!=ct||Jn&&za(new Jn)!=$||Qn&&"[object Promise]"!=za(Qn.resolve())||tr&&za(new tr)!=nt||er&&za(new er)!=ot)&&(za=function(t){var e=Jr(t),n=e==Q?t.constructor:a,r=n?lo(n):"";if(r)switch(r){case ar:return ct;case or:return $;case sr:return"[object Promise]";case ur:return nt;case cr:return ot}return e});var Ya=ue?xs:Vu;function $a(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Za(t){return t==t&&!ks(t)}function Ja(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==a||t in ee(n)))}}function Qa(t,e,n){return e=Hn(e===a?t.length-1:e,0),function(){for(var i=arguments,a=-1,o=Hn(i.length-e,0),s=r(o);++a<o;)s[a]=i[e+a];a=-1;for(var u=r(e+1);++a<e;)u[a]=i[a];return u[e]=n(s),He(t,this,u)}}function to(t,e){return e.length<2?t:$r(t,Ni(e,0,-1))}function eo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var no=oo(ki),ro=Dn||function(t,e){return Re.setTimeout(t,e)},io=oo(Ci);function ao(t,e,n){var r=e+"";return io(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Dt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return We(B,(function(n){var r="_."+n[0];e&n[1]&&!Ze(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(jt);return e?e[1].split(Ft):[]}(r),n)))}function oo(t){var e=0,n=0;return function(){var r=Wn(),i=N-(r-n);if(n=r,i>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(a,arguments)}}function so(t,e){var n=-1,r=t.length,i=r-1;for(e=e===a?r:e;++n<e;){var o=Ei(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var uo=function(t){var e=ss(t,(function(t){return n.size===l&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Pt,(function(t,n,r,i){e.push(r?i.replace(zt,"$1"):n||t)})),e}));function co(t){if("string"==typeof t||Ls(t))return t;var e=t+"";return"0"==e&&1/t==-R?"-0":e}function lo(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fo(t){if(t instanceof yr)return t.clone();var e=new mr(t.__wrapped__,t.__chain__);return e.__actions__=na(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ho=Ti((function(t,e){return ws(t)?jr(t,Kr(e,1,ws,!0)):[]})),po=Ti((function(t,e){var n=To(e);return ws(n)&&(n=a),ws(t)?jr(t,Kr(e,1,ws,!0),La(n,2)):[]})),vo=Ti((function(t,e){var n=To(e);return ws(n)&&(n=a),ws(t)?jr(t,Kr(e,1,ws,!0),a,n):[]}));function mo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:zs(n);return i<0&&(i=Hn(r+i,0)),sn(t,La(e,3),i)}function yo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==a&&(i=zs(n),i=n<0?Hn(r+i,0):qn(i,r-1)),sn(t,La(e,3),i,!0)}function go(t){return(null==t?0:t.length)?Kr(t,1):[]}function bo(t){return t&&t.length?t[0]:a}var wo=Ti((function(t){var e=Qe(t,Ki);return e.length&&e[0]===t[0]?ni(e):[]})),Eo=Ti((function(t){var e=To(t),n=Qe(t,Ki);return e===To(n)?e=a:n.pop(),n.length&&n[0]===t[0]?ni(n,La(e,2)):[]})),_o=Ti((function(t){var e=To(t),n=Qe(t,Ki);return(e="function"==typeof e?e:a)&&n.pop(),n.length&&n[0]===t[0]?ni(n,a,e):[]}));function To(t){var e=null==t?0:t.length;return e?t[e-1]:a}var xo=Ti(So);function So(t,e){return t&&t.length&&e&&e.length?bi(t,e):t}var Ao=Ia((function(t,e){var n=null==t?0:t.length,r=Rr(t,e);return wi(t,Qe(e,(function(t){return Ha(t,n)?+t:t})).sort(Qi)),r}));function ko(t){return null==t?t:$n.call(t)}var Co=Ti((function(t){return Di(Kr(t,1,ws,!0))})),Io=Ti((function(t){var e=To(t);return ws(e)&&(e=a),Di(Kr(t,1,ws,!0),La(e,2))})),No=Ti((function(t){var e=To(t);return e="function"==typeof e?e:a,Di(Kr(t,1,ws,!0),a,e)}));function Po(t){if(!t||!t.length)return[];var e=0;return t=$e(t,(function(t){if(ws(t))return e=Hn(t.length,e),!0})),mn(e,(function(e){return Qe(t,hn(e))}))}function Mo(t,e){if(!t||!t.length)return[];var n=Po(t);return null==e?n:Qe(n,(function(t){return He(e,a,t)}))}var Ro=Ti((function(t,e){return ws(t)?jr(t,e):[]})),Oo=Ti((function(t){return Gi($e(t,ws))})),Lo=Ti((function(t){var e=To(t);return ws(e)&&(e=a),Gi($e(t,ws),La(e,2))})),Uo=Ti((function(t){var e=To(t);return e="function"==typeof e?e:a,Gi($e(t,ws),a,e)})),Do=Ti(Po);var jo=Ti((function(t){var e=t.length,n=e>1?t[e-1]:a;return n="function"==typeof n?(t.pop(),n):a,Mo(t,n)}));function Fo(t){var e=dr(t);return e.__chain__=!0,e}function Bo(t,e){return e(t)}var zo=Ia((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Rr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof yr&&Ha(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Bo,args:[i],thisArg:a}),new mr(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(a),t}))):this.thru(i)}));var Go=ia((function(t,e,n){le.call(t,n)?++t[n]:Mr(t,n,1)}));var Vo=fa(mo),Ko=fa(yo);function Ho(t,e){return(ys(t)?We:Fr)(t,La(e,3))}function qo(t,e){return(ys(t)?Xe:Br)(t,La(e,3))}var Wo=ia((function(t,e,n){le.call(t,n)?t[n].push(e):Mr(t,n,[e])}));var Xo=Ti((function(t,e,n){var i=-1,a="function"==typeof e,o=bs(t)?r(t.length):[];return Fr(t,(function(t){o[++i]=a?He(e,t,n):ri(t,e,n)})),o})),Yo=ia((function(t,e,n){Mr(t,n,e)}));function $o(t,e){return(ys(t)?Qe:hi)(t,La(e,3))}var Zo=ia((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Jo=Ti((function(t,e){if(null==t)return[];var n=e.length;return n>1&&qa(t,e[0],e[1])?e=[]:n>2&&qa(e[0],e[1],e[2])&&(e=[e[0]]),yi(t,Kr(e,1),[])})),Qo=Un||function(){return Re.Date.now()};function ts(t,e,n){return e=n?a:e,e=t&&null==e?t.length:e,xa(t,x,a,a,a,a,e)}function es(t,e){var n;if("function"!=typeof e)throw new ie(u);return t=zs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=a),n}}var ns=Ti((function(t,e,n){var r=y;if(n.length){var i=Cn(n,Oa(ns));r|=_}return xa(t,r,e,n,i)})),rs=Ti((function(t,e,n){var r=y|g;if(n.length){var i=Cn(n,Oa(rs));r|=_}return xa(e,r,t,n,i)}));function is(t,e,n){var r,i,o,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new ie(u);function v(e){var n=r,o=i;return r=i=a,f=e,s=t.apply(o,n)}function m(t){var n=t-l;return l===a||n>=e||n<0||d&&t-f>=o}function y(){var t=Qo();if(m(t))return g(t);c=ro(y,function(t){var n=e-(t-l);return d?qn(n,o-(t-f)):n}(t))}function g(t){return c=a,p&&r?v(t):(r=i=a,s)}function b(){var t=Qo(),n=m(t);if(r=arguments,i=this,l=t,n){if(c===a)return function(t){return f=t,c=ro(y,e),h?v(t):s}(l);if(d)return Yi(c),c=ro(y,e),v(l)}return c===a&&(c=ro(y,e)),s}return e=Vs(e)||0,ks(n)&&(h=!!n.leading,o=(d="maxWait"in n)?Hn(Vs(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==a&&Yi(c),f=0,r=l=i=c=a},b.flush=function(){return c===a?s:g(Qo())},b}var as=Ti((function(t,e){return Dr(t,1,e)})),os=Ti((function(t,e,n){return Dr(t,Vs(e)||0,n)}));function ss(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(u);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ss.Cache||wr),n}function us(t){if("function"!=typeof t)throw new ie(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ss.Cache=wr;var cs=Wi((function(t,e){var n=(e=1==e.length&&ys(e[0])?Qe(e[0],yn(La())):Qe(Kr(e,1),yn(La()))).length;return Ti((function(r){for(var i=-1,a=qn(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return He(t,this,r)}))})),ls=Ti((function(t,e){var n=Cn(e,Oa(ls));return xa(t,_,a,e,n)})),fs=Ti((function(t,e){var n=Cn(e,Oa(fs));return xa(t,T,a,e,n)})),hs=Ia((function(t,e){return xa(t,S,a,a,a,e)}));function ds(t,e){return t===e||t!=t&&e!=e}var ps=ba(Qr),vs=ba((function(t,e){return t>=e})),ms=ii(function(){return arguments}())?ii:function(t){return Cs(t)&&le.call(t,"callee")&&!Oe.call(t,"callee")},ys=r.isArray,gs=Fe?yn(Fe):function(t){return Cs(t)&&Jr(t)==ut};function bs(t){return null!=t&&As(t.length)&&!xs(t)}function ws(t){return Cs(t)&&bs(t)}var Es=zn||Vu,_s=Be?yn(Be):function(t){return Cs(t)&&Jr(t)==H};function Ts(t){if(!Cs(t))return!1;var e=Jr(t);return e==W||e==q||"string"==typeof t.message&&"string"==typeof t.name&&!Ps(t)}function xs(t){if(!ks(t))return!1;var e=Jr(t);return e==X||e==Y||e==V||e==tt}function Ss(t){return"number"==typeof t&&t==zs(t)}function As(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=O}function ks(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Cs(t){return null!=t&&"object"==typeof t}var Is=ze?yn(ze):function(t){return Cs(t)&&za(t)==$};function Ns(t){return"number"==typeof t||Cs(t)&&Jr(t)==Z}function Ps(t){if(!Cs(t)||Jr(t)!=Q)return!1;var e=Pe(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==pe}var Ms=Ge?yn(Ge):function(t){return Cs(t)&&Jr(t)==et};var Rs=Ve?yn(Ve):function(t){return Cs(t)&&za(t)==nt};function Os(t){return"string"==typeof t||!ys(t)&&Cs(t)&&Jr(t)==rt}function Ls(t){return"symbol"==typeof t||Cs(t)&&Jr(t)==it}var Us=Ke?yn(Ke):function(t){return Cs(t)&&As(t.length)&&!!Ae[Jr(t)]};var Ds=ba(fi),js=ba((function(t,e){return t<=e}));function Fs(t){if(!t)return[];if(bs(t))return Os(t)?Mn(t):na(t);if(je&&t[je])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[je]());var e=za(t);return(e==$?An:e==nt?In:du)(t)}function Bs(t){return t?(t=Vs(t))===R||t===-R?(t<0?-1:1)*L:t==t?t:0:0===t?t:0}function zs(t){var e=Bs(t),n=e%1;return e==e?n?e-n:e:0}function Gs(t){return t?Or(zs(t),0,D):0}function Vs(t){if("number"==typeof t)return t;if(Ls(t))return U;if(ks(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ks(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ot,"");var n=Ht.test(t);return n||Wt.test(t)?Ne(t.slice(2),n?2:8):Kt.test(t)?U:+t}function Ks(t){return ra(t,au(t))}function Hs(t){return null==t?"":Ui(t)}var qs=aa((function(t,e){if($a(e)||bs(e))ra(e,iu(e),t);else for(var n in e)le.call(e,n)&&Cr(t,n,e[n])})),Ws=aa((function(t,e){ra(e,au(e),t)})),Xs=aa((function(t,e,n,r){ra(e,au(e),t,r)})),Ys=aa((function(t,e,n,r){ra(e,iu(e),t,r)})),$s=Ia(Rr);var Zs=Ti((function(t,e){t=ee(t);var n=-1,r=e.length,i=r>2?e[2]:a;for(i&&qa(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=au(o),u=-1,c=s.length;++u<c;){var l=s[u],f=t[l];(f===a||ds(f,se[l])&&!le.call(t,l))&&(t[l]=o[l])}return t})),Js=Ti((function(t){return t.push(a,Aa),He(su,a,t)}));function Qs(t,e,n){var r=null==t?a:$r(t,e);return r===a?n:r}function tu(t,e){return null!=t&&Ga(t,e,ei)}var eu=pa((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=n}),ku(Nu)),nu=pa((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]}),La),ru=Ti(ri);function iu(t){return bs(t)?Tr(t):ci(t)}function au(t){return bs(t)?Tr(t,!0):li(t)}var ou=aa((function(t,e,n){vi(t,e,n)})),su=aa((function(t,e,n,r){vi(t,e,n,r)})),uu=Ia((function(t,e){var n={};if(null==t)return n;var r=!1;e=Qe(e,(function(e){return e=qi(e,t),r||(r=e.length>1),e})),ra(t,Pa(t),n),r&&(n=Lr(n,h|d|p,ka));for(var i=e.length;i--;)ji(n,e[i]);return n}));var cu=Ia((function(t,e){return null==t?{}:function(t,e){return gi(t,e,(function(e,n){return tu(t,n)}))}(t,e)}));function lu(t,e){if(null==t)return{};var n=Qe(Pa(t),(function(t){return[t]}));return e=La(e),gi(t,n,(function(t,n){return e(t,n[0])}))}var fu=Ta(iu),hu=Ta(au);function du(t){return null==t?[]:gn(t,iu(t))}var pu=ca((function(t,e,n){return e=e.toLowerCase(),t+(n?vu(e):e)}));function vu(t){return Tu(Hs(t).toLowerCase())}function mu(t){return(t=Hs(t))&&t.replace(Yt,_n).replace(be,"")}var yu=ca((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),gu=ca((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),bu=ua("toLowerCase");var wu=ca((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Eu=ca((function(t,e,n){return t+(n?" ":"")+Tu(e)}));var _u=ca((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Tu=ua("toUpperCase");function xu(t,e,n){return t=Hs(t),(e=n?a:e)===a?function(t){return Te.test(t)}(t)?function(t){return t.match(Ee)||[]}(t):function(t){return t.match(Bt)||[]}(t):t.match(e)||[]}var Su=Ti((function(t,e){try{return He(t,a,e)}catch(t){return Ts(t)?t:new Jt(t)}})),Au=Ia((function(t,e){return We(e,(function(e){e=co(e),Mr(t,e,ns(t[e],t))})),t}));function ku(t){return function(){return t}}var Cu=ha(),Iu=ha(!0);function Nu(t){return t}function Pu(t){return ui("function"==typeof t?t:Lr(t,h))}var Mu=Ti((function(t,e){return function(n){return ri(n,t,e)}})),Ru=Ti((function(t,e){return function(n){return ri(t,n,e)}}));function Ou(t,e,n){var r=iu(e),i=Yr(e,r);null!=n||ks(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Yr(e,iu(e)));var a=!(ks(n)&&"chain"in n&&!n.chain),o=xs(t);return We(i,(function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),i=n.__actions__=na(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})})),t}function Lu(){}var Uu=ma(Qe),Du=ma(Ye),ju=ma(rn);function Fu(t){return Wa(t)?hn(co(t)):function(t){return function(e){return $r(e,t)}}(t)}var Bu=ga(),zu=ga(!0);function Gu(){return[]}function Vu(){return!1}var Ku=va((function(t,e){return t+e}),0),Hu=Ea("ceil"),qu=va((function(t,e){return t/e}),1),Wu=Ea("floor");var Xu,Yu=va((function(t,e){return t*e}),1),$u=Ea("round"),Zu=va((function(t,e){return t-e}),0);return dr.after=function(t,e){if("function"!=typeof e)throw new ie(u);return t=zs(t),function(){if(--t<1)return e.apply(this,arguments)}},dr.ary=ts,dr.assign=qs,dr.assignIn=Ws,dr.assignInWith=Xs,dr.assignWith=Ys,dr.at=$s,dr.before=es,dr.bind=ns,dr.bindAll=Au,dr.bindKey=rs,dr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ys(t)?t:[t]},dr.chain=Fo,dr.chunk=function(t,e,n){e=(n?qa(t,e,n):e===a)?1:Hn(zs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,u=r(jn(i/e));o<i;)u[s++]=Ni(t,o,o+=e);return u},dr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var a=t[e];a&&(i[r++]=a)}return i},dr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(ys(n)?na(n):[n],Kr(e,1))},dr.cond=function(t){var e=null==t?0:t.length,n=La();return t=e?Qe(t,(function(t){if("function"!=typeof t[1])throw new ie(u);return[n(t[0]),t[1]]})):[],Ti((function(n){for(var r=-1;++r<e;){var i=t[r];if(He(i[0],this,n))return He(i[1],this,n)}}))},dr.conforms=function(t){return function(t){var e=iu(t);return function(n){return Ur(n,t,e)}}(Lr(t,h))},dr.constant=ku,dr.countBy=Go,dr.create=function(t,e){var n=pr(t);return null==e?n:Pr(n,e)},dr.curry=function t(e,n,r){var i=xa(e,w,a,a,a,a,a,n=r?a:n);return i.placeholder=t.placeholder,i},dr.curryRight=function t(e,n,r){var i=xa(e,E,a,a,a,a,a,n=r?a:n);return i.placeholder=t.placeholder,i},dr.debounce=is,dr.defaults=Zs,dr.defaultsDeep=Js,dr.defer=as,dr.delay=os,dr.difference=ho,dr.differenceBy=po,dr.differenceWith=vo,dr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,(e=n||e===a?1:zs(e))<0?0:e,r):[]},dr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,0,(e=r-(e=n||e===a?1:zs(e)))<0?0:e):[]},dr.dropRightWhile=function(t,e){return t&&t.length?Bi(t,La(e,3),!0,!0):[]},dr.dropWhile=function(t,e){return t&&t.length?Bi(t,La(e,3),!0):[]},dr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&qa(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=zs(n))<0&&(n=-n>i?0:i+n),(r=r===a||r>i?i:zs(r))<0&&(r+=i),r=n>r?0:Gs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},dr.filter=function(t,e){return(ys(t)?$e:Vr)(t,La(e,3))},dr.flatMap=function(t,e){return Kr($o(t,e),1)},dr.flatMapDeep=function(t,e){return Kr($o(t,e),R)},dr.flatMapDepth=function(t,e,n){return n=n===a?1:zs(n),Kr($o(t,e),n)},dr.flatten=go,dr.flattenDeep=function(t){return(null==t?0:t.length)?Kr(t,R):[]},dr.flattenDepth=function(t,e){return(null==t?0:t.length)?Kr(t,e=e===a?1:zs(e)):[]},dr.flip=function(t){return xa(t,A)},dr.flow=Cu,dr.flowRight=Iu,dr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},dr.functions=function(t){return null==t?[]:Yr(t,iu(t))},dr.functionsIn=function(t){return null==t?[]:Yr(t,au(t))},dr.groupBy=Wo,dr.initial=function(t){return(null==t?0:t.length)?Ni(t,0,-1):[]},dr.intersection=wo,dr.intersectionBy=Eo,dr.intersectionWith=_o,dr.invert=eu,dr.invertBy=nu,dr.invokeMap=Xo,dr.iteratee=Pu,dr.keyBy=Yo,dr.keys=iu,dr.keysIn=au,dr.map=$o,dr.mapKeys=function(t,e){var n={};return e=La(e,3),Wr(t,(function(t,r,i){Mr(n,e(t,r,i),t)})),n},dr.mapValues=function(t,e){var n={};return e=La(e,3),Wr(t,(function(t,r,i){Mr(n,r,e(t,r,i))})),n},dr.matches=function(t){return di(Lr(t,h))},dr.matchesProperty=function(t,e){return pi(t,Lr(e,h))},dr.memoize=ss,dr.merge=ou,dr.mergeWith=su,dr.method=Mu,dr.methodOf=Ru,dr.mixin=Ou,dr.negate=us,dr.nthArg=function(t){return t=zs(t),Ti((function(e){return mi(e,t)}))},dr.omit=uu,dr.omitBy=function(t,e){return lu(t,us(La(e)))},dr.once=function(t){return es(2,t)},dr.orderBy=function(t,e,n,r){return null==t?[]:(ys(e)||(e=null==e?[]:[e]),ys(n=r?a:n)||(n=null==n?[]:[n]),yi(t,e,n))},dr.over=Uu,dr.overArgs=cs,dr.overEvery=Du,dr.overSome=ju,dr.partial=ls,dr.partialRight=fs,dr.partition=Zo,dr.pick=cu,dr.pickBy=lu,dr.property=Fu,dr.propertyOf=function(t){return function(e){return null==t?a:$r(t,e)}},dr.pull=xo,dr.pullAll=So,dr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,La(n,2)):t},dr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,a,n):t},dr.pullAt=Ao,dr.range=Bu,dr.rangeRight=zu,dr.rearg=hs,dr.reject=function(t,e){return(ys(t)?$e:Vr)(t,us(La(e,3)))},dr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;for(e=La(e,3);++r<a;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return wi(t,i),n},dr.rest=function(t,e){if("function"!=typeof t)throw new ie(u);return Ti(t,e=e===a?e:zs(e))},dr.reverse=ko,dr.sampleSize=function(t,e,n){return e=(n?qa(t,e,n):e===a)?1:zs(e),(ys(t)?Sr:Si)(t,e)},dr.set=function(t,e,n){return null==t?t:Ai(t,e,n)},dr.setWith=function(t,e,n,r){return r="function"==typeof r?r:a,null==t?t:Ai(t,e,n,r)},dr.shuffle=function(t){return(ys(t)?Ar:Ii)(t)},dr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&qa(t,e,n)?(e=0,n=r):(e=null==e?0:zs(e),n=n===a?r:zs(n)),Ni(t,e,n)):[]},dr.sortBy=Jo,dr.sortedUniq=function(t){return t&&t.length?Oi(t):[]},dr.sortedUniqBy=function(t,e){return t&&t.length?Oi(t,La(e,2)):[]},dr.split=function(t,e,n){return n&&"number"!=typeof n&&qa(t,e,n)&&(e=n=a),(n=n===a?D:n>>>0)?(t=Hs(t))&&("string"==typeof e||null!=e&&!Ms(e))&&!(e=Ui(e))&&Sn(t)?Xi(Mn(t),0,n):t.split(e,n):[]},dr.spread=function(t,e){if("function"!=typeof t)throw new ie(u);return e=null==e?0:Hn(zs(e),0),Ti((function(n){var r=n[e],i=Xi(n,0,e);return r&&tn(i,r),He(t,this,i)}))},dr.tail=function(t){var e=null==t?0:t.length;return e?Ni(t,1,e):[]},dr.take=function(t,e,n){return t&&t.length?Ni(t,0,(e=n||e===a?1:zs(e))<0?0:e):[]},dr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,(e=r-(e=n||e===a?1:zs(e)))<0?0:e,r):[]},dr.takeRightWhile=function(t,e){return t&&t.length?Bi(t,La(e,3),!1,!0):[]},dr.takeWhile=function(t,e){return t&&t.length?Bi(t,La(e,3)):[]},dr.tap=function(t,e){return e(t),t},dr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ie(u);return ks(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),is(t,e,{leading:r,maxWait:e,trailing:i})},dr.thru=Bo,dr.toArray=Fs,dr.toPairs=fu,dr.toPairsIn=hu,dr.toPath=function(t){return ys(t)?Qe(t,co):Ls(t)?[t]:na(uo(Hs(t)))},dr.toPlainObject=Ks,dr.transform=function(t,e,n){var r=ys(t),i=r||Es(t)||Us(t);if(e=La(e,4),null==n){var a=t&&t.constructor;n=i?r?new a:[]:ks(t)&&xs(a)?pr(Pe(t)):{}}return(i?We:Wr)(t,(function(t,r,i){return e(n,t,r,i)})),n},dr.unary=function(t){return ts(t,1)},dr.union=Co,dr.unionBy=Io,dr.unionWith=No,dr.uniq=function(t){return t&&t.length?Di(t):[]},dr.uniqBy=function(t,e){return t&&t.length?Di(t,La(e,2)):[]},dr.uniqWith=function(t,e){return e="function"==typeof e?e:a,t&&t.length?Di(t,a,e):[]},dr.unset=function(t,e){return null==t||ji(t,e)},dr.unzip=Po,dr.unzipWith=Mo,dr.update=function(t,e,n){return null==t?t:Fi(t,e,Hi(n))},dr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:a,null==t?t:Fi(t,e,Hi(n),r)},dr.values=du,dr.valuesIn=function(t){return null==t?[]:gn(t,au(t))},dr.without=Ro,dr.words=xu,dr.wrap=function(t,e){return ls(Hi(e),t)},dr.xor=Oo,dr.xorBy=Lo,dr.xorWith=Uo,dr.zip=Do,dr.zipObject=function(t,e){return Vi(t||[],e||[],Cr)},dr.zipObjectDeep=function(t,e){return Vi(t||[],e||[],Ai)},dr.zipWith=jo,dr.entries=fu,dr.entriesIn=hu,dr.extend=Ws,dr.extendWith=Xs,Ou(dr,dr),dr.add=Ku,dr.attempt=Su,dr.camelCase=pu,dr.capitalize=vu,dr.ceil=Hu,dr.clamp=function(t,e,n){return n===a&&(n=e,e=a),n!==a&&(n=(n=Vs(n))==n?n:0),e!==a&&(e=(e=Vs(e))==e?e:0),Or(Vs(t),e,n)},dr.clone=function(t){return Lr(t,p)},dr.cloneDeep=function(t){return Lr(t,h|p)},dr.cloneDeepWith=function(t,e){return Lr(t,h|p,e="function"==typeof e?e:a)},dr.cloneWith=function(t,e){return Lr(t,p,e="function"==typeof e?e:a)},dr.conformsTo=function(t,e){return null==e||Ur(t,e,iu(e))},dr.deburr=mu,dr.defaultTo=function(t,e){return null==t||t!=t?e:t},dr.divide=qu,dr.endsWith=function(t,e,n){t=Hs(t),e=Ui(e);var r=t.length,i=n=n===a?r:Or(zs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},dr.eq=ds,dr.escape=function(t){return(t=Hs(t))&&St.test(t)?t.replace(Tt,Tn):t},dr.escapeRegExp=function(t){return(t=Hs(t))&&Rt.test(t)?t.replace(Mt,"\\$&"):t},dr.every=function(t,e,n){var r=ys(t)?Ye:zr;return n&&qa(t,e,n)&&(e=a),r(t,La(e,3))},dr.find=Vo,dr.findIndex=mo,dr.findKey=function(t,e){return on(t,La(e,3),Wr)},dr.findLast=Ko,dr.findLastIndex=yo,dr.findLastKey=function(t,e){return on(t,La(e,3),Xr)},dr.floor=Wu,dr.forEach=Ho,dr.forEachRight=qo,dr.forIn=function(t,e){return null==t?t:Hr(t,La(e,3),au)},dr.forInRight=function(t,e){return null==t?t:qr(t,La(e,3),au)},dr.forOwn=function(t,e){return t&&Wr(t,La(e,3))},dr.forOwnRight=function(t,e){return t&&Xr(t,La(e,3))},dr.get=Qs,dr.gt=ps,dr.gte=vs,dr.has=function(t,e){return null!=t&&Ga(t,e,ti)},dr.hasIn=tu,dr.head=bo,dr.identity=Nu,dr.includes=function(t,e,n,r){t=bs(t)?t:du(t),n=n&&!r?zs(n):0;var i=t.length;return n<0&&(n=Hn(i+n,0)),Os(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},dr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:zs(n);return i<0&&(i=Hn(r+i,0)),un(t,e,i)},dr.inRange=function(t,e,n){return e=Bs(e),n===a?(n=e,e=0):n=Bs(n),function(t,e,n){return t>=qn(e,n)&&t<Hn(e,n)}(t=Vs(t),e,n)},dr.invoke=ru,dr.isArguments=ms,dr.isArray=ys,dr.isArrayBuffer=gs,dr.isArrayLike=bs,dr.isArrayLikeObject=ws,dr.isBoolean=function(t){return!0===t||!1===t||Cs(t)&&Jr(t)==K},dr.isBuffer=Es,dr.isDate=_s,dr.isElement=function(t){return Cs(t)&&1===t.nodeType&&!Ps(t)},dr.isEmpty=function(t){if(null==t)return!0;if(bs(t)&&(ys(t)||"string"==typeof t||"function"==typeof t.splice||Es(t)||Us(t)||ms(t)))return!t.length;var e=za(t);if(e==$||e==nt)return!t.size;if($a(t))return!ci(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},dr.isEqual=function(t,e){return ai(t,e)},dr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:a)?n(t,e):a;return r===a?ai(t,e,a,n):!!r},dr.isError=Ts,dr.isFinite=function(t){return"number"==typeof t&&Gn(t)},dr.isFunction=xs,dr.isInteger=Ss,dr.isLength=As,dr.isMap=Is,dr.isMatch=function(t,e){return t===e||oi(t,e,Da(e))},dr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:a,oi(t,e,Da(e),n)},dr.isNaN=function(t){return Ns(t)&&t!=+t},dr.isNative=function(t){if(Ya(t))throw new Jt(s);return si(t)},dr.isNil=function(t){return null==t},dr.isNull=function(t){return null===t},dr.isNumber=Ns,dr.isObject=ks,dr.isObjectLike=Cs,dr.isPlainObject=Ps,dr.isRegExp=Ms,dr.isSafeInteger=function(t){return Ss(t)&&t>=-O&&t<=O},dr.isSet=Rs,dr.isString=Os,dr.isSymbol=Ls,dr.isTypedArray=Us,dr.isUndefined=function(t){return t===a},dr.isWeakMap=function(t){return Cs(t)&&za(t)==ot},dr.isWeakSet=function(t){return Cs(t)&&Jr(t)==st},dr.join=function(t,e){return null==t?"":Vn.call(t,e)},dr.kebabCase=yu,dr.last=To,dr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==a&&(i=(i=zs(n))<0?Hn(r+i,0):qn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):sn(t,ln,i,!0)},dr.lowerCase=gu,dr.lowerFirst=bu,dr.lt=Ds,dr.lte=js,dr.max=function(t){return t&&t.length?Gr(t,Nu,Qr):a},dr.maxBy=function(t,e){return t&&t.length?Gr(t,La(e,2),Qr):a},dr.mean=function(t){return fn(t,Nu)},dr.meanBy=function(t,e){return fn(t,La(e,2))},dr.min=function(t){return t&&t.length?Gr(t,Nu,fi):a},dr.minBy=function(t,e){return t&&t.length?Gr(t,La(e,2),fi):a},dr.stubArray=Gu,dr.stubFalse=Vu,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=Yu,dr.nth=function(t,e){return t&&t.length?mi(t,zs(e)):a},dr.noConflict=function(){return Re._===this&&(Re._=ve),this},dr.noop=Lu,dr.now=Qo,dr.pad=function(t,e,n){t=Hs(t);var r=(e=zs(e))?Pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ya(Fn(i),n)+t+ya(jn(i),n)},dr.padEnd=function(t,e,n){t=Hs(t);var r=(e=zs(e))?Pn(t):0;return e&&r<e?t+ya(e-r,n):t},dr.padStart=function(t,e,n){t=Hs(t);var r=(e=zs(e))?Pn(t):0;return e&&r<e?ya(e-r,n)+t:t},dr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Xn(Hs(t).replace(Lt,""),e||0)},dr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&qa(t,e,n)&&(e=n=a),n===a&&("boolean"==typeof e?(n=e,e=a):"boolean"==typeof t&&(n=t,t=a)),t===a&&e===a?(t=0,e=1):(t=Bs(t),e===a?(e=t,t=0):e=Bs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Yn();return qn(t+i*(e-t+Ie("1e-"+((i+"").length-1))),e)}return Ei(t,e)},dr.reduce=function(t,e,n){var r=ys(t)?en:pn,i=arguments.length<3;return r(t,La(e,4),n,i,Fr)},dr.reduceRight=function(t,e,n){var r=ys(t)?nn:pn,i=arguments.length<3;return r(t,La(e,4),n,i,Br)},dr.repeat=function(t,e,n){return e=(n?qa(t,e,n):e===a)?1:zs(e),_i(Hs(t),e)},dr.replace=function(){var t=arguments,e=Hs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},dr.result=function(t,e,n){var r=-1,i=(e=qi(e,t)).length;for(i||(i=1,t=a);++r<i;){var o=null==t?a:t[co(e[r])];o===a&&(r=i,o=n),t=xs(o)?o.call(t):o}return t},dr.round=$u,dr.runInContext=t,dr.sample=function(t){return(ys(t)?xr:xi)(t)},dr.size=function(t){if(null==t)return 0;if(bs(t))return Os(t)?Pn(t):t.length;var e=za(t);return e==$||e==nt?t.size:ci(t).length},dr.snakeCase=wu,dr.some=function(t,e,n){var r=ys(t)?rn:Pi;return n&&qa(t,e,n)&&(e=a),r(t,La(e,3))},dr.sortedIndex=function(t,e){return Mi(t,e)},dr.sortedIndexBy=function(t,e,n){return Ri(t,e,La(n,2))},dr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Mi(t,e);if(r<n&&ds(t[r],e))return r}return-1},dr.sortedLastIndex=function(t,e){return Mi(t,e,!0)},dr.sortedLastIndexBy=function(t,e,n){return Ri(t,e,La(n,2),!0)},dr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Mi(t,e,!0)-1;if(ds(t[n],e))return n}return-1},dr.startCase=Eu,dr.startsWith=function(t,e,n){return t=Hs(t),n=null==n?0:Or(zs(n),0,t.length),e=Ui(e),t.slice(n,n+e.length)==e},dr.subtract=Zu,dr.sum=function(t){return t&&t.length?vn(t,Nu):0},dr.sumBy=function(t,e){return t&&t.length?vn(t,La(e,2)):0},dr.template=function(t,e,n){var r=dr.templateSettings;n&&qa(t,e,n)&&(e=a),t=Hs(t),e=Xs({},e,r,Sa);var i,o,s=Xs({},e.imports,r.imports,Sa),u=iu(s),c=gn(s,u),l=0,f=e.interpolate||$t,h="__p += '",d=ne((e.escape||$t).source+"|"+f.source+"|"+(f===Ct?Gt:$t).source+"|"+(e.evaluate||$t).source+"|$","g"),p="//# sourceURL="+(le.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Se+"]")+"\n";t.replace(d,(function(e,n,r,a,s,u){return r||(r=a),h+=t.slice(l,u).replace(Zt,xn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var v=le.call(e,"variable")&&e.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(bt,""):h).replace(wt,"$1").replace(Et,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Su((function(){return Qt(u,p+"return "+h).apply(a,c)}));if(m.source=h,Ts(m))throw m;return m},dr.times=function(t,e){if((t=zs(t))<1||t>O)return[];var n=D,r=qn(t,D);e=La(e),t-=D;for(var i=mn(r,e);++n<t;)e(n);return i},dr.toFinite=Bs,dr.toInteger=zs,dr.toLength=Gs,dr.toLower=function(t){return Hs(t).toLowerCase()},dr.toNumber=Vs,dr.toSafeInteger=function(t){return t?Or(zs(t),-O,O):0===t?t:0},dr.toString=Hs,dr.toUpper=function(t){return Hs(t).toUpperCase()},dr.trim=function(t,e,n){if((t=Hs(t))&&(n||e===a))return t.replace(Ot,"");if(!t||!(e=Ui(e)))return t;var r=Mn(t),i=Mn(e);return Xi(r,wn(r,i),En(r,i)+1).join("")},dr.trimEnd=function(t,e,n){if((t=Hs(t))&&(n||e===a))return t.replace(Ut,"");if(!t||!(e=Ui(e)))return t;var r=Mn(t);return Xi(r,0,En(r,Mn(e))+1).join("")},dr.trimStart=function(t,e,n){if((t=Hs(t))&&(n||e===a))return t.replace(Lt,"");if(!t||!(e=Ui(e)))return t;var r=Mn(t);return Xi(r,wn(r,Mn(e))).join("")},dr.truncate=function(t,e){var n=k,r=C;if(ks(e)){var i="separator"in e?e.separator:i;n="length"in e?zs(e.length):n,r="omission"in e?Ui(e.omission):r}var o=(t=Hs(t)).length;if(Sn(t)){var s=Mn(t);o=s.length}if(n>=o)return t;var u=n-Pn(r);if(u<1)return r;var c=s?Xi(s,0,u).join(""):t.slice(0,u);if(i===a)return c+r;if(s&&(u+=c.length-u),Ms(i)){if(t.slice(u).search(i)){var l,f=c;for(i.global||(i=ne(i.source,Hs(Vt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===a?u:h)}}else if(t.indexOf(Ui(i),u)!=u){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},dr.unescape=function(t){return(t=Hs(t))&&xt.test(t)?t.replace(_t,Rn):t},dr.uniqueId=function(t){var e=++fe;return Hs(t)+e},dr.upperCase=_u,dr.upperFirst=Tu,dr.each=Ho,dr.eachRight=qo,dr.first=bo,Ou(dr,(Xu={},Wr(dr,(function(t,e){le.call(dr.prototype,e)||(Xu[e]=t)})),Xu),{chain:!1}),dr.VERSION="4.17.15",We(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){dr[t].placeholder=dr})),We(["drop","take"],(function(t,e){yr.prototype[t]=function(n){n=n===a?1:Hn(zs(n),0);var r=this.__filtered__&&!e?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=qn(n,r.__takeCount__):r.__views__.push({size:qn(n,D),type:t+(r.__dir__<0?"Right":"")}),r},yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),We(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==P||3==n;yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:La(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),We(["head","last"],(function(t,e){var n="take"+(e?"Right":"");yr.prototype[t]=function(){return this[n](1).value()[0]}})),We(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[n](1)}})),yr.prototype.compact=function(){return this.filter(Nu)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=Ti((function(t,e){return"function"==typeof t?new yr(this):this.map((function(n){return ri(n,t,e)}))})),yr.prototype.reject=function(t){return this.filter(us(La(t)))},yr.prototype.slice=function(t,e){t=zs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new yr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==a&&(n=(e=zs(e))<0?n.dropRight(-e):n.take(e-t)),n)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(D)},Wr(yr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=dr[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(dr.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof yr,c=s[0],l=u||ys(e),f=function(t){var e=i.apply(dr,tn([t],s));return r&&h?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=u&&!d;if(!o&&l){e=v?e:new yr(this);var m=t.apply(e,s);return m.__actions__.push({func:Bo,args:[f],thisArg:a}),new mr(m,h)}return p&&v?t.apply(this,s):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),We(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ae[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);dr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ys(i)?i:[],t)}return this[n]((function(n){return e.apply(ys(n)?n:[],t)}))}})),Wr(yr.prototype,(function(t,e){var n=dr[e];if(n){var r=n.name+"";le.call(ir,r)||(ir[r]=[]),ir[r].push({name:e,func:n})}})),ir[da(a,g).name]=[{name:"wrapper",func:a}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=na(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=na(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=na(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ys(t),r=e<0,i=n?t.length:0,a=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=qn(e,t+o);break;case"takeRight":t=Hn(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=r?s:o-1,l=this.__iteratees__,f=l.length,h=0,d=qn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return zi(t,this.__actions__);var p=[];t:for(;u--&&h<d;){for(var v=-1,m=t[c+=e];++v<f;){var y=l[v],g=y.iteratee,b=y.type,w=g(m);if(b==M)m=w;else if(!w){if(b==P)continue t;break t}}p[h++]=m}return p},dr.prototype.at=zo,dr.prototype.chain=function(){return Fo(this)},dr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===a&&(this.__values__=Fs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?a:this.__values__[this.__index__++]}},dr.prototype.plant=function(t){for(var e,n=this;n instanceof vr;){var r=fo(n);r.__index__=0,r.__values__=a,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},dr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var e=t;return this.__actions__.length&&(e=new yr(this)),(e=e.reverse()).__actions__.push({func:Bo,args:[ko],thisArg:a}),new mr(e,this.__chain__)}return this.thru(ko)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return zi(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,je&&(dr.prototype[je]=function(){return this}),dr}();Re._=On,(i=function(){return On}.call(e,n,e,r))===a||(r.exports=i)}).call(this)}).call(this,n(28),n(29)(t))},function(t,e,n){var r=n(144),i=n(145),a=n(146);t.exports=function(t,e){return r(t)||i(t,e)||a()}},function(t,e,n){var r=n(18),i=n(17),a="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==a}},function(t,e,n){var r=n(156),i=n(17),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(163),i=n(164),a=n(165),o=n(166),s=n(167);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(61);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(23)(Object,"create");t.exports=r},function(t,e,n){var r=n(185);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(63),i=n(190),a=n(191);function o(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,t.exports=o},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(214),i=n(217)(r);t.exports=i},function(t,e,n){var r=n(47),i=n(222),a=n(223);t.exports=function(t,e){return a(i(t,e,r),t+"")}},function(t,e,n){var r=n(81),i=n(22),a=n(71),o=n(56),s=n(152),u=Math.max;t.exports=function(t,e,n,c){t=i(t)?t:s(t),n=n&&!c?o(n):0;var l=t.length;return n<0&&(n=u(l+n,0)),a(t)?n<=l&&t.indexOf(e,n)>-1:!!l&&r(t,e,n)>-1}},function(t,e,n){var r=n(24),i=n(32),a=n(213),o=n(13);t.exports=function(t,e){return(o(t)?r:a)(t,i(e,3))}},function(t,e){t.exports=function(t){return void 0===t}},,,function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var r=n(84);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){(function(t){var r=n(19),i=n(157),a=e&&!e.nodeType&&e,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(29)(t))},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(158),i=n(60),a=n(159),o=a&&a.isTypedArray,s=o?i(o):r;t.exports=s},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(23)(n(19),"Map");t.exports=r},function(t,e,n){var r=n(177),i=n(184),a=n(186),o=n(187),s=n(188);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(66),i=n(33);t.exports=function(t,e){for(var n=0,a=(e=r(e,t)).length;null!=t&&n<a;)t=t[i(e[n++])];return n&&n==a?t:void 0}},function(t,e,n){var r=n(13),i=n(67),a=n(205),o=n(100);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:a(o(t))}},function(t,e,n){var r=n(13),i=n(39),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(o.test(t)||!a.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(81);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(22),i=n(17);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(18),i=n(13),a=n(17),o="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&a(t)&&r(t)==o}},function(t,e,n){var r=n(65);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(228),i=n(48),a=n(229),o=n(13);t.exports=function(t,e){return(o(t)?r:i)(t,a(e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DiffEditor",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"ControlledEditor",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"monaco",{enumerable:!0,get:function(){return o.monaco}}),e.default=void 0;var r=s(n(260)),i=s(n(270)),a=s(n(273)),o=n(34);function s(t){return t&&t.__esModule?t:{default:t}}var u=r.default;e.default=u},function(t,e,n){"use strict";var r=n(35),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?o:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(e),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!(a[y]||r&&r[y]||v&&v[y]||s&&s[y])){var g=h(n,y);try{c(e,y,g)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";(function(t,r){var i,a=n(117);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var o=Object(a.a)(i);e.a=o}).call(this,n(28),n(137)(t))},function(t,e,n){(function(t,n){!function(){var r="undefined"!=typeof window?window:t,i={};for(var a in function(t,e){var r,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},a=void 0!==t&&t===this?this:void 0!==e&&null!=e?e:this;function o(){o=function(){},a.Symbol||(a.Symbol=u)}var s,u=(s=0,function(t){return"jscomp_symbol_"+(t||"")+s++});function c(){o();var t=a.Symbol.iterator;t||(t=a.Symbol.iterator=a.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&i(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return l(this)}}),c=function(){}}function l(t){var e=0;return f((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))}function f(t){return c(),(t={next:t})[a.Symbol.iterator]=function(){return this},t}function h(t){c();var e=t[Symbol.iterator];return e?e.call(t):l(t)}function d(t,e){if(e){for(var n=a,r=t.split("."),o=0;o<r.length-1;o++){var s=r[o];s in n||(n[s]={}),n=n[s]}(s=e(o=n[r=r[r.length-1]]))!=o&&null!=s&&i(n,r,{configurable:!0,writable:!0,value:s})}}function p(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(r,i){!function t(a){a.done?r(a.value):Promise.resolve(a.value).then(e,n).then(t,i)}(t.next())}))}(t())}d("Promise",(function(t){function e(t){this.b=0,this.g=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){null==this.a&&(this.a=[],this.f()),this.a.push(t)},n.prototype.f=function(){var t=this;this.c((function(){t.h()}))};var i=a.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.a=null},n.prototype.g=function(t){this.c((function(){throw t}))},e.prototype.c=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.s),reject:t(this.f)}},e.prototype.s=function(t){if(t===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.u(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.f(t)}"function"==typeof e?this.C(e,t):this.h(t)},e.prototype.f=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.g=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new n;return e.prototype.u=function(t){var e=this.c();t.ac(e.resolve,e.reject)},e.prototype.C=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){a(t)}}:e}var i,a,o=new e((function(t,e){i=t,a=e}));return this.ac(r(t,i),r(n,a)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.ac=function(t,e){function n(){switch(r.b){case 1:t(r.g);break;case 2:e(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=h(t),a=i.next();!a.done;a=i.next())r(a.value).ac(e,n)}))},e.all=function(t){var n=h(t),i=n.next();return i.done?r([]):new e((function(t,e){function a(e){return function(n){o[e]=n,0==--s&&t(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).ac(a(o.length-1),e),i=n.next()}while(!i.done)}))},e})),d("Promise.prototype.finally",(function(t){return t||function(t){return this.then((function(e){return Promise.resolve(t()).then((function(){return e}))}),(function(e){return Promise.resolve(t()).then((function(){throw e}))}))}}));var v,m="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)v=Object.setPrototypeOf;else{var y;t:{var g={};try{g.__proto__={oe:!0},y=g.oe;break t}catch(s){}y=!1}v=y?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var b=v;function w(){this.g=!1,this.c=null,this.o=void 0,this.j=1,this.b=this.f=0,this.i=this.a=null}function E(t){if(t.g)throw new TypeError("Generator is already running");t.g=!0}function _(t,e){t.a={Bd:e,Id:!0},t.j=t.f||t.b}function T(t,e,n){return t.j=n,{value:e}}function x(t){t.j=0}function S(t,e,n){t.f=e,null!=n&&(t.b=n)}function A(t,e){t.f=0,t.b=e||0}function k(t,e){t.j=e,t.f=0}function C(t){t.f=0;var e=t.a.Bd;return t.a=null,e}function I(t){t.i=[t.a],t.f=0,t.b=0}function N(t,e){var n=t.i.splice(0)[0];(n=t.a=t.a||n)?n.Id?t.j=t.f||t.b:null!=n.A&&t.b<n.A?(t.j=n.A,t.a=null):t.j=t.b:t.j=e}function P(t){this.a=new w,this.b=t}function M(t,e,n,r){try{var i=e.call(t.a.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.g=!1,i;var a=i.value}catch(e){return t.a.c=null,_(t.a,e),R(t)}return t.a.c=null,r.call(t.a,a),R(t)}function R(t){for(;t.a.j;)try{var e=t.b(t.a);if(e)return t.a.g=!1,{value:e.value,done:!1}}catch(e){t.a.o=void 0,_(t.a,e)}if(t.a.g=!1,t.a.a){if(e=t.a.a,t.a.a=null,e.Id)throw e.Bd;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function O(t){this.next=function(e){return E(t.a),t.a.c?e=M(t,t.a.c.next,e,t.a.h):(t.a.h(e),e=R(t)),e},this.throw=function(e){return E(t.a),t.a.c?e=M(t,t.a.c.throw,e,t.a.h):(_(t.a,e),e=R(t)),e},this.return=function(e){return function(t,e){E(t.a);var n=t.a.c;return n?M(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),R(t))}(t,e)},c(),this[Symbol.iterator]=function(){return this}}function L(t,e){return O.prototype=t.prototype,new O(new P(e))}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e,n){t instanceof String&&(t=String(t));for(var r=t.length,i=0;i<r;i++){var a=t[i];if(e.call(n,a,i,t))return{Fd:i,je:a}}return{Fd:-1,je:void 0}}function j(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}w.prototype.h=function(t){this.o=t},w.prototype.return=function(t){this.a={return:t},this.j=this.b},w.prototype.A=function(t){this.j=t},d("WeakMap",(function(t){function e(t){if(this.a=(s+=Math.random()+1).toString(),t){o(),c(),t=h(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(t){U(t,a)||i(t,a,{value:{}})}function r(t){var e=Object[t];e&&(Object[t]=function(t){return n(t),e(t)})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(t){return!1}}())return t;var a="$jscomp_hidden_"+Math.random();r("freeze"),r("preventExtensions"),r("seal");var s=0;return e.prototype.set=function(t,e){if(n(t),!U(t,a))throw Error("WeakMap key fail: "+t);return t[a][this.a]=e,this},e.prototype.get=function(t){return U(t,a)?t[a][this.a]:void 0},e.prototype.has=function(t){return U(t,a)&&U(t[a],this.a)},e.prototype.delete=function(t){return!(!U(t,a)||!U(t[a],this.a))&&delete t[a][this.a]},e})),d("Map",(function(t){function e(){var t={};return t.Fa=t.next=t.head=t}function n(t,e){var n=t.a;return f((function(){if(n){for(;n.head!=t.a;)n=n.Fa;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}}))}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?a.has(e)?n=a.get(e):(n=""+ ++s,a.set(e,n)):n="p_"+e;var r=t.b[n];if(r&&U(t.b,n))for(var i=0;i<r.length;i++){var o=r[i];if(e!=e&&o.key!=o.key||e===o.key)return{id:n,list:r,index:i,X:o}}return{id:n,list:r,index:-1,X:void 0}}function i(t){if(this.b={},this.a=e(),this.size=0,t){t=h(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(h([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(t){return!1}}())return t;o(),c();var a=new WeakMap;i.prototype.set=function(t,e){var n=r(this,t);return n.list||(n.list=this.b[n.id]=[]),n.X?n.X.value=e:(n.X={next:this.a,Fa:this.a.Fa,head:this.a,key:t,value:e},n.list.push(n.X),this.a.Fa.next=n.X,this.a.Fa=n.X,this.size++),this},i.prototype.delete=function(t){return!(!(t=r(this,t)).X||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.b[t.id],t.X.Fa.next=t.X.next,t.X.next.Fa=t.X.Fa,t.X.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.Fa=e(),this.size=0},i.prototype.has=function(t){return!!r(this,t).X},i.prototype.get=function(t){return(t=r(this,t).X)&&t.value},i.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},i.prototype.keys=function(){return n(this,(function(t){return t.key}))},i.prototype.values=function(){return n(this,(function(t){return t.value}))},i.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var s=0;return i})),d("Set",(function(t){function e(t){if(this.a=new Map,t){t=h(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.a.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(h([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&(!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(t){return!1}}()?t:(o(),c(),e.prototype.add=function(t){return this.a.set(t,t),this.size=this.a.size,this},e.prototype.delete=function(t){return t=this.a.delete(t),this.size=this.a.size,t},e.prototype.clear=function(){this.a.clear(),this.size=0},e.prototype.has=function(t){return this.a.has(t)},e.prototype.entries=function(){return this.a.entries()},e.prototype.values=function(){return this.a.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.a.forEach((function(r){return t.call(e,r,r,n)}))},e)})),d("Array.prototype.findIndex",(function(t){return t||function(t,e){return D(this,t,e).Fd}})),d("Array.prototype.keys",(function(t){return t||function(){return function(t,e){c(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,(function(t){return t}))}})),d("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),d("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=e||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var a=n[i];if(a===t||Object.is(a,t))return!0}return!1}})),d("String.prototype.includes",(function(t){return t||function(t,e){return-1!==j(this,t,"includes").indexOf(t,e||0)}})),d("Array.from",(function(t){return t||function(t,e,n){c(),e=null!=e?e:function(t){return t};var r=[],i=t[Symbol.iterator];if("function"==typeof i)for(t=i.call(t);!(i=t.next()).done;)r.push(e.call(n,i.value));else{i=t.length;for(var a=0;a<i;a++)r.push(e.call(n,t[a]))}return r}})),d("String.prototype.startsWith",(function(t){return t||function(t,e){for(var n=j(this,t,"startsWith"),r=n.length,i=t.length,a=Math.max(0,Math.min(0|e,n.length)),o=0;o<i&&a<r;)if(n[a++]!=t[o++])return!1;return o>=i}})),d("Array.prototype.find",(function(t){return t||function(t,e){return D(this,t,e).je}}));var F="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)U(r,i)&&(t[i]=r[i])}return t};d("Object.assign",(function(t){return t||F}));var B=this;function z(t,e){var n,r=t.split("."),i=B;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===e?i=i[n]?i[n]:i[n]={}:i[n]=e}function G(t,e){function n(){}n.prototype=e.prototype,t.dg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.rg=function(t,n,r){return e.prototype[n].apply(t,Array.prototype.slice.call(arguments,2))}}function V(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function K(t,e,n){var r=Math.pow(t.c,e);n=n*(1-r)+r*t.a,isNaN(n)||(t.a=n,t.b+=e)}function H(t){return t.a/(1-Math.pow(t.c,t.b))}function q(){this.b=new V(2),this.c=new V(5),this.a=0}function W(){}function X(){}function Y(){}B.a=!0,q.prototype.getBandwidthEstimate=function(t){return 128e3>this.a?t:Math.min(H(this.b),H(this.c))},t.console&&t.console.log.bind&&(X=console.warn.bind(console),W=console.error.bind(console));var $=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Z(t){var e;t instanceof Z?(J(this,t.ta),this.bb=t.bb,this.sa=t.sa,Q(this,t.zb),this.ja=t.ja,tt(this,t.a.clone()),this.Sa=t.Sa):t&&(e=String(t).match($))?(J(this,e[1]||"",!0),this.bb=et(e[2]||""),this.sa=et(e[3]||"",!0),Q(this,e[4]),this.ja=et(e[5]||"",!0),tt(this,e[6]||"",!0),this.Sa=et(e[7]||"")):this.a=new ct(null)}function J(t,e,n){t.ta=n?et(e,!0):e,t.ta&&(t.ta=t.ta.replace(/:$/,""))}function Q(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.zb=e}else t.zb=null}function tt(t,e,n){e instanceof ct?t.a=e:(n||(e=nt(e,st)),t.a=new ct(e))}function et(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function nt(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rt(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=Z.prototype).ta="",r.bb="",r.sa="",r.zb=null,r.ja="",r.Sa="",r.toString=function(){var t=[],e=this.ta;if(e&&t.push(nt(e,it,!0),":"),e=this.sa){t.push("//");var n=this.bb;n&&t.push(nt(n,it,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.zb)&&t.push(":",String(e))}return(e=this.ja)&&(this.sa&&"/"!=e.charAt(0)&&t.push("/"),t.push(nt(e,"/"==e.charAt(0)?ot:at,!0))),(e=this.a.toString())&&t.push("?",e),(e=this.Sa)&&t.push("#",nt(e,ut)),t.join("")},r.resolve=function(t){var e=this.clone();"data"===e.ta&&(e=new Z);var n=!!t.ta;n?J(e,t.ta):n=!!t.bb,n?e.bb=t.bb:n=!!t.sa,n?e.sa=t.sa:n=null!=t.zb;var r=t.ja;if(n)Q(e,t.zb);else if(n=!!t.ja){if("/"!=r.charAt(0))if(this.sa&&!this.ja)r="/"+r;else{var i=e.ja.lastIndexOf("/");-1!=i&&(r=e.ja.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?e.ja=r:n=""!==t.a.toString(),n?tt(e,t.a.clone()):n=!!t.Sa,n&&(e.Sa=t.Sa),e},r.clone=function(){return new Z(this)};var it=/[#\/\?@]/g,at=/[#\?:]/g,ot=/[#\?]/g,st=/[#\?@]/g,ut=/#/g;function ct(t){this.a=t||null}function lt(t){this.b=t,this.a=null}function ft(t){this.b=t,this.a=null}function ht(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.i=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.f=null==t.baseDelay?n.baseDelay:t.baseDelay,this.h=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.g=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==e&&e)&&(this.a=1)}function dt(t){return p((function e(){var n,r;return L(e,(function(e){switch(e.j){case 1:if(t.a>=t.i){if(!t.c)return e.return(Promise.reject());t.a=1,t.b=t.f}return n=t.a,t.a++,0==n?e.return():(r=t.b*(1+(2*Math.random()-1)*t.h),T(e,new Promise((function(t){new ft(t).P(r/1e3)})),2));case 2:t.b*=t.g,x(e)}}))}))}function pt(t,e,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=t,this.category=e,this.code=n,this.data=i,this.handled=!1}function vt(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function mt(t,e){this.promise=t,this.Ld=e,this.a=!1}function yt(t){return new mt(Promise.reject(t),(function(){return Promise.resolve()}))}function gt(){var t=Promise.reject(new pt(2,7,7001));return t.catch((function(){})),new mt(t,(function(){return Promise.resolve()}))}function bt(t){return new mt(Promise.resolve(t),(function(){return Promise.resolve()}))}function wt(t){return new mt(t,(function(){return t.catch((function(){}))}))}function Et(t){return new mt(Promise.all(t.map((function(t){return t.promise}))),(function(){return Promise.all(t.map((function(t){return t.abort()})))}))}function _t(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){})).catch((function(){}))})}catch(t){return n.reject(t),function(){return Promise.resolve()}}}function Tt(e,n){for(var r in n=void 0===n?{}:n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function xt(){this.a={}}function St(){this.Ec=new xt,this.Yb=this}function At(t){var e=new Set;return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(e.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;e.add(n);var i,a=r?[]:{};for(i in n)a[i]=t(n[i]);return r&&(a.length=n.length),a}}(t)}function kt(t,e){return!("number"!=typeof t||"number"!=typeof e||!isNaN(t)||!isNaN(e))||t===e}function Ct(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function It(t,e,n){if(n||(n=kt),t.length!=e.length)return!1;e=e.slice();for(var r={},i=(t=h(t)).next();!i.done;r={item:r.item},i=t.next()){if(r.item=i.value,-1==(i=e.findIndex(function(t){return function(e){return n(t.item,e)}}(r))))return!1;e[i]=e[e.length-1],e.pop()}return 0==e.length}function Nt(){this.a=[]}function Pt(t,e){t.a.push(e.finally((function(){Ct(t.a,e)})))}function Mt(t){St.call(this),this.f=!1,this.g=new Nt,this.a=new Set,this.b=new Set,this.c=t||null}(r=ct.prototype).ha=null,r.cc=null,r.add=function(t,e){if(!this.ha&&(this.ha={},this.cc=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(n=this.ha.hasOwnProperty(t)&&this.ha[t])||(this.ha[t]=n=[]),n.push(e),this.cc++,this},r.toString=function(){if(this.a)return this.a;if(!this.ha)return"";var t,e=[];for(t in this.ha)for(var n=encodeURIComponent(t),r=this.ha[t],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),e.push(a)}return this.a=e.join("&")},r.clone=function(){var t=new ct;if(t.a=this.a,this.ha){var e,n={};for(e in this.ha)n[e]=this.ha[e].concat();t.ha=n,t.cc=this.cc}return t},lt.prototype.P=function(e){var n=this;this.stop();var r=!0,i=null;return this.a=function(){t.clearTimeout(i),r=!1},i=t.setTimeout((function(){r&&n.b()}),1e3*e),this},lt.prototype.stop=function(){this.a&&(this.a(),this.a=null)},z("shaka.util.Timer",ft),ft.prototype.tc=function(){return this.stop(),this.b(),this},ft.prototype.tickNow=ft.prototype.tc,ft.prototype.P=function(t){var e=this;return this.stop(),this.a=new lt((function(){e.b()})).P(t),this},ft.prototype.tickAfter=ft.prototype.P,ft.prototype.Na=function(t){var e=this;return this.stop(),this.a=new lt((function(){e.a.P(t),e.b()})).P(t),this},ft.prototype.tickEvery=ft.prototype.Na,ft.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},ft.prototype.stop=ft.prototype.stop,z("shaka.util.Error",pt),pt.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},pt.Severity={RECOVERABLE:1,CRITICAL:2},pt.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},pt.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,CAST_RECEIVER_APP_ID_MISSING:8007,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},vt.prototype.resolve=function(){},vt.prototype.reject=function(){},z("shaka.util.AbortableOperation",mt),mt.failed=yt,mt.aborted=gt,mt.completed=bt,mt.notAbortable=wt,mt.prototype.abort=function(){return this.a=!0,this.Ld()},mt.prototype.abort=mt.prototype.abort,mt.all=Et,mt.prototype.finally=function(t){return this.promise.then((function(){return t(!0)}),(function(){return t(!1)})),this},mt.prototype.finally=mt.prototype.finally,mt.prototype.U=function(t,e){function n(){return i.reject(new pt(2,7,7001)),r.abort()}var r=this,i=new vt;return this.promise.then((function(e){r.a?i.reject(new pt(2,7,7001)):t?n=_t(t,e,i):i.resolve(e)}),(function(t){e?n=_t(e,t,i):i.reject(t)})),new mt(i,(function(){return n()}))},mt.prototype.chain=mt.prototype.U,Tt.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Tt.prototype.stopImmediatePropagation=function(){this.a=!0},Tt.prototype.stopPropagation=function(){},(r=xt.prototype).push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},r.get=function(t){return(t=this.a[t])?t.slice():null},r.getAll=function(){var t,e=[];for(t in this.a)e.push.apply(e,this.a[t]);return e},r.remove=function(t,e){var n=this.a[t];if(n)for(var r=0;r<n.length;++r)n[r]==e&&(n.splice(r,1),--r)},r.forEach=function(t){for(var e in this.a)t(e,this.a[e])},St.prototype.addEventListener=function(t,e){this.Ec.push(t,e)},St.prototype.removeEventListener=function(t,e){this.Ec.remove(t,e)},St.prototype.dispatchEvent=function(t){for(var e=this.Ec.get(t.type)||[],n=0;n<e.length;++n){t.target=this.Yb,t.currentTarget=this.Yb;var r=e[n];try{r.handleEvent?r.handleEvent(t):r.call(this,t)}catch(t){}if(t.a)break}return t.defaultPrevented},Nt.prototype.destroy=function(){var t=[];return this.a.forEach((function(e){e.promise.catch((function(){})),t.push(e.abort())})),this.a=[],Promise.all(t)},G(Mt,St),z("shaka.net.NetworkingEngine",Mt),Mt.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4},Mt.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var Rt={};function Ot(t,e,n){n=n||3;var r=Rt[t];(!r||n>=r.priority)&&(Rt[t]={priority:n,Bf:e})}function Lt(t,e){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null,sessionId:null}}function Ut(){this.a=0}function Dt(t,e,n){mt.call(this,t,e),this.b=n}Mt.registerScheme=Ot,Mt.unregisterScheme=function(t){delete Rt[t]},Mt.prototype.Df=function(t){this.a.add(t)},Mt.prototype.registerRequestFilter=Mt.prototype.Df,Mt.prototype.fg=function(t){this.a.delete(t)},Mt.prototype.unregisterRequestFilter=Mt.prototype.fg,Mt.prototype.we=function(){this.a.clear()},Mt.prototype.clearAllRequestFilters=Mt.prototype.we,Mt.prototype.Ef=function(t){this.b.add(t)},Mt.prototype.registerResponseFilter=Mt.prototype.Ef,Mt.prototype.gg=function(t){this.b.delete(t)},Mt.prototype.unregisterResponseFilter=Mt.prototype.gg,Mt.prototype.xe=function(){this.b.clear()},Mt.prototype.clearAllResponseFilters=Mt.prototype.xe,Mt.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},Mt.makeRequest=Lt,Mt.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},Mt.prototype.destroy=Mt.prototype.destroy,Mt.prototype.request=function(t,e){var n=this,r=new Ut;if(this.f){var i=Promise.reject(new pt(2,7,7001));return i.catch((function(){})),new Dt(i,(function(){return Promise.resolve()}),r)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?At(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},e.uris=At(e.uris);var a=(i=function(t,e,n){for(var r=bt(void 0),i={},a=(t=h(t.a)).next();!a.done;i={kd:i.kd},a=t.next())i.kd=a.value,r=r.U(function(t){return function(){return t.kd(e,n)}}(i));return r.U(void 0,(function(t){if(t&&7001==t.code)throw t;throw new pt(2,1,1006,t)}))}(this,t,e)).U((function(){return function t(e,n,r,i,a,o,s){var u=new Z(r.uris[a]),c=u.ta,l=!1;c||(c=location.protocol,c=c.slice(0,-1),J(u,c),r.uris[a]=u.toString());c=c.toLowerCase();var f=(c=Rt[c])?c.Bf:null;if(!f)return yt(new pt(2,1,1e3,u));var h;return wt(dt(i)).U((function(){return e.f?gt():(h=Date.now(),f(r.uris[a],r,n,(function(t,r,i){e.c&&1==n&&(e.c(t,r),l=!0,s.a=i)})))})).U((function(t){return null==t.timeMs&&(t.timeMs=Date.now()-h),{response:t,af:l}}),(function(u){if(u&&7001==u.code)throw u;if(e.f)return gt();if(u&&1==u.severity)return e.dispatchEvent(new Tt("retry",{error:u instanceof pt?u:null})),a=(a+1)%r.uris.length,t(e,n,r,i,a,u,s);throw u||o}))}(n,t,e,new ht(e.retryParameters,!1),0,null,r)})),o=a.U((function(e){return function(t,e,n){for(var r=bt(void 0),i=(t=h(t.b)).next();!i.done;i=t.next())r=r.U(i.value.bind(null,e,n.response));return r.U((function(){return n}),(function(t){if(t&&7001==t.code)throw t;var e=2;throw t instanceof pt&&(e=t.severity),new pt(e,1,1007,t)}))}(n,t,e)})),s=Date.now(),u=0;i.promise.then((function(){u=Date.now()-s}),(function(){}));var c=0;return a.promise.then((function(){c=Date.now()}),(function(){})),i=new Dt((i=o.U((function(e){var r=Date.now()-c,i=e.response;return i.timeMs+=u,i.timeMs+=r,e.af||!n.c||i.fromCache||1!=t||n.c(i.timeMs,i.data.byteLength),i}),(function(t){throw t&&(t.severity=2),t}))).promise,i.Ld,r),Pt(this.g,i),i},Mt.prototype.request=Mt.prototype.request,Mt.NumBytesRemainingClass=Ut;var jt=Dt;if(jt.prototype=m(mt.prototype),jt.prototype.constructor=jt,b)b(jt,mt);else for(var Ft in mt)if("prototype"!=Ft)if(Object.defineProperties){var Bt=Object.getOwnPropertyDescriptor(mt,Ft);Bt&&Object.defineProperty(jt,Ft,Bt)}else jt[Ft]=mt[Ft];function zt(){}function Gt(){this.a=new xt}function Vt(t,e,n,r){this.target=t,this.type=e,this.listener=n,this.a=function(t,e){if(null==e)return!1;if("boolean"==typeof e)return e;var n=new Set(["passive","capture"]);return Object.keys(e).filter((function(t){return!n.has(t)})),function(t){var e=Kt;if(null==e){e=!1;try{var n={},r={get:function(){return e=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},t.addEventListener("test",r,n),t.removeEventListener("test",r,n)}catch(t){e=!1}Kt=e}return e||!1}(t)?e:e.capture||!1}(t,r),this.target.addEventListener(e,n,this.a)}jt.dg=mt.prototype,Mt.PendingRequest=Dt,Dt.all=Et,Dt.notAbortable=wt,Dt.completed=bt,Dt.aborted=gt,Dt.failed=yt,z("shaka.util.IReleasable",zt),zt.prototype.release=function(){},z("shaka.util.EventManager",Gt),Gt.prototype.release=function(){this.$a(),this.a=null},Gt.prototype.release=Gt.prototype.release,Gt.prototype.w=function(t,e,n,r){this.a&&(t=new Vt(t,e,n,r),this.a.push(e,t))},Gt.prototype.listen=Gt.prototype.w,Gt.prototype.da=function(t,e,n,r){var i=this;this.w(t,e,(function r(a){i.ea(t,e,r),n(a)}),r)},Gt.prototype.listenOnce=Gt.prototype.da,Gt.prototype.ea=function(t,e,n){if(this.a)for(var r=this.a.get(e)||[],i=(r=h(r)).next();!i.done;i=r.next())(i=i.value).target!=t||n!=i.listener&&n||(i.ea(),this.a.remove(e,i))},Gt.prototype.unlisten=Gt.prototype.ea,Gt.prototype.$a=function(){if(this.a){for(var t=this.a.getAll(),e=(t=h(t)).next();!e.done;e=t.next())e.value.ea();this.a.a={}}},Gt.prototype.removeAll=Gt.prototype.$a,Vt.prototype.ea=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1},Vt.prototype.unlisten=Vt.prototype.ea;var Kt=void 0;function Ht(t){if(t=new Uint8Array(t),new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(0,!0)+4!=t.byteLength)throw new RangeError("Malformed FairPlay init data");return new Z(t=se(t.subarray(4),!0)).sa}function qt(t,e,n){function r(t){new DataView(a.buffer).setUint32(o,t.byteLength,!0),o+=4,i(t)}function i(t){a.set(t,o),o+=t.byteLength}if(!n||!n.byteLength)throw new pt(2,6,6015);e="string"==typeof e?new Uint8Array(le(e,!0)):new Uint8Array(e);var a=new Uint8Array(8+t.byteLength+e.byteLength+n.byteLength),o=0;return i(new Uint8Array(t)),r(e),r(new Uint8Array(n)),a}function Wt(t,e){for(var n=h(t),r=n.next();!r.done;r=n.next())if(!e(r.value))return!1;return!0}function Xt(t){var e=new Map;return Object.keys(t).forEach((function(n){e.set(n,t[n])})),e}function Yt(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}function $t(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}function Zt(t){var e=(t=t.split("."))[0];return t.pop(),[e,t.join(".")]}z("shaka.util.FairPlayUtils.defaultGetContentId",Ht),z("shaka.util.FairPlayUtils.initDataTransform",qt);var Jt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Qt(){return!(!t.MediaSource||!MediaSource.isTypeSupported)}function te(t){return""!=re().canPlayType(t)}function ee(){if(!navigator.vendor||!navigator.vendor.includes("Apple"))return null;var t=navigator.userAgent.match(/Version\/(\d+)/);return t?parseInt(t[1],10):(t=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(t[1],10):null}function ne(t){return(navigator.userAgent||"").includes(t)}function re(){return ae||(ie||(ie=new ft((function(){ae=null}))),(ae=document.querySelector("video")||document.querySelector("audio"))||(ae=document.createElement("video")),ie.P(1),ae)}var ie=null,ae=null;function oe(t){if(!t)return"";239==(t=new Uint8Array(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=fe(t),t=escape(t);try{return decodeURIComponent(t)}catch(t){throw new pt(2,2,2004)}}function se(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new pt(2,2,2004);if(t instanceof ArrayBuffer)var r=t;else(n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),r=n.buffer;t=Math.floor(t.byteLength/2),n=new Uint16Array(t),r=new DataView(r);for(var i=0;i<t;i++)n[i]=r.getUint16(2*i,e);return fe(n)}function ue(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return oe(e);if(254==e[0]&&255==e[1])return se(e.subarray(2),!1);if(255==e[0]&&254==e[1])return se(e.subarray(2),!0);var n=function(t,e){return t.byteLength<=e||32<=t[e]&&126>=t[e]}.bind(null,e);if(0==e[0]&&0==e[2])return se(t,!1);if(0==e[1]&&0==e[3])return se(t,!0);if(n(0)&&n(1)&&n(2)&&n(3))return oe(t);throw new pt(2,2,2003)}function ce(t){t=encodeURIComponent(t),t=unescape(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e.buffer}function le(t,e){for(var n=new Uint8Array(2*t.length),r=new DataView(n.buffer),i=0;i<t.length;++i)r.setUint16(2*i,t.charCodeAt(i),e);return n.buffer}function fe(t){if(!he)for(var e={size:65536};0<e.size;(e={size:e.size}).size/=2){try{new Uint8Array(e.size);var n=!0}catch(t){n=!1}if(n){he=function(t){return function(e){for(var n="",r=0;r<e.length;r+=t.size)n+=String.fromCharCode.apply(null,e.subarray(r,r+t.size));return n}}(e);break}}return he(t)}z("shaka.util.StringUtils.fromUTF8",oe),z("shaka.util.StringUtils.fromUTF16",se),z("shaka.util.StringUtils.fromBytesAutoDetect",ue),z("shaka.util.StringUtils.toUTF8",ce),z("shaka.util.StringUtils.toUTF16",le);var he=null,de={uc:function(e,n){var r=fe(e);return n=null==n||n,r=t.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}};function pe(t){var e=this;this.C=t,this.u=new Set,this.h=this.l=null,this.S=!1,this.K=0,this.a=null,this.i=new Gt,this.b=new Map,this.s=[],this.m=new vt,this.f=null,this.g=function(n){e.m.reject(n),t.onError(n)},this.pa=new Map,this.W=new Map,this.R=new ft((function(){return function(t){var e=t.pa,n=t.W;n.clear(),e.forEach((function(t,e){return n.set(e,t)})),(e=Array.from(n.values())).length&&e.every((function(t){return"expired"==t}))&&t.g(new pt(2,6,6014)),t.C.mc(Yt(n))}(e)})),this.c=!1,this.na=new vt,this.D=!1,this.F=[],this.oa=!1,this.$=new ft((function(){!function(t){t.b.forEach((function(e,n){var r=e.bd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.C.onExpirationUpdated(n.sessionId,i),e.bd=i)}))}(e)})).Na(1),this.m.catch((function(){}))}function ve(t,e,n){return t.s=n,t.D=0<n.length,me(t,e)}function me(e,n){var r=function(e){if(0==(e=Xt(e.f.clearKeys)).size)return null;var n=[],r=[];e.forEach((function(t,e){var i=de.Lc(e),a=de.Lc(t);i={kty:"oct",kid:de.uc(i,!1),k:de.uc(a,!1)},n.push(i),r.push(i.kid)})),e=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:new Uint8Array(ce(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}(e);if(r)for(var i=h(n),a=i.next();!a.done;a=i.next())a.value.drmInfos=[r];for((r=n.some((function(t){return 0<t.drmInfos.length})))||function(t,e){var n=[];e.forEach((function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var r=h(t),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}(n,a=Xt(e.f.servers)),a=(i=h(n)).next();!a.done;a=i.next())for(var o=(a=h(a.value.drmInfos)).next();!o.done;o=a.next())Re(o.value,Xt(e.f.servers),Xt(e.f.advanced||{}));return(a=function(t,e){for(var n=new Set,r=h(e),i=r.next();!i.done;i=r.next()){var a=h(i.value.drmInfos);for(i=a.next();!i.done;i=a.next())n.add(i.value)}for(r=h(n),i=r.next();!i.done;i=r.next())Re(i.value,Xt(t.f.servers),Xt(t.f.advanced||{}));a=t.D?"required":"optional";var o=t.D?["persistent-license"]:["temporary"];for(r=new Map,n=h(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(n=h(e),i=n.next();!i.done;i=n.next()){i=i.value,a=i.audio,o=i.video;var s=a?$t(a.mimeType,a.codecs):"",u=o?$t(o.mimeType,o.codecs):"",c=h(i.drmInfos);for(i=c.next();!i.done;i=c.next()){i=i.value;var l=r.get(i.keySystem);l.drmInfos.push(i),i.distinctiveIdentifierRequired&&(l.distinctiveIdentifier="required"),i.persistentStateRequired&&(l.persistentState="required"),a&&l.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:s}),o&&l.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:u})}}return r}(e,n)).size?(a=Te(e,a),r?a:a.catch((function(){}))):(e.S=!0,Promise.resolve())}function ye(t){return p((function e(){var n;return L(e,(function(e){switch(e.j){case 1:if(!(t.l&&t.a&&t.a.serverCertificate&&t.a.serverCertificate.length)){e.A(0);break}return S(e,3),T(e,t.l.setServerCertificate(t.a.serverCertificate),5);case 5:k(e,0);break;case 3:return n=C(e),e.return(Promise.reject(new pt(2,6,6004,n.message)))}}))}))}function ge(t){var e=t.a?t.a.initData:[];return e.forEach((function(e){return Se(t,e.initDataType,e.initData)})),t.s.forEach((function(e){return xe(t,e)})),e.length||t.s.length||t.m.resolve(),t.m}function be(t,e,n){for(var r=t.b.values(),i=(r=h(r)).next();!i.done;i=r.next())if(de.za(n,i.value.initData))return;Se(t,e,n)}function we(t){return t?t.keySystem:""}function Ee(t,e){return!!ne("Edge/")||t.u.has(e)}function _e(t){return t=function(t,e){for(var n=[],r=h(t),i=r.next();!i.done;i=r.next())n.push(e(i.value));return n}(t=t.b.keys(),(function(t){return t.sessionId})),Array.from(t)}function Te(t,e){if(1==e.size&&e.has(""))return Promise.reject(new pt(2,6,6e3));for(var n=h(e.values()),r=n.next();!r.done;r=n.next())0==(r=r.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var i=n=new vt;return[!0,!1].forEach(function(t){var n=this;e.forEach((function(e,r){e.drmInfos.some((function(t){return!!t.licenseServerUri}))==t&&(i=i.catch(function(){if(!this.c)return navigator.requestMediaKeySystemAccess(r,[e])}.bind(n)))}))}.bind(t)),i=(i=i.catch((function(){return Promise.reject(new pt(2,6,6001))}))).then(function(t){if(this.c)return Promise.reject();this.u.clear();var n=t.getConfiguration(),r=n.videoCapabilities||[],i=h(n.audioCapabilities||[]);for(n=i.next();!n.done;n=i.next())this.u.add(n.value.contentType);for(n=(r=h(r)).next();!n.done;n=r.next())this.u.add(n.value.contentType);r=t.keySystem,i=[];var a=[],o=[],s=[];return function(t,e,n,r,i){t.forEach((function(t){if(e.includes(t.licenseServerUri)||e.push(t.licenseServerUri),t.serverCertificate&&(n.some((function(e){return de.za(e,t.serverCertificate)}))||n.push(t.serverCertificate)),t.initData&&t.initData.forEach((function(t){r.some((function(e){return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&de.za(e.initData,t.initData)}))||r.push(t)})),t.keyIds)for(var a=0;a<t.keyIds.length;++a)i.includes(t.keyIds[a])||i.push(t.keyIds[a])}))}((n=e.get(t.keySystem)).drmInfos,i,a,o,s),this.a={keySystem:r,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:(n.audioCapabilities?n.audioCapabilities[0].robustness:"")||"",videoRobustness:(n.videoCapabilities?n.videoCapabilities[0].robustness:"")||"",serverCertificate:a[0],initData:o,keyIds:s},this.a.licenseServerUri?t.createMediaKeys():Promise.reject(new pt(2,6,6012,this.a.keySystem))}.bind(t)).then(function(t){if(this.c)return Promise.reject();this.l=t,this.S=!0}.bind(t)).catch(function(t){if(!this.c)return this.a=null,this.u.clear(),t instanceof pt?Promise.reject(t):Promise.reject(new pt(2,6,6002,t.message))}.bind(t)),n.reject(),i}function xe(t,e){try{var n=t.l.createSession("persistent-license")}catch(e){var r=new pt(2,6,6005,e.message);return t.g(r),Promise.reject(r)}t.i.w(n,"message",t.Td.bind(t)),t.i.w(n,"keystatuseschange",t.Rd.bind(t));var i={initData:null,loaded:!1,bd:1/0,ya:null};return t.b.set(n,i),n.load(e).then(function(t){return this.c?Promise.reject():t?(i.loaded=!0,Me(this)&&this.m.resolve(),n):(this.b.delete(n),void this.g(new pt(2,6,6013)))}.bind(t),function(t){this.c||(this.b.delete(n),this.g(new pt(2,6,6005,t.message)))}.bind(t))}function Se(t,e,n){try{var r=t.D?t.l.createSession("persistent-license"):t.l.createSession()}catch(e){return void t.g(new pt(2,6,6005,e.message))}t.i.w(r,"message",t.Td.bind(t)),t.i.w(r,"keystatuseschange",t.Rd.bind(t)),t.b.set(r,{initData:n,loaded:!1,bd:1/0,ya:null});try{n=t.f.initDataTransform(n,t.a)}catch(n){return e=n,n instanceof pt||(e=new pt(2,6,6016,n)),void t.g(e)}r.generateRequest(e,n.buffer).catch((function(e){if(!t.c){if(t.b.delete(r),e.errorCode&&e.errorCode.systemCode){var n=e.errorCode.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}t.g(new pt(2,6,6006,e.message,e,n))}}))}function Ae(t,e){if(we(e).startsWith("com.apple.fps")){var n=e.serverCertificate;t=qt(t,Ht(t),n)}return t}function ke(t,e){var n=e.target,r=t.b.get(n),i=t.a.licenseServerUri,a=t.f.advanced[t.a.keySystem];"individualization-request"==e.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(i=Lt([i],t.f.retryParameters)).body=e.message,i.method="POST",i.licenseRequestType=e.messageType,i.sessionId=n.sessionId,"com.microsoft.playready"!=t.a.keySystem&&"com.chromecast.playready"!=t.a.keySystem||function(t){var e=se(t.body,!0,!0);if(e.includes("PlayReadyKeyMessage")){for(var n=(e=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)t.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;t.body=de.Ba(e.querySelector("Challenge").textContent).buffer}else t.headers["Content-Type"]="text/xml; charset=utf-8"}(i),t.a.keySystem.startsWith("com.apple.fps")&&t.f.fairPlayTransform&&function(t){var e=new Uint8Array(t.body);e="spc="+de.uc(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=ce(e)}(i);var o=Date.now();t.C.tb.request(2,i).promise.then(function(t){return this.c?Promise.reject():(this.a.keySystem.startsWith("com.apple.fps")&&this.f.fairPlayTransform&&function(t){try{var e=oe(t.data)}catch(t){return}"<ckc>"===(e=e.trim()).substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6));try{e=JSON.parse(e).ckc}catch(t){}t.data=de.Ba(e).buffer}(t),this.K+=(Date.now()-o)/1e3,n.update(t.data).then(function(){var t=this;this.C.onEvent(new Tt("drmsessionupdate")),r&&(r.ya&&r.ya.resolve(),new ft((function(){r.loaded=!0,Me(t)&&t.m.resolve()})).P(Oe))}.bind(this)))}.bind(t),function(t){this.c||(t=new pt(2,6,6007,t),this.g(t),r&&r.ya&&r.ya.reject(t))}.bind(t)).catch(function(t){this.c||(t=new pt(2,6,6008,t.message),this.g(t),r&&r.ya&&r.ya.reject(t))}.bind(t))}function Ce(){var t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],e=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],n=new Map;return t="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map((function(t){return function(t){return p((function r(){var i,a,o;return L(r,(function(r){switch(r.j){case 1:return S(r,2),T(r,navigator.requestMediaKeySystemAccess(t,e),4);case 4:return i=r.o,o=!!(a=i.getConfiguration().sessionTypes)&&a.includes("persistent-license"),ne("Tizen 3")&&(o=!1),n.set(t,{persistentState:o}),T(r,i.createMediaKeys(),5);case 5:k(r,0);break;case 2:C(r),n.set(t,null),x(r)}}))}))}(t)})),Promise.all(t).then((function(){return Yt(n)}))}function Ie(t,e){var n=e.audio,r=e.video;if(n&&n.encrypted&&!Ee(t,$t(n.mimeType,n.codecs))||r&&r.encrypted&&!Ee(t,$t(r.mimeType,r.codecs)))return!1;var i=we(t.a);return 0==e.drmInfos.length||e.drmInfos.some((function(t){return t.keySystem==i}))}function Ne(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=0;r<t.length;r++)for(var i=0;i<e.length;i++)if(t[r].keySystem==e[i].keySystem){var a=t[r];i=e[i];var o=[];o=(o=o.concat(a.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(a.keyIds)).concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:s});break}return n}function Pe(t){return p((function e(){var n;return L(e,(function(e){switch(e.j){case 1:return n=Array.from(t.b.keys()),t.b.clear(),T(e,Promise.all(n.map((function(t){return p((function e(){return L(e,(function(e){switch(e.j){case 1:return S(e,2),T(e,Promise.all([t.close(),t.closed]),4);case 4:k(e,0);break;case 2:C(e),x(e)}}))}))}))),0)}}))}))}function Me(t){return Wt(t=t.b.values(),(function(t){return t.loaded}))}function Re(e,n,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(n.size&&(n=n.get(e.keySystem)||"",e.licenseServerUri=n),e.keyIds||(e.keyIds=[]),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate)),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))}z("shaka.util.Uint8ArrayUtils.toBase64",de.uc),de.Ba=function(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n},z("shaka.util.Uint8ArrayUtils.fromBase64",de.Ba),de.Lc=function(e){for(var n=new Uint8Array(e.length/2),r=0;r<e.length;r+=2)n[r/2]=t.parseInt(e.substr(r,2),16);return n},z("shaka.util.Uint8ArrayUtils.fromHex",de.Lc),de.vc=function(t){for(var e="",n=0;n<t.length;++n){var r=t[n].toString(16);1==r.length&&(r="0"+r),e+=r}return e},z("shaka.util.Uint8ArrayUtils.toHex",de.vc),de.za=function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!1;return!0},z("shaka.util.Uint8ArrayUtils.equal",de.za),de.concat=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var r=n=0;r<e.length;++r)n+=e[r].length;n=new Uint8Array(n);for(var i=r=0;i<e.length;++i)n.set(e[i],r),r+=e[i].length;return n},z("shaka.util.Uint8ArrayUtils.concat",de.concat),(r=pe.prototype).destroy=function(){var t=this;return p((function e(){return L(e,(function(e){switch(e.j){case 1:return t.c?T(e,t.na,0):(t.c=!0,T(e,function(t){return p((function e(){return L(e,(function(e){switch(e.j){case 1:return t.i.release(),t.i=null,t.m.reject(),t.$.stop(),t.$=null,t.R.stop(),t.R=null,T(e,Pe(t),2);case 2:if(!t.h){e.A(3);break}return S(e,4),T(e,t.h.setMediaKeys(null),6);case 6:k(e,5);break;case 4:C(e);case 5:t.h=null;case 3:t.a=null,t.u.clear(),t.l=null,t.s=[],t.f=null,t.g=null,t.C=null,x(e)}}))}))}(t),4));case 4:t.na.resolve(),e.A(0)}}))}))},r.configure=function(t){this.f=t},r.Gb=function(t){var e=this;if(!this.l)return this.i.da(t,"encrypted",(function(){e.g(new pt(2,6,6010))})),Promise.resolve();this.h=t,this.i.da(this.h,"play",(function(){for(var t=0;t<e.F.length;t++)ke(e,e.F[t]);e.oa=!0,e.F=[]})),"webkitCurrentPlaybackTargetIsWireless"in this.h&&this.i.w(this.h,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Pe(e)})),t=(t=this.h.setMediaKeys(this.l)).catch((function(t){return Promise.reject(new pt(2,6,6003,t.message))}));var n=ye(this);return Promise.all([t,n]).then((function(){if(e.c)return Promise.reject();ge(e),e.a.initData.length||e.s.length||e.i.w(e.h,"encrypted",(function(t){return be(e,t.initDataType,new Uint8Array(t.initData))}))})).catch((function(t){if(!e.c)return Promise.reject(t)}))},r.Jb=function(){for(var t=1/0,e=this.b.keys(),n=(e=h(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},r.Td=function(t){this.h&&this.f.delayLicenseRequestUntilPlayed&&this.h.paused&&!this.oa?this.F.push(t):ke(this,t)},r.Rd=function(t){t=t.target;var e=this.b.get(t),n=!1;t.keyStatuses.forEach(function(t,r){if("string"==typeof r){var i=r;r=t,t=i}if("com.microsoft.playready"==this.a.keySystem&&16==r.byteLength&&!ne("Tizen")){var a=(i=new DataView(r)).getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,a,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(e.loaded=!0),"expired"==t&&(n=!0),i=de.vc(new Uint8Array(r)),this.pa.set(i,t)}.bind(this));var r=t.expiration-Date.now();(0>r||n&&1e3>r)&&e&&!e.ya&&(this.b.delete(t),t.close().catch((function(){}))),Me(this)&&(this.m.resolve(),this.R.P(Le))};var Oe=5,Le=.5;function Ue(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function De(){}function je(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function Fe(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e+n>=t.start(0)}function Be(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,r=t.length-1;0<=r&&t.end(r)>e;--r)n+=t.end(r)-Math.max(t.start(r),e);return n}function ze(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}Ue.prototype.init=function(t){var e=muxjs.mp4.probe;t=new Uint8Array(t),this.g=e.videoTrackIds(t),this.f=e.timescale(t),this.a.init()},Ue.prototype.b=function(t,e){var n=new Uint8Array(t);(n=this.a.parse(n,this.g,this.f))&&n.captions&&e(n.captions),this.a.clearParsedCaptions()},Ue.prototype.c=function(){this.a.resetCaptionStream()},De.prototype.init=function(){},De.prototype.b=function(){},De.prototype.c=function(){};var Ge={ye:function(t,e){return t.reduce(function(t,e,n){return e.catch(t.bind(null,n))}.bind(null,e),Promise.reject())},Bc:function(t,e){return t.concat(e)},kc:function(){},Ia:function(t){return null!=t}};function Ve(t,e){if(0==e.length)return t;var n=e.map((function(t){return new Z(t)}));return t.map((function(t){return new Z(t)})).map((function(t){return n.map(t.resolve.bind(t))})).reduce(Ge.Bc,[]).map((function(t){return t.toString()}))}function Ke(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:e||[],keyIds:[]}}var He={Pa:"video",Db:"audio",ra:"text",pg:"image",ng:"application"},qe=1/15;function We(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function Xe(e,n){return!(!t.muxjs||"mp2t"!=e.toLowerCase().split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(Ye(n,e)):MediaSource.isTypeSupported(Ye("audio",e))||MediaSource.isTypeSupported(Ye("video",e)))}function Ye(t,e){var n=e.replace(/mp2t/i,"mp4");"audio"==t&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n}function $e(t,e,n){this.startTime=t,this.direction=nn,this.endTime=e,this.payload=n,this.region=new fn,this.position=null,this.positionAlign=Ze,this.size=100,this.textAlign=Je,this.writingMode=rn,this.lineInterpretation=an,this.line=null,this.lineHeight="",this.lineAlign=on,this.displayAlign=tn,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=un,this.fontStyle=cn,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1}We.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},We.prototype.i=function(t){this.c=t.captions;var e=new Uint8Array(t.data.byteLength+t.initSegment.byteLength);e.set(t.initSegment,0),e.set(t.data,t.initSegment.byteLength),this.g.push(e)},We.prototype.h=function(){var t={data:de.concat.apply(null,this.g),captions:this.c};this.b.resolve(t),this.f=!1},z("shaka.text.Cue",$e);var Ze="auto";$e.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Ze};var Je="center",Qe={LEFT:"left",RIGHT:"right",CENTER:Je,START:"start",END:"end"};$e.textAlign=Qe;var tn="after",en={BEFORE:"before",CENTER:"center",AFTER:tn};$e.displayAlign=en;var nn="ltr";$e.direction={HORIZONTAL_LEFT_TO_RIGHT:nn,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var rn="horizontal-tb";$e.writingMode={HORIZONTAL_TOP_TO_BOTTOM:rn,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var an=0;$e.lineInterpretation={LINE_NUMBER:an,PERCENTAGE:1};var on="start",sn={CENTER:"center",START:on,END:"end"};$e.lineAlign=sn;var un=400;$e.fontWeight={NORMAL:un,BOLD:700};var cn="normal",ln={NORMAL:cn,ITALIC:"italic",OBLIQUE:"oblique"};function fn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=hn,this.scroll=dn}$e.fontStyle=ln,$e.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},z("shaka.text.CueRegion",fn);var hn=1;fn.units={PX:0,PERCENTAGE:hn,LINES:2};var dn="";function pn(t){this.g=null,this.c=t,this.f=this.m=0,this.h=1/0,this.b=this.a=null,this.l="",this.i=new Map}fn.scrollMode={NONE:dn,UP:"up"};var vn={};function mn(e){return!!(vn[e]||t.muxjs&&"application/cea-608"==e)}function yn(t,e){"application/cea-608"!=e&&(t.g=new vn[e])}function gn(t,e,n,r,i){for(var a=n+" "+r,o=new Map,s=(e=h(e)).next();!s.done;s=e.next()){var u=s.value;s=u.stream,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),u.startTime+=i,u.endTime+=i,u.startTime>=t.f&&u.startTime<t.h&&(u=new $e(u.startTime,u.endTime,u.text),o.get(s).get(a).push(u),s==t.l&&t.c.append([u]))}for(a=(i=h(o.keys())).next();!a.done;a=i.next())for(a=a.value,t.i.has(a)||t.i.set(a,new Map),s=(e=h(o.get(a).keys())).next();!s.done;s=e.next())s=s.value,u=o.get(a).get(s),t.i.get(a).set(s,u);t.a=null==t.a?Math.max(n,t.f):Math.min(t.a,Math.max(n,t.f)),t.b=Math.max(t.b,Math.min(r,t.h))}function bn(t,e,n){this.f=t,this.g=n,this.b={},this.a=null,this.c={},this.i=new Gt,this.u=!1,this.l={},this.m=e,t=this.s=new vt,e=new MediaSource,this.i.da(e,"sourceopen",t.resolve),this.f.src=wn(e),this.h=e}z("shaka.text.TextEngine.registerParser",(function(t,e){vn[t]=e})),z("shaka.text.TextEngine.unregisterParser",(function(t){delete vn[t]})),pn.prototype.destroy=function(){return this.c=this.g=null,this.i.clear(),Promise.resolve()},pn.prototype.Qc=function(t){try{return this.g.parseMedia(new Uint8Array(t),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new pt(2,2,2009,t)}},pn.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.c||!this.c.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))};var wn=t.URL.createObjectURL;function En(t){var e=$t(t.mimeType,t.codecs),n=function(t){var e=[t.mimeType];return Jt.forEach((function(n,r){var i=t[r];i&&e.push(n+'="'+i+'"')})),e.join(";")}(t);return mn(e)||MediaSource.isTypeSupported(n)||Xe(e,t.type)}function _n(t,e){t.a||(t.a=new pn(t.g)),yn(t.a,e)}function Tn(t){return!t.h||"ended"==t.h.readyState}function xn(t,e){if("text"==e)var n=t.a.a;else n=!(n=An(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function Sn(t,e){return"text"==e?t.a.b:je(An(t,e))}function An(t,e){try{return t.b[e].buffered}catch(t){return null}}function kn(e,n,r,i,a,o){return"text"==n?function(t,e,n,r){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==n||null==r)this.g.parseInit(new Uint8Array(e));else{var t={periodStart:this.m,segmentStart:n,segmentEnd:r};t=this.g.parseMedia(new Uint8Array(e),t).filter(function(t){return t.startTime>=this.f&&t.startTime<this.h}.bind(this)),this.c.append(t),null==this.a&&(this.a=Math.max(n,this.f)),this.b=Math.min(r,this.h)}}.bind(t))}(e.a,r,i,a):e.l[n]?function(t,e){t.f=!0,t.b=new vt,t.g=[],t.c=[];var n=new Uint8Array(e);return t.a.push(n),t.a.flush(),t.f&&t.b.reject(new pt(2,3,3018)),t.b}(e.l[n],r).then(function(t){return this.a||_n(this,"text/vtt"),t.captions&&t.captions.length&&gn(this.a,t.captions,i,a,this.b.video.timestampOffset),Nn(this,n,this.fe.bind(this,n,t.data.buffer))}.bind(e)):(o&&t.muxjs&&(e.a||_n(e,"text/vtt"),null==i&&null==a?e.m.init(r):e.m.b(r,(function(t){t.length&&gn(e.a,t,i,a,e.b.video.timestampOffset)}))),Nn(e,n,e.fe.bind(e,n,r)))}function Cn(t,e){var n=Sn(t,"video")||0;!function(t,e,n){if(t.l=e,e=t.i.get(e))for(var r=h(e.keys()),i=r.next();!i.done;i=r.next())(i=e.get(i.value).filter((function(t){return t.endTime<=n})))&&t.c.append(i)}(t.a,e,n)}function In(t,e){return"text"==e?t.a?(t.m.c(),t.a.remove(0,1/0)):Promise.resolve():Nn(t,e,t.ge.bind(t,e,0,t.h.duration))}function Nn(t,e,n){if(t.u)return Promise.reject();if(n={start:n,p:new vt},t.c[e].push(n),1==t.c[e].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new pt(2,3,3017,e)):n.p.reject(new pt(2,3,3015,r)),Mn(t,e)}return n.p}function Pn(t,e){if(t.u)return Promise.reject();var n,r=[];for(n in t.b){var i=new vt,a={start:function(t){t.resolve()}.bind(null,i),p:i};t.c[n].push(a),r.push(i),1==t.c[n].length&&a.start()}return Promise.all(r).then(function(){try{e()}catch(e){var t=Promise.reject(new pt(2,3,3015,e))}for(var n in this.b)Mn(this,n);return t}.bind(t),function(t){throw t}.bind(t))}function Mn(t,e){t.c[e].shift();var n=t.c[e][0];if(n)try{n.start()}catch(r){n.p.reject(new pt(2,3,3015,r)),Mn(t,e)}}function Rn(t,e){return t=Ln(t),e=Ln(e),t.split("-")[0]==e.split("-")[0]}function On(t,e){t=Ln(t),e=Ln(e);var n=t.split("-"),r=e.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function Ln(t){var e=t.split("-");return t=e[0]||"",e=e[1]||"",t=t.toLowerCase(),t=jn.get(t)||t,(e=e.toUpperCase())?t+"-"+e:t}function Un(t){return t.language?Ln(t.language):t.audio&&t.audio.language?Ln(t.audio.language):t.video&&t.video.language?Ln(t.video.language):"und"}function Dn(t,e){for(var n=Ln(t),r=new Set,i=h(e),a=i.next();!a.done;a=i.next())r.add(Ln(a.value));for(a=(i=h(r)).next();!a.done;a=i.next())if((a=a.value)==n)return a;for(a=(i=h(r)).next();!a.done;a=i.next())if(On(a=a.value,n))return a;for(a=(i=h(r)).next();!a.done;a=i.next()){var o=a=a.value,s=n;if(o=Ln(o),s=Ln(s),o=o.split("-"),s=s.split("-"),2==o.length&&2==s.length&&o[0]==s[0])return a}for(a=(r=h(r)).next();!a.done;a=r.next())if(On(n,i=a.value))return i;return null}(r=bn.prototype).destroy=function(){var t=this;this.u=!0;var e,n=[];for(e in this.c){var r=this.c[e],i=r[0];for(this.c[e]=r.slice(0,1),i&&n.push(i.p.catch(Ge.kc)),i=1;i<r.length;++i)r[i].p.reject()}for(var a in this.a&&n.push(this.a.destroy()),this.g&&n.push(this.g.destroy()),this.l)n.push(this.l[a].destroy());return Promise.all(n).then((function(){t.i&&(t.i.release(),t.i=null),t.f&&(t.f.removeAttribute("src"),t.f.load(),t.f=null),t.h=null,t.a=null,t.g=null,t.b={},t.l={},t.m=null,t.c={}}))},r.init=function(t,e){var n=this;return p((function r(){var i;return L(r,(function(r){switch(r.j){case 1:return i=He,T(r,n.s,2);case 2:t.forEach((function(t,r){var a=$t(t.mimeType,t.codecs);r==i.ra?_n(n,a):(!e&&MediaSource.isTypeSupported(a)||!Xe(a,r)||(n.l[r]=new We,a=Ye(r,a)),a=n.h.addSourceBuffer(a),n.i.w(a,"error",n.Wf.bind(n,r)),n.i.w(a,"updateend",n.wb.bind(n,r)),n.b[r]=a,n.c[r]=[])})),x(r)}}))}))},r.Nc=function(t){if(t.total=ze(this.f.buffered),t.audio=ze(An(this,"audio")),t.video=ze(An(this,"video")),t.text=[],this.a){var e=this.a.a,n=this.a.b;null!=e&&null!=n&&t.text.push({start:e,end:n})}},r.remove=function(t,e,n){return"text"==t?this.a.remove(e,n):Nn(this,t,this.ge.bind(this,t,e,n))},r.flush=function(t){return"text"==t?Promise.resolve():Nn(this,t,this.De.bind(this,t))},r.endOfStream=function(t){return Pn(this,function(){Tn(this)||(t?this.h.endOfStream(t):this.h.endOfStream())}.bind(this))},r.xa=function(t){return Pn(this,function(){this.h.duration=t}.bind(this))},r.Y=function(){return this.h.duration},r.fe=function(t,e){this.b[t].appendBuffer(e)},r.ge=function(t,e,n){n<=e?this.wb(t):this.b[t].remove(e,n)},r.pe=function(t){var e=this.b[t].appendWindowStart,n=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=n,this.wb(t)},r.De=function(t){this.f.currentTime-=.001,this.wb(t)},r.Vf=function(t,e){0>e&&(e+=.001),this.b[t].timestampOffset=e,this.wb(t)},r.Sf=function(t,e,n){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=n,this.b[t].appendWindowStart=e,this.wb(t)},r.Wf=function(t){this.c[t][0].p.reject(new pt(2,3,3014,this.f.error?this.f.error.code:0))},r.wb=function(t){var e=this.c[t][0];e&&(e.p.resolve(),Mn(this,t))};var jn=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Fn(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;return!(i&&i.width&&i.height&&(!r(i.width,e.minWidth,Math.min(e.maxWidth,n.width))||!r(i.height,e.minHeight,Math.min(e.maxHeight,n.height))||!r(i.width*i.height,e.minPixels,e.maxPixels))||t&&t.frameRate&&!r(t.frameRate,e.minFrameRate,e.maxFrameRate)||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function Bn(t,e,n){var r=!1;return t.forEach((function(t){var i=t.allowedByApplication;t.allowedByApplication=Fn(t,e,n),i!=t.allowedByApplication&&(r=!0)})),r}function zn(t,e,n,r){r.variants=r.variants.filter((function(r){if(t&&t.S&&!Ie(t,r))return!1;var i=r.audio;return r=r.video,!(i&&!En(i)||r&&!En(r)||i&&e&&!Gn(i,e)||r&&n&&!Gn(r,n))})),r.textStreams=r.textStreams.filter((function(t){return mn($t(t.mimeType,t.codecs))}))}function Gn(t,e){return t.mimeType==e.mimeType&&t.codecs.split(".")[0]==e.codecs.split(".")[0]}function Vn(t){var e=t.audio,n=t.video,r=e?e.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=[];n&&o.push(n.mimeType),e&&o.push(e.mimeType),o=o[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;return e&&e.roles.forEach((function(t){return u.add(t)})),n&&n.roles.forEach((function(t){return u.add(t)})),t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:o,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:t.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.pixelAspectRatio=n.pixelAspectRatio||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioSamplingRate=e.audioSamplingRate,t.audioBandwidth=e.bandwidth||null,t.label=e.label,t.audioRoles=e.roles),t}function Kn(t){return{id:t.id,active:!1,type:"text",bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId}}function Hn(t){return t.__shaka_id||(t.__shaka_id=qn++),t.__shaka_id}var qn=0;function Wn(t){return{id:Hn(t),active:!1,type:"",bandwidth:0,language:Ln(t.language),label:t.label,kind:t.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function Xn(t){return t.allowedByApplication&&t.allowedByKeySystem}function Yn(t,e){for(var n=t.filter((function(t){return t.audio&&t.audio.channelsCount})),r=new Map,i=(n=h(n)).next();!i.done;i=n.next()){var a=(i=i.value).audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return 0==(n=Array.from(r.keys())).length?t:(i=n.filter((function(t){return t<=e}))).length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n))}function $n(t,e,n){var r=t,i=t.filter((function(t){return t.primary}));i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter((function(t){return t.language==a})),e){var o=Dn(Ln(e),t.map((function(t){return t.language})));o&&(r=t.filter((function(t){return Ln(t.language)==o})))}if(n){if((t=Zn(r,n)).length)return t}else if((t=r.filter((function(t){return 0==t.roles.length}))).length)return t;return(t=r.map((function(t){return t.roles})).reduce(Ge.Bc,[])).length?Zn(r,t[0]):r}function Zn(t,e){return t.filter((function(t){return t.roles.includes(e)}))}function Jn(t,e,n){for(var r=0;r<n.length;r++)if(n[r].audio==t&&n[r].video==e)return n[r];return null}function Qn(){this.h=null,this.f=!1,this.b=new q,this.c=[],this.i=!1,this.a=this.g=null}function tr(t,e){return t&&(e=e.filter((function(e){return Fn(e,t,{width:1/0,height:1/0})}))),e.sort((function(t,e){return t.bandwidth-e.bandwidth}))}function er(t,e){this.a=t,this.b=e}function nr(t,e){var n=new er(2,6),r=ar,i=r.a,a=n.b-i.b;(0<(n.a-i.a||a)?r.c:r.b)(r.a,n,t,e)}function rr(t,e,n,r){X([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function ir(t,e,n,r){W([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(""))}z("shaka.abr.SimpleAbrManager",Qn),Qn.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},Qn.prototype.stop=Qn.prototype.stop,Qn.prototype.init=function(t){this.h=t},Qn.prototype.init=Qn.prototype.init,Qn.prototype.chooseVariant=function(){var t=tr(this.a.restrictions,this.c),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!t.length&&(t=[(t=tr(null,this.c))[0]]);for(var n=t[0]||null,r=0;r<t.length;++r){var i=t[r],a=(t[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=i.bandwidth/this.a.bandwidthDowngradeTarget&&e<=a&&(n=i)}return this.g=Date.now(),n},Qn.prototype.chooseVariant=Qn.prototype.chooseVariant,Qn.prototype.enable=function(){this.f=!0},Qn.prototype.enable=Qn.prototype.enable,Qn.prototype.disable=function(){this.f=!1},Qn.prototype.disable=Qn.prototype.disable,Qn.prototype.segmentDownloaded=function(t,e){var n=this.b;if(!(16e3>e)){var r=8e3*e/t,i=t/1e3;n.a+=e,K(n.b,i,r),K(n.c,i,r)}if(null!=this.g&&this.f)t:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Qn.prototype.segmentDownloaded=Qn.prototype.segmentDownloaded,Qn.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Qn.prototype.getBandwidthEstimate=Qn.prototype.getBandwidthEstimate,Qn.prototype.setVariants=function(t){this.c=t},Qn.prototype.setVariants=Qn.prototype.setVariants,Qn.prototype.configure=function(t){this.a=t},Qn.prototype.configure=Qn.prototype.configure,er.prototype.toString=function(){return"v"+this.a+"."+this.b};var ar=null,or="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),sr="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),ur=["loop","playbackRate"],cr=["pause","play"],lr="abrstatuschanged adaptation buffering drmsessionupdate emsg error expirationupdated largegap loading manifestparsed onstatechange onstateidle streaming textchanged texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading variantchanged".split(" "),fr={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,usingEmbeddedTextTrack:2,getLoadMode:10},hr={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},dr=[["getConfiguration","configure"]],pr=[["isTextTrackVisible","setTextTrackVisibility"]],vr="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),mr=["attach","detach","load","unload"];function yr(t){return JSON.stringify(t,(function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof Tt){var n,r={};for(n in e){var i=e[n];i&&"object"==typeof i?"detail"==n&&(r[n]=i):n in Event||(r[n]=i)}return r}if(e instanceof TimeRanges)for(r={__type__:"TimeRanges",length:e.length,start:[],end:[]},n=0;n<e.length;++n)r.start.push(e.start(n)),r.end.push(e.end(n));else r=e instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(e)}:"number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return r}}))}function gr(t){return JSON.parse(t,(function(t,e){return"NaN"==e?NaN:"-Infinity"==e?-1/0:"Infinity"==e?1/0:e&&"object"==typeof e&&"TimeRanges"==e.__type__?function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e):e&&"object"==typeof e&&"Uint8Array"==e.__type__?new Uint8Array(e.entries):e}))}function br(t,e,n,r,i,a){this.S=t,this.f=new ft(e),this.R=n,this.l=!1,this.F=r,this.K=i,this.C=a,this.b=this.h=!1,this.D="",this.i=null,this.m=this.Pd.bind(this),this.s=this.mf.bind(this),this.a={video:{},player:{}},this.u=0,this.c={},this.g=null}var wr=!1,Er=null;function _r(t){var e=Er;e.removeUpdateListener(t.m),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.s)}function Tr(t){for(var e in t.c){var n=t.c[e];delete t.c[e],n.reject(new pt(1,7,7e3))}}function xr(t){t=yr(t),Er.sendMessage("urn:x-cast:com.google.shaka.v2",t,(function(){}),Y)}function Sr(t,e,n){var r=this;St.call(this),this.c=t,this.b=e,this.i=this.g=this.f=this.l=this.h=null,(this.m=n)&&(this.a=new br(n,(function(){return kr(r)}),(function(){return Cr(r)}),(function(t,e){return Nr(r,t,e)}),(function(){return Ir(r)}),(function(){return Ar(r)}))),function(t){for(var e in t.a&&t.a.init(),t.i=new Gt,or.forEach(function(t){this.i.w(this.c,t,this.lg.bind(this))}.bind(t)),lr.forEach(function(t){this.i.w(this.b,t,this.Af.bind(this))}.bind(t)),t.h={},t.c)Object.defineProperty(t.h,e,{configurable:!1,enumerable:!0,get:t.kg.bind(t,e),set:t.mg.bind(t,e)});for(var n in t.l={},t.b)Object.defineProperty(t.l,n,{configurable:!1,enumerable:!0,get:t.Wd.bind(t,n)});t.f=new St,t.f.Yb=t.h,t.g=new St,t.g.Yb=t.l}(this)}function Ar(t){var e={video:{},player:{},playerAfterLoad:{},manifest:t.b.ec(),startTime:null};return t.c.pause(),ur.forEach(function(t){e.video[t]=this.c[t]}.bind(t)),t.c.ended||(e.startTime=t.c.currentTime),dr.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.player[n]=t}.bind(t)),pr.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.playerAfterLoad[n]=t}.bind(t)),e}function kr(t){t.dispatchEvent(new Tt("caststatuschanged"))}function Cr(t){t.f.dispatchEvent(new Tt(t.h.paused?"pause":"play"))}function Ir(t){dr.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t));var e=t.a.get("player","getAssetUri")(),n=t.a.get("video","ended"),r=Promise.resolve(),i=t.c.autoplay,a=null;n||(a=t.a.get("video","currentTime")),e&&(t.c.autoplay=!1,r=t.b.load(e,a));var o={};ur.forEach(function(t){o[t]=this.a.get("video",t)}.bind(t)),r.then((function(){t.c&&(ur.forEach(function(t){this.c[t]=o[t]}.bind(t)),pr.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t)),t.c.autoplay=i,e&&t.c.play())}),(function(e){t.b.dispatchEvent(new Tt("error",{detail:e}))}))}function Nr(t,e,n){t.a.ga()&&("video"==e?t.f.dispatchEvent(n):"player"==e&&t.g.dispatchEvent(n))}function Pr(t,e,n,r){var i=this;St.call(this),this.a=t,this.b=e,this.c=new Gt,this.D={video:t,player:e},this.s=n||function(){},this.F=r||function(t){return t},this.u=!1,this.h=!0,this.g=0,this.m=!1,this.l=!0,this.i=this.f=null,this.C=new ft((function(){Rr(i)})),function(t){var e=cast.receiver.CastReceiverManager.getInstance();e.onSenderConnected=t.Sd.bind(t),e.onSenderDisconnected=t.Sd.bind(t),e.onSystemVolumeChanged=t.Ce.bind(t),t.i=e.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.i.onMessage=t.gf.bind(t),t.f=e.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.f.onMessage=t.tf.bind(t),e.start(),or.forEach(function(t){this.c.w(this.a,t,this.Yd.bind(this,"video"))}.bind(t)),lr.forEach(function(t){this.c.w(this.b,t,this.Yd.bind(this,"player"))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.b.pd(3840,2160):t.b.pd(1920,1080),t.c.w(t.a,"loadeddata",function(){this.m=!0}.bind(t)),t.c.w(t.b,"loading",function(){this.h=!1,Mr(this)}.bind(t)),t.c.w(t.a,"playing",function(){this.h=!1,Mr(this)}.bind(t)),t.c.w(t.a,"pause",function(){Mr(this)}.bind(t)),t.c.w(t.b,"unloading",function(){this.h=!0,Mr(this)}.bind(t)),t.c.w(t.a,"ended",function(){var t=this;new ft((function(){t.a&&t.a.ended&&(t.h=!0,Mr(t))})).P(5)}.bind(t))}(this)}function Mr(t){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new Tt("caststatuschanged")),Or(this)||Dr(this,0))}.bind(t))}function Rr(t){t.C.P(.5);var e={video:{},player:{}};if(sr.forEach(function(t){e.video[t]=this.a[t]}.bind(t)),t.b.V())for(var n in hr)0==t.g%hr[n]&&(e.player[n]=t.b[n]());for(var r in fr)0==t.g%fr[r]&&(e.player[r]=t.b[r]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),t.m&&(t.g+=1),Ur(t,{type:"update",update:e},t.f),Or(t)}function Or(t){return!(!t.l||!t.a.duration&&!t.b.V())&&(Lr(t),t.l=!1,!0)}function Lr(t){var e={contentId:t.b.ec(),streamType:t.b.V()?"LIVE":"BUFFERED",duration:t.a.duration,contentType:""};Dr(t,0,e)}function Ur(t,e,n,r){t.u&&(t=yr(e),r?n.getCastChannel(r).send(t):n.broadcast(t))}function Dr(t,e,n){var r=t.a.playbackRate,i=jr;r={mediaSessionId:0,playbackRate:r,playerState:i=t.h?i.IDLE:t.b.Sc()?i.ke:t.a.paused?i.me:i.ne,currentTime:t.a.currentTime,supportedMediaCommands:15,volume:{level:t.a.volume,muted:t.a.muted}},n&&(r.media=n),Ur(t,{requestId:e,type:"MEDIA_STATUS",status:[r]},t.i)}(r=br.prototype).destroy=function(){return Tr(this),Er&&_r(this),this.f&&(this.f.stop(),this.f=null),this.K=this.F=null,this.b=this.h=!1,this.s=this.m=this.g=this.c=this.a=this.i=null,Promise.resolve()},r.ga=function(){return this.b},r.gd=function(){return this.D},r.init=function(){if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){delete t.__onGCastApiAvailable,this.h=!0,this.f.tc();var e=new chrome.cast.SessionRequest(this.S);e=new chrome.cast.ApiConfig(e,this.Qd.bind(this),this.rf.bind(this),"origin_scoped"),chrome.cast.initialize(e,(function(){}),(function(){})),wr&&this.f.P(.02),(e=Er)&&e.status!=chrome.cast.SessionStatus.STOPPED?this.Qd(e):Er=null}else t.__onGCastApiAvailable=function(t){t&&this.init()}.bind(this)},r.od=function(t){this.i=t,this.b&&xr({type:"appData",appData:this.i})},r.cast=function(t){return this.h?wr?this.b?Promise.reject(new pt(1,8,8002)):(this.g=new vt,chrome.cast.requestSession(this.dd.bind(this,t),this.Od.bind(this)),this.g):Promise.reject(new pt(1,8,8001)):Promise.reject(new pt(1,8,8e3))},r.Ib=function(){this.b&&(Tr(this),Er&&(_r(this),Er.stop((function(){}),(function(){})),Er=null))},r.get=function(t,e){if("video"==t){if(cr.includes(e))return this.$d.bind(this,t,e)}else if("player"==t){if(hr[e]&&!this.get("player","isLive")())return function(){};if(vr.includes(e))return this.$d.bind(this,t,e);if(mr.includes(e))return this.Gf.bind(this,t,e);if(fr[e])return this.Xd.bind(this,t,e)}return this.Xd(t,e)},r.set=function(t,e,n){this.a[t][e]=n,xr({type:"set",targetName:t,property:e,value:n})},r.dd=function(t,e){Er=e,e.addUpdateListener(this.m),e.addMessageListener("urn:x-cast:com.google.shaka.v2",this.s),this.Pd(),xr({type:"init",initState:t,appData:this.i}),this.g.resolve()},r.Od=function(t){var e=8003;switch(t.code){case"cancel":e=8004;break;case"timeout":e=8005;break;case"receiver_unavailable":e=8006}this.g.reject(new pt(2,8,e,t))},r.Xd=function(t,e){return this.a[t][e]},r.$d=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];xr({type:"call",targetName:t,methodName:e,args:r})},r.Gf=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new vt;var a=this.u.toString();return this.u++,this.c[a]=i,xr({type:"asyncCall",targetName:t,methodName:e,args:r,id:a}),i},r.Qd=function(t){var e=this.C();this.g=new vt,this.l=!0,this.dd(e,t)},r.rf=function(t){wr="available"==t,this.f.tc()},r.Pd=function(){var t=!!Er&&"connected"==Er.status;if(this.b&&!t){for(var e in this.K(),this.a)this.a[e]={};Tr(this)}this.D=(this.b=t)?Er.receiver.friendlyName:"",this.f.tc()},r.mf=function(t,e){var n=gr(e);switch(n.type){case"event":var r=n.event;this.F(n.targetName,new Tt(r.type,r));break;case"update":for(var i in r=n.update)for(var a in n=this.a[i]||{},r[i])n[a]=r[i][a];this.l&&(this.R(),this.l=!1);break;case"asyncComplete":if(i=n.id,n=n.error,a=this.c[i],delete this.c[i],a)if(n){for(r in i=new pt(n.severity,n.category,n.code),n)i[r]=n[r];a.reject(i)}else a.resolve()}},G(Sr,St),z("shaka.cast.CastProxy",Sr),Sr.prototype.destroy=function(t){return t&&this.a&&this.a.Ib(),this.i&&(this.i.release(),this.i=null),t=[],this.b&&(t.push(this.b.destroy()),this.b=null),this.a&&(t.push(this.a.destroy()),this.a=null),this.l=this.h=this.c=null,Promise.all(t)},Sr.prototype.destroy=Sr.prototype.destroy,Sr.prototype.$e=function(){return this.h},Sr.prototype.getVideo=Sr.prototype.$e,Sr.prototype.Te=function(){return this.l},Sr.prototype.getPlayer=Sr.prototype.Te,Sr.prototype.se=function(){return!!this.a&&(this.a.h&&wr)},Sr.prototype.canCast=Sr.prototype.se,Sr.prototype.ga=function(){return!!this.a&&this.a.ga()},Sr.prototype.isCasting=Sr.prototype.ga,Sr.prototype.gd=function(){return this.a?this.a.gd():""},Sr.prototype.receiverName=Sr.prototype.gd,Sr.prototype.cast=function(){if(!this.a)throw new pt(1,8,8007);var t=Ar(this);return this.a.cast(t).then(function(){if(this.b)return this.b.wd()}.bind(this))},Sr.prototype.cast=Sr.prototype.cast,Sr.prototype.od=function(t){this.a&&this.a.od(t)},Sr.prototype.setAppData=Sr.prototype.od,Sr.prototype.cg=function(){if(this.a){var t=this.a;if(t.b){var e=t.C();chrome.cast.requestSession(t.dd.bind(t,e),t.Od.bind(t))}}},Sr.prototype.suggestDisconnect=Sr.prototype.cg,Sr.prototype.ve=function(t){var e=this;return p((function n(){return L(n,(function(n){switch(n.j){case 1:if(t==e.m)return n.return();if(e.m=t,!e.a){n.A(2);break}return e.a.Ib(),T(n,e.a.destroy(),3);case 3:e.a=null;case 2:e.a=new br(t,(function(){return kr(e)}),(function(){return Cr(e)}),(function(t,n){return Nr(e,t,n)}),(function(){return Ir(e)}),(function(){return Ar(e)})),e.a.init(),x(n)}}))}))},Sr.prototype.changeReceiverId=Sr.prototype.ve,Sr.prototype.Ib=function(){this.a&&this.a.Ib()},Sr.prototype.forceDisconnect=Sr.prototype.Ib,(r=Sr.prototype).kg=function(t){if("addEventListener"==t)return this.f.addEventListener.bind(this.f);if("removeEventListener"==t)return this.f.removeEventListener.bind(this.f);if(this.a&&this.a.ga()&&0==Object.keys(this.a.a.video).length){var e=this.c[t];if("function"!=typeof e)return e}return this.a&&this.a.ga()?this.a.get("video",t):("function"==typeof(t=this.c[t])&&(t=t.bind(this.c)),t)},r.mg=function(t,e){this.a&&this.a.ga()?this.a.set("video",t,e):this.c[t]=e},r.lg=function(t){this.a&&this.a.ga()||this.f.dispatchEvent(new Tt(t.type,t))},r.Wd=function(t){if("addEventListener"==t)return this.g.addEventListener.bind(this.g);if("removeEventListener"==t)return this.g.removeEventListener.bind(this.g);if("getMediaElement"==t)return function(){return this.h}.bind(this);if("getSharedConfiguration"==t)return this.a?this.a.get("player","getConfiguration"):this.b.getConfiguration();if("getNetworkingEngine"==t)return this.b.Kb.bind(this.b);if(this.a&&this.a.ga()){if("getManifest"==t||"drmInfo"==t)return function(){return X(t+"() does not work while casting!"),null};if("getManifestUri"==t)return nr("getManifestUri",'Please use "getAssetUri" instead.'),this.Wd("getAssetUri");if("attach"==t||"detach"==t)return function(){return X(t+"() does not work while casting!"),Promise.resolve()}}return this.a&&this.a.ga()&&0==Object.keys(this.a.a.video).length&&fr[t]||!this.a||!this.a.ga()?this.b[t].bind(this.b):this.a.get("player",t)},r.Af=function(t){this.a&&this.a.ga()||this.g.dispatchEvent(t)},G(Pr,St),z("shaka.cast.CastReceiver",Pr),Pr.prototype.isConnected=function(){return this.u},Pr.prototype.isConnected=Pr.prototype.isConnected,Pr.prototype.df=function(){return this.h},Pr.prototype.isIdle=Pr.prototype.df,Pr.prototype.destroy=function(){var t=this;return p((function e(){var n;return L(e,(function(e){switch(e.j){case 1:return t.c&&(t.c.release(),t.c=null),n=[],t.b&&(n.push(t.b.destroy()),t.b=null),t.C&&(t.C.stop(),t.C=null),t.a=null,t.D=null,t.s=null,t.u=!1,t.h=!0,t.f=null,t.i=null,T(e,Promise.all(n),2);case 2:cast.receiver.CastReceiverManager.getInstance().stop(),x(e)}}))}))},Pr.prototype.destroy=Pr.prototype.destroy,(r=Pr.prototype).Sd=function(){this.g=0,this.l=!0,this.u=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Mr(this)},r.Yd=function(t,e){this.b&&(Rr(this),Ur(this,{type:"event",targetName:t,event:e},this.f))},r.Ce=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Ur(this,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},this.f),Ur(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},r.tf=function(t){var e=gr(t.data);switch(e.type){case"init":this.g=0,this.m=!1,this.l=!0,function(t,e,n){for(var r in e.player)t.b[r](e.player[r]);t.s(n),n=Promise.resolve();var i=t.a.autoplay;e.manifest&&(t.a.autoplay=!1,n=t.b.load(e.manifest,e.startTime)),n.then((function(){if(t.b){for(var n in e.video)t.a[n]=e.video[n];for(var r in e.playerAfterLoad)t.b[r](e.playerAfterLoad[r]);t.a.autoplay=i,e.manifest&&(t.a.play(),Dr(t,0))}}),(function(e){t.b.dispatchEvent(new Tt("error",{detail:e}))}))}(this,e.initState,e.appData),Rr(this);break;case"appData":this.s(e.appData);break;case"set":var n=e.targetName,r=e.property;if(e=e.value,"video"==n){var i=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){i.setSystemVolumeLevel(e);break}if("muted"==r){i.setSystemVolumeMuted(e);break}}this.D[n][r]=e;break;case"call":(n=this.D[e.targetName])[e.methodName].apply(n,e.args);break;case"asyncCall":n=e.targetName,r=e.methodName,"player"==n&&"load"==r&&(this.g=0,this.m=!1),i=e.id,t=t.senderId;var a=this.D[n];e=a[r].apply(a,e.args),"player"==n&&"load"==r&&(e=e.then(function(){this.l=!0}.bind(this))),e.then(this.ce.bind(this,t,i,null),this.ce.bind(this,t,i))}},r.gf=function(t){var e=gr(t.data);switch(e.type){case"PLAY":this.a.play(),Dr(this,0);break;case"PAUSE":this.a.pause(),Dr(this,0);break;case"SEEK":t=e.currentTime;var n=e.resumeState;null!=t&&(this.a.currentTime=Number(t)),n&&"PLAYBACK_START"==n?(this.a.play(),Dr(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),Dr(this,0));break;case"STOP":this.b.wd().then(function(){this.b&&Dr(this,0)}.bind(this));break;case"GET_STATUS":Dr(this,Number(e.requestId));break;case"VOLUME":t=(n=e.volume).level,n=n.muted;var r=this.a.volume,i=this.a.muted;null!=t&&(this.a.volume=Number(t)),null!=n&&(this.a.muted=n),r==this.a.volume&&i==this.a.muted||Dr(this,0);break;case"LOAD":this.g=0,this.l=this.m=!1,t=e.media,n=e.currentTime,r=this.F(t.contentId),i=e.autoplay||!0,this.s(t.customData),i&&(this.a.autoplay=!0),this.b.load(r,n).then(function(){this.b&&Lr(this)}.bind(this)).catch(function(t){var n="LOAD_FAILED";7==t.category&&7e3==t.code&&(n="LOAD_CANCELLED"),Ur(this,{requestId:Number(e.requestId),type:n},this.i)}.bind(this));break;default:Ur(this,{requestId:Number(e.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},r.ce=function(t,e,n){this.b&&Ur(this,{type:"asyncComplete",id:e,error:n},this.f,t)};var jr={IDLE:"IDLE",ne:"PLAYING",ke:"BUFFERING",me:"PAUSED"};function Fr(t,e){this.J=t,this.b=e==Br,this.a=0}z("shaka.util.DataViewReader",Fr);var Br=1;function zr(){throw new pt(2,3,3e3)}function Gr(){this.c=[],this.b=[],this.a=!1}function Vr(t){for(var e=null!=t.flags?12:8;t.reader.ua()&&!t.parser.a;)t.parser.oc(t.start+e,t.reader,t.partialOkay)}function Kr(t){for(var e=null!=t.flags?12:8,n=t.reader.G();0<n&&!t.parser.a;--n)t.parser.oc(t.start+e,t.reader,t.partialOkay)}function Hr(t){return function(e){t(e.reader.Za(e.reader.J.byteLength-e.reader.ca()))}}function qr(t){for(var e=0,n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e}function Wr(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function Xr(t){var e=this;this.b=[],this.a=[],this.data=[],(new Gr).H("moov",Vr).fa("pssh",(function(t){if(!(1<t.version)){var n=t.reader.J;if(n=new Uint8Array(n.buffer,n.byteOffset-12,t.size),e.data.push(n),e.b.push(de.vc(t.reader.Za(16))),0<t.version){n=t.reader.G();for(var r=0;r<n;++r){var i=de.vc(t.reader.Za(16));e.a.push(i)}}}})).parse(t)}Fr.Endianness={og:0,qg:Br},Fr.prototype.ua=function(){return this.a<this.J.byteLength},Fr.prototype.hasMoreData=Fr.prototype.ua,Fr.prototype.ca=function(){return this.a},Fr.prototype.getPosition=Fr.prototype.ca,Fr.prototype.Je=function(){return this.J.byteLength},Fr.prototype.getLength=Fr.prototype.Je,Fr.prototype.la=function(){try{var t=this.J.getUint8(this.a);return this.a+=1,t}catch(t){zr()}},Fr.prototype.readUint8=Fr.prototype.la,Fr.prototype.Rb=function(){try{var t=this.J.getUint16(this.a,this.b);return this.a+=2,t}catch(t){zr()}},Fr.prototype.readUint16=Fr.prototype.Rb,Fr.prototype.G=function(){try{var t=this.J.getUint32(this.a,this.b);return this.a+=4,t}catch(t){zr()}},Fr.prototype.readUint32=Fr.prototype.G,Fr.prototype.Zd=function(){try{var t=this.J.getInt32(this.a,this.b);return this.a+=4,t}catch(t){zr()}},Fr.prototype.readInt32=Fr.prototype.Zd,Fr.prototype.Ab=function(){try{if(this.b)var t=this.J.getUint32(this.a,!0),e=this.J.getUint32(this.a+4,!0);else e=this.J.getUint32(this.a,!1),t=this.J.getUint32(this.a+4,!1)}catch(t){zr()}if(2097151<e)throw new pt(2,3,3001);return this.a+=8,e*Math.pow(2,32)+t},Fr.prototype.readUint64=Fr.prototype.Ab,Fr.prototype.Za=function(t){this.a+t>this.J.byteLength&&zr();var e=new Uint8Array(this.J.buffer,this.J.byteOffset+this.a,t);return this.a+=t,e},Fr.prototype.readBytes=Fr.prototype.Za,Fr.prototype.M=function(t){this.a+t>this.J.byteLength&&zr(),this.a+=t},Fr.prototype.skip=Fr.prototype.M,Fr.prototype.ae=function(t){this.a<t&&zr(),this.a-=t},Fr.prototype.rewind=Fr.prototype.ae,Fr.prototype.seek=function(t){(0>t||t>this.J.byteLength)&&zr(),this.a=t},Fr.prototype.seek=Fr.prototype.seek,Fr.prototype.fd=function(){for(var t=this.a;this.ua()&&0!=this.J.getUint8(this.a);)this.a+=1;return t=new Uint8Array(this.J.buffer,this.J.byteOffset+t,this.a-t),this.a+=1,oe(t)},Fr.prototype.readTerminatedString=Fr.prototype.fd,z("shaka.util.Mp4Parser",Gr),Gr.prototype.H=function(t,e){var n=qr(t);return this.c[n]=0,this.b[n]=e,this},Gr.prototype.box=Gr.prototype.H,Gr.prototype.fa=function(t,e){var n=qr(t);return this.c[n]=1,this.b[n]=e,this},Gr.prototype.fullBox=Gr.prototype.fa,Gr.prototype.stop=function(){this.a=!0},Gr.prototype.stop=Gr.prototype.stop,Gr.prototype.parse=function(t,e){var n=new Uint8Array(t);for(n=new Fr(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.ua()&&!this.a;)this.oc(0,n,e)},Gr.prototype.parse=Gr.prototype.parse,Gr.prototype.oc=function(t,e,n){var r=e.ca(),i=e.G(),a=e.G();switch(i){case 0:i=e.J.byteLength-r;break;case 1:i=e.Ab()}var o=this.b[a];if(o){var s=null,u=null;1==this.c[a]&&(s=(u=e.G())>>>24,u&=16777215),a=r+i,n&&a>e.J.byteLength&&(a=e.J.byteLength),a-=e.ca(),e=0<a?e.Za(a):new Uint8Array(0),o({parser:this,partialOkay:n||!1,version:s,flags:u,reader:e=new Fr(new DataView(e.buffer,e.byteOffset,e.byteLength),0),size:i,start:r+t})}else e.M(Math.min(r+i-e.ca(),e.J.byteLength-e.ca()))},Gr.prototype.parseNext=Gr.prototype.oc,Gr.children=Vr,Gr.sampleDescription=Kr,Gr.allData=Hr,Gr.typeToString=Wr,(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");var Yr={dc:function(t,e){var n=Yr.O(t,e);return 1!=n.length?null:n[0]},Jc:function(t,e,n){return 1!=(t=Yr.Cd(t,e,n)).length?null:t[0]},O:function(t,e){return Array.prototype.filter.call(t.childNodes,(function(t){return t instanceof Element&&t.tagName==e}))},Cd:function(t,e,n){return Array.prototype.filter.call(t.childNodes,(function(t){return t instanceof Element&&t.localName==n&&t.namespaceURI==e}))},getAttributeNS:function(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null},fc:function(t){return Array.prototype.every.call(t.childNodes,(function(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE}))?t.textContent.trim():null},I:function(t,e,n,r){r=void 0===r?null:r;var i=null;return null!=(t=t.getAttribute(e))&&(i=n(t)),null==i?r:i},xf:function(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null},Ea:function(t){return t&&(t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null},qc:function(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null},parseInt:function(t){return 0==(t=Number(t))%1?t:null},pc:function(t){return 0==(t=Number(t))%1&&0<t?t:null},xb:function(t){return 0==(t=Number(t))%1&&0<=t?t:null},parseFloat:function(t){return t=Number(t),isNaN(t)?null:t},Ae:function(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1])/Number(e[2]):Number(t),isNaN(t)?null:t},Vd:function(t,e){var n=new DOMParser;try{var r=n.parseFromString(t,"text/xml")}catch(t){}if(r&&r.documentElement.tagName==e)var i=r.documentElement;return i&&0<i.getElementsByTagName("parsererror").length?null:i},Ud:function(t,e){try{var n=oe(t);return Yr.Vd(n,e)}catch(t){}}},$r=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime");function Zr(t,e,n){var r=function(t){for(var e=[],n=(t=h(t)).next();!n.done;n=t.next())(n=ti(n.value))&&e.push(n);return e}(t),i=null;t=[];var a=[],o=new Set(r.map((function(t){return t.keyId})));if(o.delete(null),1<o.size)throw new pt(2,4,4010);if(n||(a=r.filter((function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.be||(i=t.init||i,!1)}))).length&&(0==(t=function(t,e,n){for(var r=[],i=(n=h(n)).next();!i.done;i=n.next()){i=i.value;var a=$r.get(i.be);if(a){var o;if(o=Yr.Jc(i.node,"urn:microsoft:playready","pro")){o=de.Ba(o.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),u=o.length,c=s.length+16+u,l=new ArrayBuffer(c),f=new Uint8Array(l);l=new DataView(l);var d=0;l.setUint32(d,c),d+=4,l.setUint32(d,1886614376),d+=4,l.setUint32(d,0),d+=4,f.set(s,d),d+=s.length,l.setUint32(d,u),d+=4,f.set(o,d),o=[{initData:f,initDataType:"cenc",keyId:i.keyId}]}else o=null;o=Ke(a,i.init||t||o),(a=Qr.get(a))&&(o.licenseServerUri=a(i)),r.push(o)}else for(i=h(i=e(i.node)||[]),a=i.next();!a.done;a=i.next())r.push(a.value)}return r}(i,e,a)).length&&(t=[Ke("",i)])),r.length&&(n||!a.length))for(t=[],n=(e=h($r.values())).next();!n.done;n=e.next())"org.w3.clearkey"!=(n=n.value)&&t.push(Ke(n,i));if(o=Array.from(o)[0]||null)for(n=(e=h(t)).next();!n.done;n=e.next())for(r=(n=h(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=o;return{Ad:o,sg:i,drmInfos:t,Dd:!0}}var Jr,Qr=(new Map).set("com.widevine.alpha",(function(t){return(t=Yr.Jc(t.node,"urn:microsoft","laurl"))&&t.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(t){return(t=Yr.Jc(t.node,"urn:microsoft:playready","pro"))&&(t=function(t){var e=0,n=new DataView(t).getUint32(e,!0);if(n!==t.byteLength)return[];e+=6,n=[];for(var r=new DataView(t);e<t.byteLength-1;){var i=r.getUint16(e,!0);e+=2;var a=r.getUint16(e,!0);e+=2;var o=new Uint8Array(t,e,a);n.push({type:i,value:o}),e+=a}return n}((t=de.Ba(t.textContent)).buffer).filter((function(t){return 1===t.type}))[0])?(t=se(t.value,!0),(t=Yr.Vd(t,"WRMHEADER"))?function(t){return(t=t.querySelector("DATA > LA_URL"))?t.textContent:""}(t):""):""}));function ti(t){var e=t.getAttribute("schemeIdUri"),n=Yr.getAttributeNS(t,"urn:mpeg:cenc:2013","default_KID"),r=Yr.Cd(t,"urn:mpeg:cenc:2013","pssh").map(Yr.fc);if(!e)return null;if(e=e.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new pt(2,4,4009);var i=[];try{i=r.map((function(t){return{initDataType:"cenc",initData:de.Ba(t),keyId:null}}))}catch(t){throw new pt(2,4,4007)}return{node:t,be:e,keyId:n,init:0<i.length?i:null}}function ei(e,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(e,n,r,i){if("$$"==e)return"$";var a=o[n];if(null==a)return e;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":e=a.toString();break;case"o":e=a.toString(8);break;case"x":e=a.toString(16);break;case"X":e=a.toString(16).toUpperCase();break;default:e=a.toString()}return r=t.parseInt(r,10)||1,Array(Math.max(0,r-e.length)+1).join("0")+e}))}function ni(t,e){var n=ri(t,e,"timescale"),r=1;n&&(r=Yr.pc(n)||1),n=ri(t,e,"duration"),(n=Yr.pc(n||""))&&(n/=r);var i=ri(t,e,"startNumber"),a=Number(ri(t,e,"presentationTimeOffset"))||0,o=Yr.xb(i||"");null!=i&&null!=o||(o=1);var s=ii(t,e,"SegmentTimeline");if(i=null,s){i=r;var u=t.T.duration||1/0;s=Yr.O(s,"S");for(var c=[],l=0,f=0;f<s.length;++f){var h=s[f],d=Yr.I(h,"t",Yr.xb),p=Yr.I(h,"d",Yr.xb);if(h=Yr.I(h,"r",Yr.parseInt),null!=d&&(d-=a),!p)break;if(d=null!=d?d:l,0>(h=h||0))if(f+1<s.length){if(null==(h=Yr.I(s[f+1],"t",Yr.xb)))break;if(d>=h)break;h=Math.ceil((h-d)/p)-1}else{if(1/0==u)break;if(d/i>=u)break;h=Math.ceil((u*i-d)/p)-1}0<c.length&&d!=l&&(c[c.length-1].end=d/i);for(var v=0;v<=h;++v)l=d+p,c.push({start:d/i,end:l/i,hg:d}),d=l}i=c}return{timescale:r,Z:n,ab:o,ma:a/r||0,xd:a,N:i}}function ri(t,e,n){return[e(t.B),e(t.aa),e(t.ka)].filter(Ge.Ia).map((function(t){return t.getAttribute(n)})).reduce((function(t,e){return t||e}))}function ii(t,e,n){return[e(t.B),e(t.aa),e(t.ka)].filter(Ge.Ia).map((function(t){return Yr.dc(t,n)})).reduce((function(t,e){return t||e}))}function ai(t,e,n,r,i,a){if(a=void 0===a?0:a,Yr.getAttributeNS(t,"http://www.w3.org/1999/xlink","href")){var o=function(t,e,n,r,i,a){for(var o=Yr.getAttributeNS(t,"http://www.w3.org/1999/xlink","href"),s=Yr.getAttributeNS(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=0;u<t.attributes.length;u++){var c=t.attributes[u];"http://www.w3.org/1999/xlink"==c.namespaceURI&&(t.removeAttributeNS(c.namespaceURI,c.localName),--u)}if(5<=a)return yt(new pt(2,4,4028));if("onLoad"!=s)return yt(new pt(2,4,4027));var l=Ve([r],[o]);return i.request(0,Lt(l,e)).U((function(r){if(!(r=Yr.Ud(r.data,t.tagName)))return yt(new pt(2,4,4001,o));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),t.appendChild(s)}for(s=0;s<r.attributes.length;s++){var u=r.attributes[s].nodeName,c=r.getAttribute(u);t.setAttribute(u,c)}return ai(t,e,n,l[0],i,a+1)}))}(t,e,n,r,i,a);return n&&(o=o.U(void 0,(function(){return ai(t,e,n,r,i,a)}))),o}o=[];for(var s=0;s<t.childNodes.length;s++){var u=t.childNodes[s];u instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Yr.getAttributeNS(u,"http://www.w3.org/1999/xlink","href")?(t.removeChild(u),--s):"SegmentTimeline"!=u.tagName&&o.push(ai(u,e,n,r,i,a)))}return Et(o).U((function(){return t}))}function oi(t,e,n){this.c=t,this.b=e,this.a=n}function si(t,e,n,r,i,a){this.position=t,this.startTime=e,this.endTime=n,this.c=r,this.b=i,this.a=a}function ui(t,e,n,r){var i,a=(new Gr).fa("sidx",(function(t){i=function(t,e,n,r){var i=[];r.reader.M(4);var a=r.reader.G();if(0==a)throw new pt(2,3,3005);if(0==r.version)var o=r.reader.G(),s=r.reader.G();else o=r.reader.Ab(),s=r.reader.Ab();r.reader.M(2);var u=r.reader.Rb();for(t=t+r.size+s,s=0;s<u;s++){var c=r.reader.G(),l=(2147483648&c)>>>31;c&=2147483647;var f=r.reader.G();if(r.reader.M(4),1==l)throw new pt(2,3,3006);i.push(new si(i.length,o/a-e,(o+f)/a-e,(function(){return n}),t,t+c-1)),o+=f,t+=c}return r.parser.stop(),i}(e,r,n,t)}));if(t&&a.parse(t),i)return i;throw new pt(2,3,3004)}function ci(t){this.a=t}function li(t,e){for(;t.a.length&&t.a[t.a.length-1].startTime>=e;)t.a.pop();for(;t.a.length&&0>=t.a[0].endTime;)t.a.shift();if(0!=t.a.length){var n=t.a[t.a.length-1];t.a[t.a.length-1]=new si(n.position,n.startTime,e,n.c,n.b,n.a)}}function fi(t){this.b=t,this.a=new Fr(t,0),Jr||(Jr=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function hi(t){var e=di(t);if(7<e.length)throw new pt(2,3,3002);for(var n=0,r=0;r<e.length;r++)n=256*n+e[r];e=n,n=di(t);t:{r=de.za;for(var i=0;i<Jr.length;i++)if(r(n,Jr[i])){r=!0;break t}r=!1}if(r)n=t.b.byteLength-t.a.ca();else{if(8==n.length&&224&n[1])throw new pt(2,3,3001);for(r=n[0]&(1<<8-n.length)-1,i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=t.a.ca()+n<=t.b.byteLength?n:t.b.byteLength-t.a.ca(),r=new DataView(t.b.buffer,t.b.byteOffset+t.a.ca(),n),t.a.M(n),new pi(e,r)}function di(t){var e,n=t.a.la();for(e=1;8>=e&&!(n&1<<8-e);e++);if(8<e)throw new pt(2,3,3002);var r=new Uint8Array(e);for(r[0]=n,n=1;n<e;n++)r[n]=t.a.la();return r}function pi(t,e){this.id=t,this.a=e}function vi(t){if(8<t.a.byteLength)throw new pt(2,3,3002);if(8==t.a.byteLength&&224&t.a.getUint8(0))throw new pt(2,3,3001);for(var e=0,n=0;n<t.a.byteLength;n++){e=256*e+t.a.getUint8(n)}return e}function mi(){}function yi(t){var e=new fi(t.a);if(179!=(t=hi(e)).id)throw new pt(2,3,3013);if(t=vi(t),183!=(e=hi(e)).id)throw new pt(2,3,3012);e=new fi(e.a);for(var n=0;e.ua();){var r=hi(e);if(241==r.id){n=vi(r);break}}return{ig:t,Ff:n}}function gi(t,e){var n=ii(t,e,"Initialization");if(!n)return null;var r=t.B.qa,i=n.getAttribute("sourceURL");i&&(r=Ve(t.B.qa,[i])),i=0;var a=null;return(n=Yr.I(n,"range",Yr.qc))&&(i=n.start,a=n.end),new oi((function(){return r}),i,a)}function bi(t,e,n,r,i,a,o,s){var u=t.presentationTimeline,c=!t.mb||!t.T.Uc,l=t.T.start,f=t.T.duration,h=e,d=null;return{createSegmentIndex:function(){var t=[h(r,i,a),"webm"==o?h(n.c(),n.b,n.a):null];return h=null,Promise.all(t).then((function(t){var e=t[0];t=t[1]||null,e="mp4"==o?ui(e,i,r,s):(new mi).parse(e,t,r,s),u.ub(e,l),d=new ci(e),c&&li(d,f)}))},findSegmentPosition:function(t){return d.find(t)},getSegmentReference:function(t){return d.get(t)}}}function wi(t){return t.Sb}function Ei(t,e){var n=gi(t,_i),r=function(t){return[t.B.La,t.aa.La,t.ka.La].filter(Ge.Ia).map((function(t){return Yr.O(t,"SegmentURL")})).reduce((function(t,e){return 0<t.length?t:e})).map((function(e){return e.getAttribute("indexRange")&&!t.Hd&&(t.Hd=!0),{ef:e.getAttribute("media"),start:(e=Yr.I(e,"mediaRange",Yr.qc,{start:0,end:null})).start,end:e.end}}))}(t),i=ni(t,_i),a=i.ab;0==a&&(a=1);var o=0;if(i.Z?o=i.Z*(a-1):i.N&&0<i.N.length&&(o=i.N[0].start),!(r={Z:i.Z,startTime:o,ab:a,ma:i.ma,N:i.N,sb:r}).Z&&!r.N&&1<r.sb.length)throw new pt(2,4,4002);if(!r.Z&&!t.T.duration&&!r.N&&1==r.sb.length)throw new pt(2,4,4002);if(r.N&&0==r.N.length)throw new pt(2,4,4002);return a=i=null,t.ka.id&&t.B.id&&(i=e[a=t.ka.id+","+t.B.id]),o=function(t,e,n,r){var i=r.sb.length;r.N&&r.N.length!=r.sb.length&&(i=Math.min(r.N.length,r.sb.length));for(var a=[],o=r.startTime,s=0;s<i;s++){var u,c=r.sb[s],l=Ve(n,[c.ef]);u=null!=r.Z?o+r.Z:r.N?r.N[s].end:o+t,a.push(new si(s+e,o,u,function(t){return t}.bind(null,l),c.start,c.end)),o=u}return a}(t.T.duration,r.ab,t.B.qa,r),i?(i.Xc(o),a=t.presentationTimeline.Mb(),i.Gc(a-t.T.start)):(t.presentationTimeline.ub(o,t.T.start),i=new ci(o),a&&t.mb&&(e[a]=i)),t.mb&&t.T.Uc||li(i,t.T.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:n,ma:r.ma}}function _i(t){return t.La}function Ti(t,e,n,r){var i=function(t){var e=ri(t,xi,"initialization");if(!e)return null;var n=t.B.id,r=t.bandwidth||null,i=t.B.qa;return new oi((function(){var t=ei(e,n,null,r,null);return Ve(i,[t])}),0,null)}(t),a=ni(t,xi),o=ri(t,xi,"media"),s=ri(t,xi,"index");if(o=(a={Z:a.Z,timescale:a.timescale,ab:a.ab,ma:a.ma,xd:a.xd,N:a.N,Wc:o,Ob:s}).Ob?1:0,o+=a.N?1:0,0==(o+=a.Z?1:0))throw new pt(2,4,4002);if(1!=o&&(a.Ob&&(a.N=null),a.Z=null),!a.Ob&&!a.Wc)throw new pt(2,4,4002);if(a.Ob){if("mp4"!=(n=t.B.mimeType.split("/")[1])&&"webm"!=n)throw new pt(2,4,4006);if("webm"==n&&!i)throw new pt(2,4,4005);r=ei(a.Ob,t.B.id,null,t.bandwidth||null,null),t=bi(t,e,i,r=Ve(t.B.qa,[r]),0,null,n,a.ma)}else a.Z?(r||(t.presentationTimeline.Zc(a.Z),t.presentationTimeline.$c(t.T.start)),t=function(t,e){var n=t.T.duration,r=e.Z,i=e.ab,a=e.timescale,o=e.Wc,s=t.bandwidth||null,u=t.B.id,c=t.B.qa;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0>t||n&&t>=n?null:Math.floor(t/r)},getSegmentReference:function(t){var e=t*r,l=e+r;return n&&(l=Math.min(l,n)),0>l||n&&e>=n?null:new si(t,e,l,(function(){var n=ei(o,u,t+i,s,e*a);return Ve(c,[n])}),0,null)}}}(t,a)):(o=e=null,t.ka.id&&t.B.id&&(e=n[o=t.ka.id+","+t.B.id]),s=function(t,e){for(var n=[],r=0;r<e.N.length;r++){var i=r+e.ab;n.push(new si(i,e.N[r].start,e.N[r].end,function(t,e,n,r,i,a){return Ve(r,[t=ei(t,e,i,n,a)]).map((function(t){return t.toString()}))}.bind(null,e.Wc,t.B.id,t.bandwidth||null,t.B.qa,i,e.N[r].hg+e.xd),0,null))}return n}(t,a),r=!t.mb||!t.T.Uc,e?(r&&li(new ci(s),t.T.duration),e.Xc(s),n=t.presentationTimeline.Mb(),e.Gc(n-t.T.start)):(t.presentationTimeline.ub(s,t.T.start),e=new ci(s),o&&t.mb&&(n[o]=e)),r&&li(e,t.T.duration),t={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e)});return{createSegmentIndex:t.createSegmentIndex,findSegmentPosition:t.findSegmentPosition,getSegmentReference:t.getSegmentReference,initSegmentReference:i,ma:a.ma}}function xi(t){return t.Ub}z("shaka.media.InitSegmentReference",oi),oi.prototype.Dc=function(){return this.c()},oi.prototype.createUris=oi.prototype.Dc,oi.prototype.Pc=function(){return this.b},oi.prototype.getStartByte=oi.prototype.Pc,oi.prototype.Oc=function(){return this.a},oi.prototype.getEndByte=oi.prototype.Oc,z("shaka.media.SegmentReference",si),si.prototype.ca=function(){return this.position},si.prototype.getPosition=si.prototype.ca,si.prototype.Qc=function(){return this.startTime},si.prototype.getStartTime=si.prototype.Qc,si.prototype.He=function(){return this.endTime},si.prototype.getEndTime=si.prototype.He,si.prototype.Dc=function(){return this.c()},si.prototype.createUris=si.prototype.Dc,si.prototype.Pc=function(){return this.b},si.prototype.getStartByte=si.prototype.Pc,si.prototype.Oc=function(){return this.a},si.prototype.getEndByte=si.prototype.Oc,z("shaka.media.SegmentIndex",ci),ci.prototype.destroy=function(){return this.a=null,Promise.resolve()},ci.prototype.destroy=ci.prototype.destroy,ci.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var n=this.a[e];if(t>=n.startTime&&t<n.endTime)return n.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},ci.prototype.find=ci.prototype.find,ci.prototype.get=function(t){return 0==this.a.length?null:0>(t-=this.a[0].position)||t>=this.a.length?null:this.a[t]},ci.prototype.get=ci.prototype.get,ci.prototype.offset=function(t){for(var e=0;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t},ci.prototype.offset=ci.prototype.offset,ci.prototype.Xc=function(t){for(var e=[],n=0,r=0;n<this.a.length&&r<t.length;){var i=this.a[n],a=t[r];i.startTime<a.startTime?(e.push(i),n++):(i.startTime>a.startTime?0==n&&e.push(a):(.1<Math.abs(i.endTime-a.endTime)?e.push(new si(i.position,a.startTime,a.endTime,a.c,a.b,a.a)):e.push(i),n++),r++)}for(;n<this.a.length;)e.push(this.a[n++]);if(e.length)for(n=e[e.length-1].position+1;r<t.length;)i=new si(n++,(i=t[r++]).startTime,i.endTime,i.c,i.b,i.a),e.push(i);else e=t;this.a=e},ci.prototype.merge=ci.prototype.Xc,ci.prototype.Gc=function(t){for(var e=0;e<this.a.length;++e)if(this.a[e].endTime>t)return void this.a.splice(0,e);this.a=[]},ci.prototype.evict=ci.prototype.Gc,fi.prototype.ua=function(){return this.a.ua()},mi.prototype.parse=function(t,e,n,r){var i;if(440786851!=hi(e=new fi(new DataView(e))).id)throw new pt(2,3,3008);var a=hi(e);if(408125543!=a.id)throw new pt(2,3,3009);for(e=a.a.byteOffset,a=new fi(a.a),i=null;a.ua();){var o=hi(a);if(357149030==o.id){i=o;break}}if(!i)throw new pt(2,3,3010);for(a=new fi(i.a),i=1e6,o=null;a.ua();){var s=hi(a);if(2807729==s.id)i=vi(s);else if(17545==s.id)if(4==(o=s).a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new pt(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new pt(2,3,3011);if(i=o*(a=i/1e9),475249515!=(t=hi(new fi(new DataView(t)))).id)throw new pt(2,3,3007);return function(t,e,n,r,i,a){function o(){return i}var s=[];t=new fi(t.a);for(var u=null,c=null;t.ua();){var l=hi(t);if(187==l.id){var f=yi(l);f&&(l=n*f.ig,f=e+f.Ff,null!=u&&s.push(new si(s.length,u-a,l-a,o,c,f-1)),u=l,c=f)}}return null!=u&&s.push(new si(s.length,u-a,r-a,o,c,null)),s}(t,e,a,i,n,r)};var Si={yb:{},Qb:{},jd:function(t,e){Si.Qb[t]=e}};function Ai(t,e,n){this.f=t,this.rc=e,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.l=0,this.m=!0,this.i=0,this.s=void 0===n||n}function ki(t,e,n,r){return t=Lt(t,r),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function Ci(){var t=this;this.b=this.a=null,this.f=[],this.c=null,this.l=[],this.h=1,this.m={},this.s=0,this.u=new V(5),this.i=new ft((function(){!function(t){p((function e(){var n,r;return L(e,(function(e){switch(e.j){case 1:return n=0,S(e,2),T(e,Ii(t),4);case 4:n=e.o,k(e,3);break;case 2:r=C(e),t.b&&(r.severity=1,t.b.onError(r));case 3:if(!t.b)return e.return();Ri(t,n),x(e)}}))}))}(t)})),this.g=new Nt}function Ii(t){var e=Date.now(),n=t.b.networkingEngine.request(0,Lt(t.f,t.a.retryParameters));return Pt(t.g,n),n.promise.then((function(e){if(t.b)return e.uri&&!t.f.includes(e.uri)&&t.f.unshift(e.uri),function(t,e,n){if(!(e=Yr.Ud(e,"MPD")))throw new pt(2,4,4001,n);return e=ai(e,t.a.retryParameters,t.a.dash.xlinkFailGracefully,n,t.b.networkingEngine),Pt(t.g,e),e.promise.then((function(e){return function(t,e,n){return p((function r(){var i,a,o,s,u,c,l,f,h,d,p,v,m,y,g,b,w,E,_,S,A,k,C,I;return L(r,(function(r){switch(r.j){case 1:s=Ge,c=[n],0<(l=(u=Yr).O(e,"Location").map(u.fc).filter(s.Ia)).length&&(f=Ve(c,l),c=t.f=f),h=u.O(e,"BaseURL").map(u.fc),d=Ve(c,h),p=t.a.dash.ignoreMinBufferTime,v=0,p||(v=u.I(e,"minBufferTime",u.Ea)),t.s=u.I(e,"minimumUpdatePeriod",u.Ea,-1),m=u.I(e,"availabilityStartTime",u.xf),y=u.I(e,"timeShiftBufferDepth",u.Ea),g=u.I(e,"maxSegmentDuration",u.Ea),b=e.getAttribute("type")||"static",w=t.a.dash.ignoreSuggestedPresentationDelay,E=null,w||(E=u.I(e,"suggestedPresentationDelay",u.Ea)),t.c?_=t.c.presentationTimeline:(S=Math.max(t.a.dash.defaultPresentationDelay,1.5*v),_=new Ai(m,null!=E?E:S,t.a.dash.autoCorrectDrift));for(var N={mb:"static"!=b,presentationTimeline:_,ka:null,T:null,aa:null,B:null,bandwidth:0,Hd:!1},P=d,M=Yr.I(e,"mediaPresentationDuration",Yr.Ea),R=[],O=0,L=Yr.O(e,"Period"),U=0;U<L.length;U++){var D=L[U];O=Yr.I(D,"start",Yr.Ea,O);var j=Yr.I(D,"duration",Yr.Ea),F=null;if(U!=L.length-1){var B=Yr.I(L[U+1],"start",Yr.Ea);null!=B&&(F=B-O)}else null!=M&&(F=M-O);if(null==F&&(F=j),D=Ni(t,N,P,{start:O,duration:F,node:D,Uc:null==F||U==L.length-1}),R.push(D),j=N.ka.id,t.l.includes(j)||(t.l.push(j),t.c&&(t.b.filterNewPeriod(D),t.c.periods.push(D))),null==F){O=null;break}O+=F}if(null==t.c&&t.b.filterAllPeriods(R),null!=M?(i=R,a=M,o=!1):(i=R,a=O,o=!0),A=a,k=i,_.Vb("static"==b),"static"!=b&&o||_.xa(A||1/0),_.V()&&!isNaN(t.a.availabilityWindowOverride)&&(y=t.a.availabilityWindowOverride),null==y&&(y=1/0),_.rd(y),_.Zc(g||1),t.c){r.A(0);break}if(t.c={presentationTimeline:_,periods:k,offlineSessionIds:[],minBufferTime:v||0},!_.ie()){r.A(0);break}return C=u.O(e,"UTCTiming"),T(r,function(t,e,n){n=n.map((function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}}));var r=t.a.dash.clockSyncUri;return!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),Ge.ye(n,function(t){var n=t.scheme;switch(t=t.value,n){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Li(this,e,t,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Li(this,e,t,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return n=Date.parse(t),isNaN(n)?0:n-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return X("NTP UTCTiming scheme is not supported"),Promise.reject();default:return X("Unrecognized scheme in UTCTiming element",n),Promise.reject()}}.bind(t)).catch((function(){return X("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))}(t,d,C),4);case 4:if(I=r.o,!t.b)return r.return();_.de(I),x(r)}}))}))}(t,e,n)}))}(t,e.data,e.uri)})).then((function(){var n=(Date.now()-e)/1e3;return K(t.u,1,n),n}))}function Ni(t,e,n,r){if(e.ka=Oi(r.node,null,n),e.T=r,e.ka.id||(e.ka.id="__shaka_period_"+r.start),Yr.O(r.node,"EventStream").forEach(t.yf.bind(t,r.start,r.duration)),n=Yr.O(r.node,"AdaptationSet").map(t.wf.bind(t,e)).filter(Ge.Ia),e.mb){e=[];for(var i=h(n),a=i.next();!a.done;a=i.next())for(var o=(a=h(a.value.If)).next();!o.done;o=a.next())e.push(o.value);if(e.length!=new Set(e).size)throw new pt(2,4,4018)}var s=n.filter((function(t){return!t.vd}));if(n.filter((function(t){return t.vd})).forEach((function(t){var e=t.streams[0],n=t.vd;s.forEach((function(t){t.id==n&&t.streams.forEach((function(t){t.trickModeVideo=e}))}))})),e=Pi(s,"video"),i=Pi(s,"audio"),!e.length&&!i.length)throw new pt(2,4,4004);for(n=t.a.disableAudio,i.length&&!n||(i=[null]),n=t.a.disableVideo,e.length&&!n||(e=[null]),n=[],a=0;a<i.length;a++)for(o=0;o<e.length;o++)Mi(t,i[a],e[o],n);if(e=[],!t.a.disableText)for(t=Pi(s,"text"),i=0;i<t.length;i++)e.push.apply(e,t[i].streams);return{startTime:r.start,textStreams:e,variants:n}}function Pi(t,e){return t.filter((function(t){return t.contentType==e}))}function Mi(t,e,n,r){if(e||n)if(e&&n){var i=e.drmInfos,a=n.drmInfos;if(!i.length||!a.length||0<Ne(i,a).length){a=Ne(e.drmInfos,n.drmInfos);for(var o=0;o<e.streams.length;o++)for(var s=0;s<n.streams.length;s++)i=(n.streams[s].bandwidth||0)+(e.streams[o].bandwidth||0),i={id:t.h++,language:e.language,primary:e.Vc||n.Vc,audio:e.streams[o],video:n.streams[s],bandwidth:i,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}else for(a=e||n,o=0;o<a.streams.length;o++)i=a.streams[o].bandwidth||0,i={id:t.h++,language:a.language||"und",primary:a.Vc,audio:e?a.streams[o]:null,video:n?a.streams[o]:null,bandwidth:i,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Ri(t,e){0>t.s||t.i.P(Math.max(3,t.s-e,H(t.u)))}function Oi(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,ad:null,audioSamplingRate:null},n=n||e.qa;var r=Yr.xb,i=Yr.Ae,a=Yr.O(t,"BaseURL").map(Yr.fc),o=t.getAttribute("contentType")||e.contentType,s=t.getAttribute("mimeType")||e.mimeType,u=t.getAttribute("codecs")||e.codecs;i=Yr.I(t,"frameRate",i)||e.frameRate;for(var c=t.getAttribute("par")||e.pixelAspectRatio,l=Yr.O(t,"InbandEventStream"),f=e.emsgSchemeIdUris.slice(),d=(l=h(l)).next();!d.done;d=l.next())d=d.value.getAttribute("schemeIdUri"),f.includes(d)||f.push(d);return l=function(t){for(var e=0;e<t.length;++e){var n=t[e],r=n.getAttribute("schemeIdUri");if(r&&(n=n.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(r=parseInt(n,10)))continue;return r;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(r=parseInt(n,16)){for(t=0;r;)1&r&&++t,r>>=1;return t}}}return null}(l=Yr.O(t,"AudioChannelConfiguration"))||e.ad,d=Yr.I(t,"audioSamplingRate",r)||e.audioSamplingRate,o||(o=Ui(s,u)),{qa:Ve(n,a),Sb:Yr.dc(t,"SegmentBase")||e.Sb,La:Yr.dc(t,"SegmentList")||e.La,Ub:Yr.dc(t,"SegmentTemplate")||e.Ub,width:Yr.I(t,"width",r)||e.width,height:Yr.I(t,"height",r)||e.height,contentType:o,mimeType:s,codecs:u,frameRate:i,pixelAspectRatio:c,emsgSchemeIdUris:f,id:t.getAttribute("id"),ad:l,audioSamplingRate:d}}function Li(t,e,n,r){return(e=Lt(e=Ve(e,[n]),t.a.retryParameters)).method=r,e=t.b.networkingEngine.request(4,e),Pt(t.g,e),e.promise.then((function(t){if("HEAD"==r){if(!t.headers||!t.headers.date)return 0;t=t.headers.date}else t=oe(t.data);return t=Date.parse(t),isNaN(t)?0:t-Date.now()}))}function Ui(t,e){return mn($t(t,e))?"text":t.split("/")[0]}function Di(t,e,n,r){this.b=t,this.type=e,this.a=n,this.segments=r||null}function ji(t,e,n,r){this.id=t,this.name=e,this.a=n,this.value=void 0===r?null:r}function Fi(t,e){this.name=t,this.value=e}function Bi(t,e,n){return(t=t.getAttribute(e))?t.value:n||null}function zi(t,e){this.b=e,this.a=t}z("shaka.media.ManifestParser.registerParserByExtension",Si.jd),Si.Bb=function(t,e){Si.yb[t]=e},z("shaka.media.ManifestParser.registerParserByMime",Si.Bb),Si.Cf=function(){var t={};if(Qt()){for(var e in Si.yb)t[e]=!0;for(var n in Si.Qb)t[n]=!0}e={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var r=(n=h(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!r.done;r=n.next())t[r=r.value]=Qt()?!!Si.yb[r]:te(r);for(var i in e)t[i]=Qt()?!!Si.Qb[i]:te(e[i]);return t},Si.create=function(t,e,n,r){return p((function i(){var a,o;return L(i,(function(i){switch(i.j){case 1:return S(i,2),T(i,Si.Ie(t,e,n,r),4);case 4:return a=i.o,i.return(new a);case 2:throw(o=C(i)).severity=2,o}}))}))},Si.Ie=function(t,e,n,r){return p((function i(){var a,o,s,u,c;return L(i,(function(i){switch(i.j){case 1:if(a=Si,r&&(o=a.yb[r.toLowerCase()]))return i.return(o);if((s=a.getExtension(t))&&(u=a.Qb[s]))return i.return(u);if(r){i.A(2);break}return T(i,a.Qe(t,e,n),3);case 3:if((r=i.o)&&(c=Si.yb[r]))return i.return(c);case 2:throw new pt(2,4,4e3,t)}}))}))},Si.Qe=function(t,e,n){return p((function r(){var i,a,o;return L(r,(function(r){switch(r.j){case 1:return(i=Lt([t],n)).method="HEAD",T(r,e.request(0,i).promise,2);case 2:return a=r.o,o=a.headers["content-type"],r.return(o?o.toLowerCase().split(";").shift():"")}}))}))},Si.getExtension=function(t){return 1==(t=new Z(t).ja.split("/").pop().split(".")).length?"":t.pop().toLowerCase()},Si.isSupported=function(t,e){return!!Qt()&&(e in Si.yb||Si.getExtension(t)in Si.Qb)},z("shaka.media.PresentationTimeline",Ai),Ai.prototype.Y=function(){return this.g},Ai.prototype.getDuration=Ai.prototype.Y,Ai.prototype.Oe=function(){return this.a},Ai.prototype.getMaxSegmentDuration=Ai.prototype.Oe,Ai.prototype.xa=function(t){this.g=t},Ai.prototype.setDuration=Ai.prototype.xa,Ai.prototype.Ve=function(){return this.f},Ai.prototype.getPresentationStartTime=Ai.prototype.Ve,Ai.prototype.de=function(t){this.l=t},Ai.prototype.setClockOffset=Ai.prototype.de,Ai.prototype.Vb=function(t){this.m=t},Ai.prototype.setStatic=Ai.prototype.Vb,Ai.prototype.rd=function(t){this.h=t},Ai.prototype.setSegmentAvailabilityDuration=Ai.prototype.rd,Ai.prototype.Tf=function(t){this.rc=t},Ai.prototype.setDelay=Ai.prototype.Tf,Ai.prototype.Ge=function(){return this.rc},Ai.prototype.getDelay=Ai.prototype.Ge,Ai.prototype.ub=function(t,e){if(0!=t.length){var n=t[t.length-1].endTime+e;this.$c(t[0].startTime+e),this.a=t.reduce((function(t,e){return Math.max(t,e.endTime-e.startTime)}),this.a),this.b=Math.max(this.b,n),null!=this.f&&this.s&&(this.f=(Date.now()+this.l)/1e3-this.b-this.a)}},Ai.prototype.notifySegments=Ai.prototype.ub,Ai.prototype.$c=function(t){this.c=null==this.c?t:Math.min(this.c,t)},Ai.prototype.notifyMinSegmentStartTime=Ai.prototype.$c,Ai.prototype.Zc=function(t){this.a=Math.max(this.a,t)},Ai.prototype.notifyMaxSegmentDuration=Ai.prototype.Zc,Ai.prototype.offset=function(t){null!=this.c&&(this.c+=t),null!=this.b&&(this.b+=t)},Ai.prototype.offset=Ai.prototype.offset,Ai.prototype.V=function(){return 1/0==this.g&&!this.m},Ai.prototype.isLive=Ai.prototype.V,Ai.prototype.Xa=function(){return 1/0!=this.g&&!this.m},Ai.prototype.isInProgress=Ai.prototype.Xa,Ai.prototype.Mb=function(){if(1/0==this.h)return this.i;var t=this.pb()-this.h;return Math.max(this.i,t)},Ai.prototype.getSegmentAvailabilityStart=Ai.prototype.Mb,Ai.prototype.ee=function(t){this.i=t},Ai.prototype.setUserSeekStart=Ai.prototype.ee,Ai.prototype.pb=function(){return this.V()||this.Xa()?Math.min(Math.max(0,(Date.now()+this.l)/1e3-this.a-this.f),this.g):this.g},Ai.prototype.getSegmentAvailabilityEnd=Ai.prototype.pb,Ai.prototype.Lb=function(t){var e=Math.max(this.c,this.i);if(1/0==this.h)return e;var n=this.pb()-this.h;return t=Math.min(n+t,this.Ca()),Math.max(e,t)},Ai.prototype.getSafeSeekRangeStart=Ai.prototype.Lb,Ai.prototype.ob=function(){return this.Lb(0)},Ai.prototype.getSeekRangeStart=Ai.prototype.ob,Ai.prototype.Ca=function(){var t=this.V()||this.Xa()?this.rc:0;return Math.max(0,this.pb()-t)},Ai.prototype.getSeekRangeEnd=Ai.prototype.Ca,Ai.prototype.ie=function(){return null!=this.f&&null==this.b},Ai.prototype.usingPresentationStartTime=Ai.prototype.ie,z("shaka.dash.DashParser",Ci),(r=Ci.prototype).configure=function(t){this.a=t},r.start=function(t,e){var n=this;return p((function r(){var i;return L(r,(function(r){switch(r.j){case 1:return n.f=[t],n.b=e,T(r,Ii(n),2);case 2:if(i=r.o,n.b&&Ri(n,i),!n.b)throw new pt(2,7,7001);return r.return(n.c)}}))}))},r.stop=function(){return this.a=this.b=null,this.f=[],this.c=null,this.l=[],this.m={},null!=this.i&&(this.i.stop(),this.i=null),this.g.destroy()},r.update=function(){Ii(this).catch(function(t){this.b&&this.b.onError(t)}.bind(this))},r.onExpirationUpdated=function(){},r.wf=function(t,e){if(t.aa=Oi(e,t.ka,null),"image"==t.aa.contentType)return null;var n=!1,r=Yr.O(e,"Role"),i=r.map((function(t){return t.getAttribute("value")})).filter(Ge.Ia),a=void 0,o="text"==t.aa.contentType;o&&(a="subtitle");for(var s=0;s<r.length;s++){var u=r[s].getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(u=r[s].getAttribute("value"),u){case"main":n=!0;break;case"caption":case"subtitle":a=u}}var c=null,l=!1;Yr.O(e,"EssentialProperty").forEach((function(t){"http://dashif.org/guidelines/trickmode"==t.getAttribute("schemeIdUri")?c=t.getAttribute("value"):l=!0})),s=Yr.O(e,"Accessibility");var f=new Map;for(r={},u=(s=h(s)).next();!u.done;r={Hb:r.Hb},u=s.next()){var d=u.value;u=d.getAttribute("schemeIdUri"),d=d.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==u||"urn:scte:dash:cc:cea-708:2015"==u?(r.Hb=1,null!=d?d.split(";").forEach(function(t){return function(e){if(e.includes("=")){var n=(e=e.split("="))[0].startsWith("CC")?e[0]:"CC"+e[0];e=e[1].split(",")[0].split(":").pop()}else n="CC"+t.Hb,t.Hb+=2;f.set(n,Ln(e))}}(r)):f.set("CC1","und")):"urn:mpeg:dash:role:2011"==u&&null!=d&&(i.push(d),"captions"==d&&(a="caption"))}if(l)return null;var p=Zr(r=Yr.O(e,"ContentProtection"),this.a.dash.customScheme,this.a.dash.ignoreDrmInfo);if(r=Ln(e.getAttribute("lang")||"und"),s=e.getAttribute("label"),(u=Yr.O(e,"Label"))&&u.length&&((u=u[0]).textContent&&(s=u.textContent)),0==(i=(u=Yr.O(e,"Representation")).map(this.zf.bind(this,t,p,a,r,s,n,i,f)).filter((function(t){return!!t}))).length){if(this.a.dash.ignoreEmptyAdaptationSet||o)return null;throw new pt(2,4,4003)}return t.aa.contentType&&"application"!=t.aa.contentType||(t.aa.contentType=Ui(i[0].mimeType,i[0].codecs),i.forEach((function(e){e.type=t.aa.contentType}))),i.forEach((function(t){p.drmInfos.forEach((function(e){t.keyId&&e.keyIds.push(t.keyId)}))})),o=u.map((function(t){return t.getAttribute("id")})).filter(Ge.Ia),{id:t.aa.id||"__fake__"+this.h++,contentType:t.aa.contentType,language:r,Vc:n,streams:i,drmInfos:p.drmInfos,vd:c,If:o}},r.zf=function(t,e,n,r,i,a,o,s,u){if(t.B=Oi(u,t.aa,null),!function(t){var e=t.Sb?1:0;return e+=t.La?1:0,0==(e+=t.Ub?1:0)?"text"==t.contentType||"application"==t.contentType:(1!=e&&(t.Sb&&(t.La=null),t.Ub=null),!0)}(t.B))return null;t.bandwidth=Yr.I(u,"bandwidth",Yr.pc)||0;var c=t.B.contentType;c="text"==c||"application"==c;try{var l=this.Jf.bind(this);if(t.B.Sb)var f=function(t,e){var n=Number(ri(t,wi,"presentationTimeOffset"))||0,r=ri(t,wi,"timescale"),i=1;r&&(i=Yr.pc(r)||1),n=n/i||0,r=gi(t,wi);var a=t.B.contentType;if(i=t.B.mimeType.split("/")[1],"text"!=a&&"mp4"!=i&&"webm"!=i)throw new pt(2,4,4006);if("webm"==i&&!r)throw new pt(2,4,4005);a=ii(t,wi,"RepresentationIndex");var o=ri(t,wi,"indexRange"),s=t.B.qa;if(o=Yr.qc(o||""),a){var u=a.getAttribute("sourceURL");u&&(s=Ve(t.B.qa,[u])),o=Yr.I(a,"range",Yr.qc,o)}if(!o)throw new pt(2,4,4002);return{createSegmentIndex:(i=bi(t,e,r,s,o.start,o.end,i,n)).createSegmentIndex,findSegmentPosition:i.findSegmentPosition,getSegmentReference:i.getSegmentReference,initSegmentReference:r,ma:n}}(t,l);else if(t.B.La)f=Ei(t,this.m);else if(t.B.Ub)f=Ti(t,l,this.m,!!this.c);else{var h=t.B.qa,d=t.T.duration||0;f={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0<=t&&t<d?1:null},getSegmentReference:function(t){return 1!=t?null:new si(1,0,d,(function(){return h}),0,null)},initSegmentReference:null,ma:0}}}catch(t){if(c&&4002==t.code)return null;throw t}return u=function(t,e,n,r){var i=Zr(t,e,r);if(n.Dd)t=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,e=0==i.drmInfos.length,(0==n.drmInfos.length||t&&!e)&&(n.drmInfos=i.drmInfos),n.Dd=!1;else if(0<i.drmInfos.length&&(n.drmInfos=n.drmInfos.filter((function(t){return i.drmInfos.some((function(e){return e.keySystem==t.keySystem}))})),0==n.drmInfos.length))throw new pt(2,4,4008);return i.Ad||n.Ad}(u=Yr.O(u,"ContentProtection"),this.a.dash.customScheme,e,this.a.dash.ignoreDrmInfo),{id:this.h++,originalId:t.B.id,createSegmentIndex:f.createSegmentIndex,findSegmentPosition:f.findSegmentPosition,getSegmentReference:f.getSegmentReference,initSegmentReference:f.initSegmentReference,presentationTimeOffset:f.ma,mimeType:t.B.mimeType,codecs:t.B.codecs,frameRate:t.B.frameRate,pixelAspectRatio:t.B.pixelAspectRatio,bandwidth:t.bandwidth,width:t.B.width,height:t.B.height,kind:n,encrypted:0<e.drmInfos.length,keyId:u,language:r,label:i,type:t.aa.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:t.B.emsgSchemeIdUris,roles:o,channelsCount:t.B.ad,audioSamplingRate:t.B.audioSamplingRate,closedCaptions:s}},r.yf=function(t,e,n){var r=Yr.xb,i=n.getAttribute("schemeIdUri")||"",a=n.getAttribute("value")||"",o=Yr.I(n,"timescale",r)||1;Yr.O(n,"Event").forEach(function(n){var s=Yr.I(n,"presentationTime",r)||0,u=Yr.I(n,"duration",r)||0;u=(s=s/o+t)+u/o,null!=e&&(s=Math.min(s,t+e),u=Math.min(u,t+e)),n={schemeIdUri:i,value:a,startTime:s,endTime:u,id:n.getAttribute("id")||"",eventElement:n},this.b.onTimelineRegionAdded(n)}.bind(this))},r.Jf=function(t,e,n){return t=ki(t,e,n,this.a.retryParameters),t=this.b.networkingEngine.request(1,t),Pt(this.g,t),t.promise.then((function(t){return t.data}))},Si.jd("mpd",Ci),Si.Bb("application/dash+xml",Ci),Si.Bb("video/vnd.mpeg.dash.mpd",Ci),ji.prototype.toString=function(){var t="#"+this.name,e=this.a?this.a.map((function(t){return t.name+"="+(isNaN(Number(t.value))?'"'+t.value+'"':t.value)})):[];return this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t},ji.prototype.getAttribute=function(t){var e=this.a.filter((function(e){return e.name==t}));return e.length?e[0]:null};var Gi={nb:function(t,e){return t.filter((function(t){return t.name==e}))},Ta:function(t,e){var n=Gi.nb(t,e);return n.length?n[0]:null},Kc:function(t,e,n){return t.filter((function(t){var r=t.getAttribute("TYPE");return t=t.getAttribute("GROUP-ID"),r.value==e&&t.value==n}))},Cc:function(t,e){return Ve([t],[e])[0]},Tc:function(t){return/^#(?!EXT)/m.test(t)}};function Vi(t){this.b=t,this.a=0}function Ki(t){Hi(t,/[ \t]+/gm)}function Hi(t,e){e.lastIndex=t.a;var n=e.exec(t.b);return n=null==n?null:{position:n.index,length:n[0].length,Lf:n},t.a==t.b.length||null==n||n.position!=t.a?null:(t.a+=n.length,n.Lf)}function qi(t){return t.a==t.b.length?null:(t=Hi(t,/[^ \t\n]*/gm))?t[0]:null}function Wi(){this.a=0}function Xi(t,e,n){var r=(e=(e=oe(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new pt(2,4,4015);e=0;for(var i=1;i<r.length;i++)if(!Gi.Tc(r[i])){var a=$i(t,r[i]);if(--t.a,Zi.includes(a.name)){e=1;break}"EXT-X-STREAM-INF"==a.name&&(i+=1)}for(i=[],a=1;a<r.length;)if(Gi.Tc(r[a]))a+=1;else{var o=$i(t,r[a]);if(Ji.includes(o.name)){if(1!=e)throw new pt(2,4,4017);return new Di(n,e,i,t=Yi(t,n,r=r.splice(a,r.length-a),i))}i.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new Fi("URI",r[a])),a+=1)}return new Di(n,e,i)}function Yi(t,e,n,r){var i=[],a=[];return n.forEach((function(n){if(/^(#EXT)/.test(n))n=$i(t,n),Zi.includes(n.name)?r.push(n):a.push(n);else{if(Gi.Tc(n))return[];n=Gi.Cc(e,n.trim()),i.push(new zi(n,a)),a=[]}})),i}function $i(t,e){var n=t.a++,r=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new pt(2,4,4016,e);var i,a=r[1],o=r[2];if(r=[],o){var s;(s=Hi(o=new Vi(o),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=Hi(o,u);)r.push(new Fi(s[1],s[2]||s[3]))}return new ji(n,a,r,i)}var Zi="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Ji="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function Qi(t){try{var e=Qi.parse(t);return bt({uri:t,ed:t,data:e.data,headers:{"content-type":e.contentType}})}catch(t){return yt(t)}}function ta(){var t=this;this.a=this.f=null,this.$=1,this.D=new Map,this.S=new Set,this.b=new Map,this.c=null,this.u="",this.s=new Wi,this.R=0,this.h=new ft((function(){!function(t){p((function e(){var n,r;return L(e,(function(e){switch(e.j){case 1:return t.f?(S(e,2),T(e,t.update(),4)):e.return();case 4:n=t.R,t.h.P(n),k(e,0);break;case 2:if(r=C(e),!t.f)return e.return();r.severity=1,t.f.onError(r),t.h.P(.1),x(e)}}))}))}(t)})),this.g=wa,this.m=null,this.C=0,this.F=1/0,this.i=new Nt,this.K=[],this.l=new Map,this.W=!1}function ea(t,e){return p((function n(){var r,i,a,o,s,u,c,l,f,h;return L(n,(function(n){switch(n.j){case 1:return r=Gi,i=Ea,a=e.qe,T(n,ga(t,Lt([a],t.a.retryParameters),0),2);case 2:if(o=n.o,1!=(s=Xi(t.s,o.data,o.uri)).type)throw new pt(2,4,4017);return c=(u=r.Ta(s.a,"EXT-X-MEDIA-SEQUENCE"))?Number(u.value):0,l=e.stream,T(n,ca(t,e.wc,s,c,l.mimeType,l.codecs),3);case 3:f=n.o,e.Tb.a=f,h=f[f.length-1],r.Ta(s.a,"EXT-X-ENDLIST")&&(ya(t,i.Qa),t.c.xa(h.endTime)),x(n)}}))}))}function na(t){t.forEach((function(t){if(t){var e=t.stream.codecs.split(",");e=e.filter((function(t){return"mp4a.40.34"!=t})),t.stream.codecs=e.join(",")}}))}function ra(t,e,n,r,i){return{id:t.$++,language:e?e.language:"und",primary:!!e&&e.primary||!!n&&n.primary,audio:e,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function ia(t,e,n){return p((function r(){var i,a,o,s,u,c,l,f,h;return L(r,(function(r){switch(r.j){case 1:if(i=ha(e,"URI"),t.b.has(i))return r.return(t.b.get(i));if(a=ha(e,"TYPE").toLowerCase(),o=He,"subtitles"==a&&(a=o.ra),s=Ln(Bi(e,"LANGUAGE","und")),u=Bi(e,"NAME"),c=e.getAttribute("DEFAULT"),l=e.getAttribute("AUTOSELECT"),f=Bi(e,"CHANNELS"),"audio"==a)if(f){var d=f.split("/")[0];d=parseInt(d,10)}else d=null;else d=null;return T(r,aa(t,i,n,a,s,!!c||!!l,u,d,null),2);case 2:return h=r.o,t.b.has(i)?r.return(t.b.get(i)):null==h?r.return(null):(t.D.set(e.id,h),t.b.set(i,h),r.return(h))}}))}))}function aa(t,e,n,r,i,a,o,s,u){return p((function c(){var l,f,d,v,m,y,g,b,w,E,_,x,A,I,N,P,M,R,O,U,D,j,F,B,z,G;return L(c,(function(c){switch(c.j){case 1:return f=(l=Gi).Cc(t.u,e),T(c,ga(t,Lt([f],t.a.retryParameters),0),2);case 2:if(d=c.o,f=d.uri,1!=(v=Xi(t.s,d.data,f)).type)throw new pt(2,4,4017);m=[],v.segments.forEach((function(t){t=l.nb(t.b,"EXT-X-KEY"),m.push.apply(m,t)})),y=!1,g=[],b=null;for(var V=h(m),K=V.next();!K.done;K=V.next())if(w=K.value,"NONE"!=(E=ha(w,"METHOD"))){if(y=!0,"AES-128"==E)return t.W=!0,c.return(null);_=ha(w,"KEYFORMAT"),(A=(x=ba[_])?x(w):null)&&(A.keyIds.length&&(b=A.keyIds[0]),g.push(A))}if(y&&!g.length)throw new pt(2,4,4026);return function(t,e){var n=Ea,r=Gi.Ta(e.a,"EXT-X-PLAYLIST-TYPE"),i=Gi.Ta(e.a,"EXT-X-ENDLIST");i=r&&"VOD"==r.value||i,r=r&&"EVENT"==r.value&&!i,r=!i&&!r,i?ya(t,n.Qa):(ya(t,r?n.yd:n.le),n=da(e.a,"EXT-X-TARGETDURATION"),n=Number(n.value),t.C=Math.max(n,t.C),t.F=Math.min(n,t.F))}(t,v),I=function(t,e){if(1==e.length)return e[0];var n=fa(t,e);if(null!=n)return n;throw new pt(2,4,4025,e)}(r,n),T(c,function(t,e,n,r){return p((function i(){var a,o,s,u,c,l,f,h,d;return L(i,(function(i){switch(i.j){case 1:return a=He,o=r.segments[0].a,s=new Z(o),u=s.ja.split(".").pop(),c=ma[e],(l=c[u])?i.return(l):e==a.ra?n&&"vtt"!=n?i.return("application/mp4"):i.return("text/vtt"):((f=Lt([o],t.a.retryParameters)).method="HEAD",T(i,ga(t,f,1),2));case 2:if(h=i.o,!(d=h.headers["content-type"]))throw new pt(2,4,4021,u);return i.return(d.split(";")[0])}}))}))}(t,r,I,v),3);case 3:return N=c.o,va.includes(N)&&(I=""),M=(P=l.Ta(v.a,"EXT-X-MEDIA-SEQUENCE"))?Number(P.value):0,S(c,4),T(c,ca(t,e,v,M,N,I),6);case 6:R=c.o,k(c,5);break;case 4:if(4035==(O=C(c)).code)return X("Skipping unsupported HLS stream",N,e),c.return(null);throw O;case 5:return U=R[0].startTime,D=R[R.length-1].endTime,j=D-U,F=new ci(R),B=oa(v),z=void 0,"text"==r&&(z="subtitle"),G={id:t.$++,originalId:o,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:F.find.bind(F),getSegmentReference:F.get.bind(F),initSegmentReference:B,presentationTimeOffset:0,mimeType:N,codecs:I,kind:z,encrypted:y,keyId:b,language:i,label:o,type:r,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s,audioSamplingRate:null,closedCaptions:u},c.return({stream:G,Tb:F,drmInfos:g,wc:e,qe:f,Yc:U,tg:D,duration:j})}}))}))}function oa(t){var e=Gi.nb(t.a,"EXT-X-MAP");if(!e.length)return null;if(1<e.length)throw new pt(2,4,4020);var n=ha(e=e[0],"URI"),r=Gi.Cc(t.b,n);return t=0,n=null,(e=Bi(e,"BYTERANGE"))&&(t=e.split("@"),e=Number(t[0]),n=(t=Number(t[1]))+e-1),new oi((function(){return[r]}),t,n)}function sa(t,e,n,r){var i=e.b,a=e.a;e=da(i,"EXTINF").value.split(","),e=r+Number(e[0]);var o=0,s=null;return(i=Gi.Ta(i,"EXT-X-BYTERANGE"))&&(o=i.value.split("@"),i=Number(o[0]),s=(o=o[1]?Number(o[1]):t.a+1)+i-1),new si(n,r,e,(function(){return[a]}),o,s)}function ua(t){t.c&&(t.K.forEach((function(e){t.c.ub(e,0)})),t.K=[])}function ca(t,e,n,r,i,a){return p((function o(){var s,u,c,l,f,h,d,v,m,y;return L(o,(function(o){switch(o.j){case 1:return s=n.segments,u=[],c=s[0].a,l=sa(null,s[0],r,0),f=oa(n),T(o,function(t,e,n,r,i,a){return p((function o(){var s,u,c,l,f,h,d,p,v;return L(o,(function(o){switch(o.j){case 1:if(t.m&&(s=t.b.get(e),u=s.Tb,c=u.get(r.position)))return o.return(c.startTime);if(va.includes(i))throw X("Raw formats are not yet supported.  Skipping "+i),new pt(1,4,4035);if("video/webm"==i)throw X("WebM in HLS is not yet supported.  Skipping."),new pt(1,4,4035);if("video/mp4"!=i&&"audio/mp4"!=i){o.A(2);break}return l=[la(t,r)],n&&l.push(la(t,n)),T(o,Promise.all(l),3);case 3:return f=o.o,h=f[0],d=f[1]||f[0],o.return(function(t,e,n,r){var i=0;if((new Gr).H("moov",Vr).H("trak",Vr).H("mdia",Vr).fa("mdhd",(function(t){t.reader.M(0==t.version?8:16),i=t.reader.G(),t.parser.stop()})).parse(r,!0),!i)throw new pt(2,4,4030,t,e);var a=0,o=!1;if((new Gr).H("moof",Vr).H("traf",Vr).fa("tfdt",(function(t){a=(0==t.version?t.reader.G():t.reader.Ab())/i,o=!0,t.parser.stop()})).parse(n,!0),!o)throw new pt(2,4,4030,t,e);return a}(e,h.uri,h.data,d.data));case 2:if("video/mp2t"!=i){o.A(4);break}return T(o,la(t,r),5);case 5:return p=o.o,o.return(function(t,e,n){function r(){throw new pt(2,4,4030,t,e)}n=new Fr(new DataView(n),0);for(var i=0,a=0;;){if(i=n.ca(),71!=(a=n.la())&&r(),16384&n.Rb()||r(),0!=(a=(48&n.la())>>4)&&2!=a||r(),3==a&&(a=n.la(),n.M(a)),1==n.G()>>8)return n.M(3),0!=(i=n.la()>>6)&&1!=i||r(),0==n.la()&&r(),i=n.la(),a=n.Rb(),n=n.Rb(),(1073741824*((14&i)>>1)+((65534&a)<<14|(65534&n)>>1))/9e4;n.seek(i+188),71!=(a=n.la())&&(n.seek(i+192),a=n.la()),71!=a&&(n.seek(i+204),a=n.la()),71!=a&&r(),n.ae(1)}}(e,p.uri,p.data));case 4:if("application/mp4"!=i&&!i.startsWith("text/")){o.A(6);break}return T(o,la(t,r),7);case 7:return v=o.o,o.return(function(t,e,n){return mn(t=$t(t,e))?(yn(e=new pn(null),t),e.Qc(n)):0}(i,a,v.data));case 6:throw new pt(2,4,4030,e)}}))}))}(t,e,f,l,i,a),2);case 2:h=o.o,c.split("/").pop();for(var g=0;g<s.length;++g)d=s[g],v=u[u.length-1],m=0==g?h:v.endTime,y=sa(v,d,r+g,m),u.push(y);return t.K.push(u),ua(t),o.return(u)}}))}))}function la(t,e){return p((function n(){var r,i,a,o,s,u;return L(n,(function(n){switch(n.j){case 1:return r=1,i=ki(e.c(),e.b,e.b+2048-1,t.a.retryParameters),a=ki(e.c(),e.b,e.a,t.a.retryParameters),S(n,2),T(n,ga(t,i,r),4);case 4:return o=n.o,n.return(o);case 2:if(7001==(s=C(n)).code)throw s;return X("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),T(n,ga(t,a,r),5);case 5:return u=n.o,n.return(u)}}))}))}function fa(t,e){for(var n=pa[t],r=0;r<n.length;r++)for(var i=0;i<e.length;i++)if(n[r].test(e[i].trim()))return e[i].trim();return"text"==t?"":null}function ha(t,e){var n=t.getAttribute(e);if(!n)throw new pt(2,4,4023,e);return n.value}function da(t,e){var n=Gi.Ta(t,e);if(!n)throw new pt(2,4,4024,e);return n}z("shaka.net.DataUriPlugin",Qi),Qi.parse=function(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw new pt(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw new pt(2,1,1004,e);var r=n[0];n=t.decodeURIComponent(n.slice(1).join(","));var i=null;if(1<(r=r.split(";")).length&&(i=r[1]),"base64"==i)e=de.Ba(n).buffer;else{if(i)throw new pt(2,1,1005,e);e=ce(n)}return{data:e,contentType:r[0]}},Ot("data",Qi),z("shaka.hls.HlsParser",ta),(r=ta.prototype).configure=function(t){this.a=t},r.start=function(t,e){var n=this;return p((function r(){var i,a;return L(r,(function(r){switch(r.j){case 1:return n.f=e,T(r,ga(n,Lt([t],n.a.retryParameters),0),2);case 2:return i=r.o,n.u=i.uri,T(r,function(t,e){return p((function n(){var r,i,a,o,s,u,c,l,f,d,v;return L(n,(function(n){switch(n.j){case 1:if(0!=(r=Xi(t.s,e,t.u)).type)throw new pt(2,4,4022);return T(n,function(t,e){return p((function n(){var r,i,a,o,s,u,c,l,f,d,v,m;return L(n,(function(n){switch(n.j){case 1:return r=Gi,i=Ge,a=e.a,o=r.nb(e.a,"EXT-X-MEDIA"),s=o.filter(function(t){return"SUBTITLES"==ha(t,"TYPE")}.bind(t)),u=s.map(function(t){var e=this;return p((function n(){var r;return L(n,(function(n){switch(n.j){case 1:return e.a.disableText?n.return(null):(S(n,2),T(n,function(t,e){return p((function n(){var r;return L(n,(function(n){switch(n.j){case 1:return ha(e,"TYPE"),T(n,ia(t,e,[]),2);case 2:return r=n.o,n.return(r.stream)}}))}))}(e,t),4));case 4:return n.return(n.o);case 2:if(r=C(n),e.a.hls.ignoreTextStreamFailures)return n.return(null);throw r}}))}))}.bind(t)),c=o.filter((function(t){return"CLOSED-CAPTIONS"==ha(t,"TYPE")})),function(t,e){for(var n=h(e),r=n.next();!r.done;r=n.next()){ha(r=r.value,"TYPE");var i=Bi(r,"LANGUAGE")||"und";i=Ln(i);var a=ha(r,"GROUP-ID");r=ha(r,"INSTREAM-ID"),t.l.get(a)||t.l.set(a,new Map),t.l.get(a).set(r,i)}}(t,c),T(n,Promise.all(u),2);case 2:return l=n.o,f=r.nb(a,"EXT-X-STREAM-INF"),d=f.map(function(t){return function(t,e,n){return p((function r(){var i,a,o,s,u,c,l,f,d,v,m,y,g,b,w,E,_,x,S,A,k,C,I,N,P,M,R;return L(r,(function(r){switch(r.j){case 1:return i=He,a=Gi,o=Bi(e,"CODECS","avc1.42E01E,mp4a.40.2"),s=function(t){for(var e=new Set,n=[],r=(t=h(t)).next();!r.done;r=t.next()){var i=Zt(r=r.value)[0];e.has(i)||(n.push(r),e.add(i))}return n}(o.split(/\s*,\s*/)),u=e.getAttribute("RESOLUTION"),l=c=null,f=Bi(e,"FRAME-RATE"),d=Number(ha(e,"BANDWIDTH")),u&&(v=u.value.split("x"),c=v[0],l=v[1]),m=(m=(m=a.nb(n.a,"EXT-X-MEDIA")).filter((function(t){return"CLOSED-CAPTIONS"!=ha(t,"TYPE")}))).filter((function(t){var e=Bi(t,"URI")||"";return"SUBTITLES"==(Bi(t,"TYPE")||"")||""!=e})),y=Bi(e,"AUDIO"),g=Bi(e,"VIDEO"),y?m=a.Kc(m,"AUDIO",y):g&&(m=a.Kc(m,"VIDEO",g)),(b=fa(i.ra,s))&&((w=Bi(e,"SUBTITLES"))&&((E=a.Kc(m,"SUBTITLES",w)).length&&(_=t.D.get(E[0].id))&&(_.stream.codecs=b)),Ct(s,b)),x=m.map(function(t){return ia(this,t,s)}.bind(t)),S=[],A=[],T(r,Promise.all(x),2);case 2:if(C=(C=r.o).filter((function(t){return null!=t})),y?S=C:g&&(A=C),N=!1,S.length||A.length?S.length?(M=ha(e,"URI"),R=S[0].wc,M==R?(I=i.Db,N=!0):I=i.Pa):I=i.Db:1==s.length?(P=fa(i.Pa,s),I=u||f||P?i.Pa:i.Db):(I=i.Pa,s=[s.join(",")]),N){r.A(3);break}return T(r,function(t,e,n,r){return p((function i(){var a,o,s,u,c;return L(i,(function(i){switch(i.j){case 1:return a=He,o=ha(e,"URI"),t.b.has(o)?i.return(t.b.get(o)):(s=Bi(e,"CLOSED-CAPTIONS"),u=null,r==a.Pa&&s&&"NONE"!=s&&(u=t.l.get(s)),T(i,aa(t,o,n,r,"und",!1,null,null,u),2));case 2:return null==(c=i.o)?i.return(null):t.b.has(o)?i.return(t.b.get(o)):(t.b.set(o,c),i.return(c))}}))}))}(t,e,s,I),4);case 4:k=r.o;case 3:if(k)k.stream.type==i.Db?S=[k]:A=[k];else if(null===k)return r.return([]);return A&&na(A),S&&na(S),r.return(function(t,e,n,r,i,a,o){n.forEach(function(t){(t=t.stream)&&(t.width=Number(i)||void 0,t.height=Number(a)||void 0,t.frameRate=Number(o)||void 0)}.bind(t));var s=!!t.a&&t.a.disableAudio;e.length&&!s||(e=[null]);s=!!t.a&&t.a.disableVideo,(!n.length||s)&&(n=[null]);s=[];for(var u=(e=h(e)).next();!u.done;u=e.next()){u=u.value;for(var c=h(n),l=c.next();!l.done;l=c.next()){var f=l.value;l=u?u.stream:null;var d=f?f.stream:null,p=u?u.drmInfos:null,v=f?f.drmInfos:null;f=(f?f.wc:"")+" - "+(u?u.wc:"");var m=void 0;if(l&&d){if(p.length&&v.length&&!(0<Ne(p,v).length))continue;m=Ne(p,v)}else l?m=p:d&&(m=v);t.S.has(f)||(l=ra(t,l,d,r,m),s.push(l),t.S.add(f))}}return s}(t,S,A,d,c,l,f))}}))}))}(this,t,e)}.bind(t)),T(n,Promise.all(d),3);case 3:return v=n.o,m=(m=v.reduce(i.Bc,[])).filter((function(t){return null!=t})),n.return({startTime:0,variants:m,textStreams:l.filter((function(t){return null!=t}))})}}))}))}(t,r),2);case 2:if(i=n.o,!t.f)throw new pt(2,7,7001);if(t.W&&0==i.variants.length)throw new pt(2,4,4034);t.f.filterAllPeriods([i]),a=1/0,o=0,s=1/0;for(var m=h(t.b.values()),y=m.next();!y.done;y=m.next())u=y.value,a=Math.min(a,u.Yc),o=Math.max(o,u.Yc),"text"!=u.stream.type&&(s=Math.min(s,u.duration));if(t.g!=Ea.Qa?(t.c=new Ai(0,3*t.C),t.c.Vb(!1)):(t.c=new Ai(null,0),t.c.Vb(!0)),ua(t),t.g!=Ea.Qa){for(t.R=t.F,c=Ea,t.g==c.yd&&(l=t.c.rc,isNaN(t.a.availabilityWindowOverride)||(l=t.a.availabilityWindowOverride),t.c.rd(l)),f=0;95443.7176888889<=o;)f+=95443.7176888889,o-=95443.7176888889;if(f)for(y=(m=h(t.b.values())).next();!y.done;y=m.next())95443.7176888889>(d=y.value).Yc&&(d.stream.presentationTimeOffset=-f,d.Tb.offset(f))}else for(t.c.xa(s),t.c.offset(-a),y=(m=h(t.b.values())).next();!y.done;y=m.next())(v=y.value).stream.presentationTimeOffset=a,v.Tb.offset(-a),li(v.Tb,s);t.m={presentationTimeline:t.c,periods:[i],offlineSessionIds:[],minBufferTime:0},x(n)}}))}))}(n,i.data),3);case 3:return 0<(a=n.R)&&n.h.P(a),r.return(n.m)}}))}))},r.stop=function(){this.h&&(this.h.stop(),this.h=null);var t=[];return this.i&&(t.push(this.i.destroy()),this.i=null),this.a=this.f=null,this.D.clear(),this.S.clear(),this.b.clear(),this.m=null,Promise.all(t)},r.update=function(){if(this.g!=Ea.Qa){for(var t=[],e=h(this.b.values()),n=e.next();!n.done;n=e.next())t.push(ea(this,n.value));return Promise.all(t)}},r.onExpirationUpdated=function(){};var pa={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},va=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],ma={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function ya(t,e){t.g=e,t.c&&t.c.Vb(t.g==Ea.Qa),t.g!=Ea.Qa||t.h.stop()}function ga(t,e,n){if(!t.i)throw new pt(2,7,7001);return e=t.f.networkingEngine.request(n,e),Pt(t.i,e),e.promise}var ba={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=ha(t,"METHOD");return nr("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227"),["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].includes(e)?(e=ha(t,"URI"),e=Qi.parse(e),e=Ke("com.widevine.alpha",[{initDataType:"cenc",initData:e=new Uint8Array(e.data)}]),(t=Bi(t,"KEYID"))&&(e.keyIds=[t.substr(2).toLowerCase()]),e):null}},wa="VOD",Ea={Qa:wa,le:"EVENT",yd:"LIVE"};function _a(){this.a=new Map}function Ta(t,e,n){xa(t,e).text=n}function xa(t,e){return t.a.has(e)||t.a.set(e,new Sa),t.a.get(e)}function Sa(){this.text=this.variant=null}function Aa(t,e){this.a=t,this.b=new Set([t]);for(var n=h(e=e||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function ka(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var r=e.audio;n=!(n.channelsCount==r.channelsCount&&Ca(n,r)&&Ia(n.roles,r.roles))}return!n&&(n=t.video&&e.video)&&(n=!(Ca(n=t.video,r=e.video)&&Ia(n.roles,r.roles))),!n}function Ca(t,e){if(t.mimeType!=e.mimeType)return!1;var n=t.codecs.split(",").map((function(t){return Zt(t)[0]})),r=e.codecs.split(",").map((function(t){return Zt(t)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function Ia(t,e){var n=new Set(t),r=new Set(e);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=h(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function Na(t){this.a=t,this.b=new Pa(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0,"")}function Pa(t,e,n,r,i){this.f=t,this.c=e,this.a=n,this.b=void 0===r?"":r,this.g=void 0===i?"":i}function Ma(){this.a=La,this.b=(new Map).set(La,2).set(Oa,1)}function Ra(t,e,n){t.b.set(La,n).set(Oa,e)}Si.jd("m3u8",ta),Si.Bb("application/x-mpegurl",ta),Si.Bb("application/vnd.apple.mpegurl",ta),Aa.prototype.add=function(t){return!!ka(this.a,t)&&(this.b.add(t),!0)},Aa.prototype.values=function(){return this.b.values()},Na.prototype.create=function(t){var e=this,n=t.filter((function(t){return ka(e.a,t)}));return n.length?new Aa(n[0],n):this.b.create(t)},Pa.prototype.create=function(t){var e=[];e=function(t,e){var n=Dn(Ln(e),t.map((function(t){return Un(t)})));return n?t.filter((function(t){return n==Un(t)})):[]}(t,this.f);var n=t.filter((function(t){return t.primary}));for(e=e.length?e:n.length?n:t,this.c&&((t=function(t,e,n){return t.filter((function(t){if(n){var r=t[n];return r&&r.roles.includes(e)}return r=t.audio,t=t.video,r&&0<=r.roles.indexOf(e)||t&&0<=t.roles.indexOf(e)}))}(e,this.c,this.g)).length&&(e=t)),this.a&&((t=Yn(e,this.a)).length&&(e=t)),this.b&&((t=function(t,e){return t.filter((function(t){return!!t.audio&&t.audio.label.toLowerCase()==e.toLowerCase()}))}(e,this.b)).length&&(e=t)),t=new Aa(e[0]),n=(e=h(e)).next();!n.done;n=e.next())n=n.value,ka(t.a,n)&&t.add(n);return t};var Oa=0,La=1;function Ua(t,e){this.g=t,this.h=ja(t),this.a=t.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.i=e,this.c=function(){}}function Da(t){this.a=t}function ja(t){if(t.a.paused||0==t.a.playbackRate||null==t.a.buffered)var e=!1;else t:{e=t.a.buffered,t=t.a.currentTime;for(var n=0;n<e.length;n++){var r=e.start(n),i=e.end(n);if(!(t<r||t>i-.5)){e=!0;break t}}e=!1}return e}function Fa(t,e,n,r,i){var a=this;this.a=t,this.u=e,this.s=n,this.l=i,this.f=new Gt,this.i=!1,this.m=t.readyState,this.c=!1,this.b=r,this.h=!1,this.f.w(t,"waiting",(function(){return Ba(a)})),this.g=new ft((function(){Ba(a)})).Na(.25)}function Ba(t){if(0!=t.a.readyState){if(t.a.seeking){if(!t.i)return}else t.i=!1;if(!t.a.paused){t.a.readyState!=t.m&&(t.c=!1,t.m=t.a.readyState);var e=t.s.smallGapLimit,n=t.a.currentTime,r=t.a.buffered;t:{if(r&&r.length&&!(1==r.length&&1e-6>r.end(0)-r.start(0)))for(var i=ne("Edge/")||ne("Trident/")||ne("Tizen")||ne("CrKey")?.5:.1,a=0;a<r.length;a++)if(r.start(a)>n&&(0==a||r.end(a-1)-n<=i)){i=a;break t}i=null}if(null==i)t.b&&(n=ja(r=(t=t.b).g),i=r.a.currentTime,a=Date.now()/1e3,t.a==i&&t.h==n||(t.f=a,t.a=i,t.h=n,t.b=!1),(i=a-t.f)>=t.i&&n&&!t.b&&(t.c(t.a,i),t.b=!0,t.a=r.a.currentTime));else if(0!=i||t.h){a=r.start(i);var o=t.u.Ca();if(!(a>=o)){e=(o=a-n)<=e;var s=!1;.001>o||(e||t.c||(t.c=!0,(n=new Tt("largegap",{currentTime:n,gapSize:o})).cancelable=!0,t.l(n),t.s.jumpLargeGaps&&!n.defaultPrevented&&(s=!0)),!e&&!s)||(0!=i&&r.end(i-1),t.a.currentTime=a)}}}}}function za(t){var e=this;this.c=t,this.a=new Set,this.b=new ft((function(){Ga(e,!1)})).Na(.25)}function Ga(t,e){for(var n=h(t.a),r=n.next();!r.done;r=n.next())r.value.g(t.c.currentTime,e)}function Va(t){for(var e=[],n=(t=h(t)).next();!n.done;n=t.next())for(var r=(n=h(n.value.variants)).next();!r.done;r=n.next())e.push(r.value);return e}function Ka(t,e){for(var n=null,r=h(t),i=r.next();!i.done;i=r.next())e>=(i=i.value).startTime&&(n=i);return n}function Ha(t){this.c=t,this.a=null,this.b=function(){}}function qa(t){var e=this;this.a=t,this.f=!1,this.c=this.a.gc(),this.b=new ft((function(){e.a.Kd(.25*e.c)}))}function Wa(t){t.b.stop();var e=t.f?0:t.c;if(0<=e)try{return void(t.a.gc()!=e&&t.a.qd(e))}catch(t){}t.b.Na(.25),0!=t.a.gc()&&t.a.qd(0)}function Xa(t,e,n){this.a=t,this.f=e,this.g=n,this.h=!1,this.b=new Gt,this.c=new Qa(t),0<t.readyState?Za(this,n):$a(this,n)}function Ya(t){return t.h?t.a.currentTime:t.g}function $a(t,e){t.g=e,t.b.ea(t.a,"loadedmetadata"),t.b.da(t.a,"loadedmetadata",(function(){Za(t,e)}))}function Za(t,e){.001>Math.abs(t.a.currentTime-e)?Ja(t):(t.b.da(t.a,"seeking",(function(){Ja(t)})),to(t.c,0==t.a.currentTime?e:t.a.currentTime))}function Ja(t){t.h=!0,t.b.w(t.a,"seeking",(function(){return t.f()}))}function Qa(t){var e=this;this.b=t,this.h=10,this.g=this.f=this.c=0,this.a=new ft((function(){0>=e.c?e.a.stop():e.b.currentTime!=e.f?e.a.stop():(e.b.currentTime=e.g,e.c--)}))}function to(t,e){t.f=t.b.currentTime,t.g=e,t.c=t.h,t.b.currentTime=e,t.a.Na(.1)}function eo(t){function e(){null==n.c?n.f=!0:(n.b.da(n.a,"seeking",(function(){n.f=!0})),n.a.currentTime=Math.max(0,n.a.currentTime+n.c))}var n=this;this.a=t,this.f=!1,this.c=null,this.b=new Gt,0==this.a.readyState?this.b.da(this.a,"loadeddata",e):e()}function no(t,e,n,r,i,a){var o=this;this.b=t,this.a=e.presentationTimeline,this.C=e.minBufferTime||0,this.g=n,this.u=i,this.l=null,this.f=new Fa(t,e.presentationTimeline,n,function(t,e){if(!e.stallEnabled)return null;var n=e.stallSkip,r=new Ua(new Da(t),e.stallThreshold);return function(t,e){t.c=e}(r,(function(){t.currentTime+=n})),r}(t,n),a),this.c=new Xa(t,(function(){var t=o.f;t.i=!0,t.h=!1,t.c=!1;var e=Ya(o.c);return t=io(o,e),.001<Math.abs(t-e)&&(e=(new Date).getTime()/1e3,!o.l||o.l<e-1)?(o.l=e,0<(e=o.c).a.readyState?to(e.c,t):$a(e,t),t=void 0):(o.u(),t=void 0),t}),function(t,e){return null==e?e=1/0>t.a.Y()?t.a.ob():t.a.Ca():0>e&&(e=t.a.Ca()+e),ro(t,ao(t,e))}(this,r)),this.i=new ft((function(){if(0!=o.b.readyState&&!o.b.paused){var t=o.b.currentTime,e=o.a.ob(),n=o.a.Ca();3>n-e&&(e=n-3),t<e&&(t=io(o,t),o.b.currentTime=t)}})).Na(.25)}function ro(t,e){var n=t.a.Y();return e>=n?n-t.g.durationBackoff:e}function io(t,e){var n=Fe.bind(null,t.b.buffered),r=Math.max(t.C,t.g.rebufferingGoal),i=t.g.safeSeekOffset,a=t.a.ob(),o=t.a.Ca(),s=t.a.Y();3>o-a&&(a=o-3);var u=t.a.Lb(r),c=t.a.Lb(i);return r=t.a.Lb(r+i),e>=s?ro(t,e):e>o?o:e<a?n(c)?c:r:e>=u||n(e)?e:r}function ao(t,e){var n=t.a.ob();return e<n?n:e>(n=t.a.Ca())?n:e}function oo(){this.b=function(){},this.a=new Set}function so(t){var e=this;this.h=t,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.i=[{eb:null,cb:co,Wa:function(t,n){return e.a(t,n)}},{eb:uo,cb:co,Wa:function(t,n){return e.a(t,n)}},{eb:lo,cb:co,Wa:function(t,n){return e.a(t,n)}},{eb:co,cb:uo,Wa:function(t,n){return e.b(t,n)}},{eb:co,cb:lo,Wa:function(t,n){return e.b(t,n)}},{eb:uo,cb:lo,Wa:function(t,n){return e.c(t,n)}},{eb:lo,cb:uo,Wa:function(t,n){return e.c(t,n)}}]}Ua.prototype.release=function(){this.g=null,this.c=function(){}},Fa.prototype.release=function(){this.f&&(this.f.release(),this.f=null),null!=this.g&&(this.g.stop(),this.g=null),this.b&&(this.b.release(),this.b=null),this.a=this.u=this.l=null},Fa.prototype.cd=function(){this.h=!0,Ba(this)},za.prototype.release=function(){this.b.stop();for(var t=h(this.a),e=t.next();!e.done;e=t.next())e.value.release();this.a.clear()},Ha.prototype.release=function(){this.a=this.c=null,this.b=function(){}},Ha.prototype.g=function(t){var e=this.a,n=this.c.periods;e!=(t=Ka(n,t)||n[0])&&this.b(t),this.a=t},qa.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},qa.prototype.set=function(t){this.c=t,Wa(this)},Xa.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.f=function(){},this.a=null},Qa.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},eo.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},eo.prototype.m=function(t){this.c=this.f?this.c:t},eo.prototype.h=function(){return(this.f?this.a.currentTime:this.c)||0},eo.prototype.s=function(){},no.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.f&&(this.f.release(),this.f=null),this.i&&(this.i.stop(),this.i=null),this.b=this.c=this.a=this.g=null,this.u=function(){}},no.prototype.m=function(t){var e=this.c;0<e.a.readyState?to(e.c,t):$a(e,t)},no.prototype.h=function(){var t=Ya(this.c);return 0<this.b.readyState&&!this.b.paused?ao(this,t):t},no.prototype.s=function(){this.f.cd()},oo.prototype.release=function(){this.b=function(){},this.a.clear()},so.prototype.release=function(){this.h=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},so.prototype.g=function(t,e){for(var n=h(this.h.a),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.f.get(r),a=t<r.startTime?uo:t>r.endTime?lo:co;this.f.set(r,a);for(var o=h(this.i),s=o.next();!s.done;s=o.next())(s=s.value).eb==i&&s.cb==a&&s.Wa(r,e)}};var uo=1,co=2,lo=3;function fo(t,e){this.a=e,this.c=t,this.g=null,this.l=1,this.u=Promise.resolve(),this.h=[],this.i=new Map,this.b=new Map,this.s=!1,this.F=null,this.D=this.f=this.m=!1,this.C=0}function ho(t){return vo(t,"audio")}function po(t){return vo(t,"video")}function vo(t,e){var n=t.b.get(e);return n?n.Ka||n.stream:null}function mo(t,e){return p((function n(){var r,i,a,o,s,u,c,l,f;return L(n,(function(n){switch(n.j){case 1:return r=He,T(n,In(t.a.L,r.ra),2);case 2:return t.C++,t.D=!1,i=t.C,a=t.a.L,o=new Map,s=new Set,o.set(r.ra,e),s.add(e),T(n,a.init(o,!1),3);case 3:return t.f?n.return():T(n,xo(t,s),4);case 4:if(t.f)return n.return();u=t.a.L.g.isTextVisible()||t.g.alwaysStreamText,t.C!=i||t.b.has(r.ra)||t.D||!u||(c=t.a.Ua(),l=Po(t,c),f=_o(e,l,0),t.b.set(r.ra,f),Lo(t,f,0)),x(n)}}))}))}function yo(t,e){var n=t.b.get("video");if(n){var r=n.stream;if(r)if(e){var i=r.trickModeVideo;i&&!n.Ka&&(bo(t,i,!1,0,!1),n.Ka=r)}else(r=n.Ka)&&(n.Ka=null,bo(t,r,!0,0,!1))}}function go(t,e,n,r){e.video&&bo(t,e.video,n,r,!1),e.audio&&bo(t,e.audio,n,r,!1)}function bo(t,e,n,r,i){var a=t.b.get(e.type);if(!a&&"text"==e.type&&t.g.ignoreTextStreamFailures)mo(t,e);else if(a){var o=Mo(t,e),s=Array.from(t.b.values()).every((function(t){return t.ia==a.ia}));n&&o!=a.ia&&s?t.b.forEach((function(e){wo(t,e)})):(a.Ka&&(e.trickModeVideo?(a.Ka=e,e=e.trickModeVideo):a.Ka=null),(s=t.h[o])&&s.Cb&&(s=t.i.get(e.id))&&s.Cb&&(a.stream!=e||i)&&("text"==e.type&&_n(t.a.L,$t(e.mimeType,e.codecs)),a.stream=e,a.jc=!0,function(t,e,n){if(!e.Pb)return!1;var r=t.a.Ua(),i=Sn(t.a.L,e.type);if(null==(n=(n=ko(t,e,r,i,n))&&n.a?n.a-n.b:null))return!1;var a=e.stream.initSegmentReference;return a&&(n+=(a.a?a.a-a.b:null)||0),a=t.a.getBandwidthEstimate(),8*n/a<i-r-Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal)||e.Pb.b.a>n}(t,a,o)&&a.Pb.abort(),n&&(a.Ra?a.xc=!0:a.Ja?(a.Oa=!0,a.bc=r,a.xc=!0):(Uo(a),Oo(t,a,!0,r).catch((function(e){t.a&&t.a.onError(e)}))))))}}function wo(t,e){e.Ra||e.Oa||(e.Ja?(e.Oa=!0,e.bc=0):null==xn(t.a.L,e.type)?null==e.Ga&&Lo(t,e,0):(Uo(e),Oo(t,e,!1,0).catch((function(e){t.a&&t.a.onError(e)}))))}function Eo(t,e,n,r,i){return p((function a(){var o,s,u,c,l,f,h;return L(a,(function(a){switch(a.j){case 1:return o=t.a.Ua(),s=Po(t,o),u=He,c=new Map,l=new Set,e&&(c.set(u.Db,e),l.add(e)),n&&(c.set(u.Pa,n),l.add(n)),r&&(c.set(u.ra,r),l.add(r)),f=t.a.L,h=t.g.forceTransmuxTS,T(a,f.init(c,h),2);case 2:return t.f?a.return():(function(t){var e=t.c.presentationTimeline.Y();1/0>e?t.a.L.xa(e):t.a.L.xa(Math.pow(2,32))}(t),T(a,xo(t,l),3));case 3:if(t.f)return a.return();c.forEach((function(e,n){if(!t.b.has(n)){var r=_o(e,s,i);t.b.set(n,r),Lo(t,r,0)}})),x(a)}}))}))}function _o(t,e,n){return{stream:t,type:t.type,rb:null,Da:null,Ka:null,jc:!0,ia:e,endOfStream:!1,Ja:!1,Ga:null,Oa:!1,bc:0,xc:!1,Ra:!1,hd:!1,Nb:!1,ld:n||0,Pb:null}}function To(t,e){var n=t.h[e];if(n)return n.promise;n={promise:new vt,Cb:!1},t.h[e]=n;for(var r=new Set,i=h(t.c.periods[e].variants),a=i.next();!a.done;a=i.next())(a=a.value).video&&r.add(a.video),a.video&&a.video.trickModeVideo&&r.add(a.video.trickModeVideo),a.audio&&r.add(a.audio);for(a=(i=h(t.c.periods[e].textStreams)).next();!a.done;a=i.next())r.add(a.value);return t.u=t.u.then(function(){if(!this.f)return xo(this,r)}.bind(t)).then(function(){this.f||(this.h[e].promise.resolve(),this.h[e].Cb=!0)}.bind(t)).catch(function(t){this.f||(this.h[e].promise.catch((function(){})),this.h[e].promise.reject(),delete this.h[e],this.a.onError(t))}.bind(t)),n.promise}function xo(t,e){return p((function n(){var r,i,a,o,s,u,c;return L(n,(function(n){switch(n.j){case 1:r=[];for(var l=h(e),f=l.next();!f.done;f=l.next())i=f.value,(a=t.i.get(i.id))?r.push(a.promise):(t.i.set(i.id,{promise:new vt,Cb:!1}),r.push(i.createSegmentIndex()));return S(n,2),T(n,Promise.all(r),4);case 4:if(t.f)return n.return();k(n,3);break;case 2:if(o=C(n),t.f)return n.return();for(f=(n=h(e)).next();!f.done;f=n.next())s=f.value,t.i.get(s.id).promise.catch((function(){})),t.i.get(s.id).promise.reject(),t.i.delete(s.id);throw o;case 3:for(f=(l=h(e)).next();!f.done;f=l.next())u=f.value,(c=t.i.get(u.id)).Cb||(c.promise.resolve(),c.Cb=!0);x(n)}}))}))}function So(t,e){if(!t.f&&!e.Ja&&null!=e.Ga&&!e.Ra)if(e.Ga=null,e.Oa)Oo(t,e,e.xc,e.bc);else{try{var n=function(t,e){if(Io(e))return Cn(t.a.L,e.stream.originalId||""),null;var n=t.a.Ua(),r=Ao(t,e,n),i=Mo(t,e.stream),a=Po(t,r),o=function(t,e,n){return"text"==e?null==(t=t.a).b||t.b<n?0:t.b-Math.max(n,t.a):Be(t=An(t,e),n)}(t.a.L,e.type,n),s=Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal,t.g.bufferingGoal)*t.l;if(r>=t.c.presentationTimeline.Y())return e.endOfStream=!0,"video"==e.type&&(r=t.b.get("text"))&&"application/cea-608"==r.stream.mimeType&&(r.endOfStream=!0),null;if(e.endOfStream=!1,e.ia=a,a!=i)return null;if(o>=s)return.5;if(a=Sn(t.a.L,e.type),!(a=ko(t,e,n,a,i)))return 1;var u=1/0;return Array.from(t.b.values()).forEach((function(e){Io(e)||(e=Ao(t,e,n),u=Math.min(u,e))})),r>=u+t.c.presentationTimeline.a?1:(e.ld=0,function(t,e,n,r,i){var a=t.c.periods[r],o=e.stream,s=t.c.presentationTimeline.Y(),u=t.c.periods[r+1];r=function(t,e,n,r,i){return e.jc?(n=function(t,e,n,r,i){return"text"==e?(t.a.m=n,(t=t.a).f=r,t.h=i,Promise.resolve()):Promise.all([Nn(t,e,t.pe.bind(t,e)),Nn(t,e,t.Vf.bind(t,e,n)),Nn(t,e,t.Sf.bind(t,e,r,i))])}(t.a.L,e.type,t.c.periods[n].startTime-e.stream.presentationTimeOffset,r,i),e.stream.initSegmentReference?(t=Ro(t,e,e.stream.initSegmentReference).then(function(t){if(!this.f)return kn(this.a.L,e.type,t,null,null,e.stream.closedCaptions&&0<e.stream.closedCaptions.size)}.bind(t)).catch((function(t){return e.jc=!0,Promise.reject(t)})),Promise.all([n,t])):n):Promise.resolve()}(t,e,r,Math.max(0,a.startTime-.1),u?u.startTime+.01:s),e.Ja=!0,e.jc=!1,s=Ro(t,e,i),Promise.all([r,s]).then(function(t){if(!this.f&&!this.m)return function(t,e,n,r,i,a,o){var s=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Gr).fa("emsg",t.K.bind(t,r,a,i.emsgSchemeIdUris)).parse(o),function(t,e,n){var r=Math.max(t.g.bufferBehind,t.c.presentationTimeline.a),i=xn(t.a.L,e.type);return null==i?Promise.resolve():0>=(n=n-i-r)?Promise.resolve():t.a.L.remove(e.type,i,i+n).then(function(){}.bind(t))}(t,e,n).then(function(){if(!this.f)return kn(this.a.L,e.type,o,a.startTime+r.startTime,a.endTime+r.startTime,s)}.bind(t)).then(function(){if(!this.f)return e.rb=i,e.Da=a,Promise.resolve()}.bind(t))}(this,e,n,a,o,i,t[1])}.bind(t)).then(function(){this.f||this.m||(e.Ja=!1,e.hd=!1,e.Oa||this.a.cd(),Lo(this,e,0),function(t,e){if(!t.s){var n=Array.from(t.b.values());if(1==n.length&&"text"==n[0].type||(t.s=n.every((function(t){return"text"==t.type||!t.Oa&&!t.Ra&&t.Da}))),t.s){for(n=Mo(t,e),t.h[n]||To(t,n).then(function(){this.f||this.a.Md()}.bind(t)).catch(Ge.kc),n=0;n<t.c.periods.length;++n)To(t,n).catch(Ge.kc);t.a.uf&&t.a.uf()}}}(this,o))}.bind(t)).catch(function(t){this.f||this.m||(e.Ja=!1,"text"==e.type&&this.g.ignoreTextStreamFailures?this.b.delete("text"):7001==t.code?(e.Ja=!1,e.Ga=null,Lo(this,e,0)):3017==t.code?function(t,e,n){if(!Array.from(t.b.values()).some((function(t){return t!=e&&t.hd}))){var r=Math.round(100*t.l);if(20<r)t.l-=.2;else{if(!(4<r))return e.Nb=!0,t.m=!0,void t.a.onError(n);t.l-=.04}e.hd=!0}Lo(t,e,4)}(this,e,t):(e.Nb=!0,t.severity=2,Do(this,t)))}.bind(t))}(t,e,n,i,a),null)}(t,e);null!=n&&(Lo(t,e,n),e.Nb=!1)}catch(e){return void Do(t,e)}n=Array.from(t.b.values()),function(t,e){var n=Mo(t,e.stream);if(e.ia!=n){var r=e.ia,i=Array.from(t.b.values());i.every((function(t){return t.ia==r||Io(t)}))&&i.every(No)&&To(t,r).then(function(){if(!this.f&&i.every(function(t){var e=No(t),n=Mo(this,t.stream);return!!Io(t)||e&&t.ia==r&&n!=r}.bind(this))){var t=this.c.periods[r],e=this.a.Nd(t),n=new Map;e.variant&&e.variant.video&&n.set("video",e.variant.video),e.variant&&e.variant.audio&&n.set("audio",e.variant.audio),e.text&&n.set("text",e.text);for(var a=(e=h(this.b.keys())).next();!a.done;a=e.next())if(a=a.value,!n.has(a)&&"text"!=a)return void this.a.onError(new pt(2,5,5005));for(a=(e=h(Array.from(n.keys()))).next();!a.done;a=e.next())if(a=a.value,!this.b.has(a)){if("text"!=a)return void this.a.onError(new pt(2,5,5005));Eo(this,null,null,n.get("text"),t.startTime),n.delete(a)}for(a=(e=h(Array.from(this.b.keys()))).next();!a.done;a=e.next()){a=a.value;var o=this.b.get(a),s=n.get(a);if(s){var u=Io(o);u&&(o.ia=r,o.ld=t.startTime),bo(this,s,!1,0,!1),u&&Io(o)||Lo(this,this.b.get(a),0)}else this.b.delete(a)}this.a.Md()}}.bind(t)).catch(Ge.kc)}}(t,e),t.s&&n.every((function(t){return t.endOfStream}))&&t.a.L.endOfStream().then(function(){if(!this.f){var t=this.a.L.Y();0!=t&&t<this.c.presentationTimeline.Y()&&this.c.presentationTimeline.xa(t)}}.bind(t))}}function Ao(t,e,n){return e.rb&&e.Da?(n=Mo(t,e.rb),t.c.periods[n].startTime+e.Da.endTime):Math.max(n,e.ld)}function ko(t,e,n,r,i){if(e.Da&&e.stream==e.rb)return Co(t,e,i,e.Da.position+1);if(e.Da?(n=Mo(t,e.rb),n=e.stream.findSegmentPosition(Math.max(0,t.c.periods[n].startTime+e.Da.endTime-t.c.periods[i].startTime))):n=e.stream.findSegmentPosition(Math.max(0,(r||n)-t.c.periods[i].startTime)),null==n)return null;var a=null;return null==r&&(a=Co(t,e,i,Math.max(0,n-1))),a||Co(t,e,i,n)}function Co(t,e,n,r){return n=t.c.periods[n],(e=e.stream.getSegmentReference(r))?(t=(r=t.c.presentationTimeline).Mb(),r=r.pb(),n.startTime+e.endTime<t||n.startTime+e.startTime>r?null:e):null}function Io(t){return t&&"text"==t.type&&"application/cea-608"==t.stream.mimeType}function No(t){return!t.Ja&&null==t.Ga&&!t.Oa&&!t.Ra}function Po(t,e){var n=Ka(t.c.periods,e+qe);return n?t.c.periods.indexOf(n):0}function Mo(t,e){for(var n=t.c.periods,r=0;r<n.length;r++){for(var i=n[r],a=new Set,o=h(i.variants),s=o.next();!s.done;s=o.next())(s=s.value).audio&&a.add(s.audio),s.video&&a.add(s.video),s.video&&s.video.trickModeVideo&&a.add(s.video.trickModeVideo);for(o=(i=h(i.textStreams)).next();!o.done;o=i.next())a.add(o.value);if(a.has(e))return r}return-1}function Ro(t,e,n){return n=ki(n.c(),n.b,n.a,t.g.retryParameters),t=t.a.tb.request(1,n),e.Pb=t,t.promise.then((function(t){return e.Pb=null,t.data}))}function Oo(t,e,n,r){return p((function i(){var a,o,s;return L(i,(function(i){switch(i.j){case 1:return e.Oa=!1,e.xc=!1,e.bc=0,e.Ra=!0,r?(o=t.a.Ua(),s=t.a.L.Y(),a=t.a.L.remove(e.type,o+r,s)):a=In(t.a.L,e.type).then(function(){if(!this.f&&n)return this.a.L.flush(e.type)}.bind(t)),T(i,a,2);case 2:if(t.f)return i.return();e.rb=null,e.Da=null,e.Ra=!1,e.endOfStream=!1,Lo(t,e,0),x(i)}}))}))}function Lo(t,e,n){e.Ga=new lt((function(){return p((function n(){var r;return L(n,(function(n){switch(n.j){case 1:return S(n,2),T(n,So(t,e),4);case 4:k(n,0);break;case 2:r=C(n),t.a&&t.a.onError(r),x(n)}}))}))})).P(n)}function Uo(t){null!=t.Ga&&(t.Ga.stop(),t.Ga=null)}function Do(t,e){dt(t.F).then(function(){this.f||(this.a.onError(e),e.handled||this.g.failureCallback(e))}.bind(t))}function jo(t,e,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,ed:r,data:e,headers:t,fromCache:!!t["x-shaka-from-cache"]};i=null;try{i=ue(e)}catch(t){}throw new pt(401==n||403==n?2:1,1,1001,r,n,i,t,a)}function Fo(t,e,n,r){var i=new Fo.b;Xt(e.headers).forEach((function(t,e){i.append(e,t)}));var a=new Fo.a,o={zd:!1,he:!1};if(t=new mt(t=Fo.l(t,n,{body:e.body||void 0,headers:i,method:e.method,signal:a.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},o,r),(function(){return o.zd=!0,a.abort(),Promise.resolve()})),e=e.retryParameters.timeout){var s=new ft((function(){o.he=!0,a.abort()}));s.P(e/1e3),t.finally((function(){s.stop()}))}return t}function Bo(t,e,n,r){var i=new Bo.f,a=Date.now(),o=0;return new mt(new Promise((function(s,u){for(var c in i.open(e.method,t,!0),i.responseType="arraybuffer",i.timeout=e.retryParameters.timeout,i.withCredentials=e.allowCrossSiteCredentials,i.onabort=function(){u(new pt(1,1,7001,t,n))},i.onload=function(e){for(var r=(e=e.target).getAllResponseHeaders().trim().split("\r\n"),i={},a=(r=h(r)).next();!a.done;a=r.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=jo(i,e.response,e.status,t,e.responseURL,n);s(o)}catch(t){u(t)}},i.onerror=function(e){u(new pt(1,1,1002,t,e,n))},i.ontimeout=function(){u(new pt(1,1,1003,t,n))},i.onprogress=function(t){var e=Date.now();(100<e-a||t.lengthComputable&&t.loaded==t.total)&&(r(e-a,t.loaded-o,t.total-t.loaded),o=t.loaded,a=e)},e.headers)i.setRequestHeader(c.toLowerCase(),e.headers[c]);i.send(e.body)})),(function(){return i.abort(),Promise.resolve()}))}function zo(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function Go(t,e,n){this.h=t,this.b=new Map,this.c=!1,this.g=e,this.f=n,this.a=new zo}function Vo(t,e,n,r,i,a){var o=function(t,e){t.b+=e;var n=t.g;return t.g++,t.c.set(n,e),n}(t.a,r);r=t.b.get(e)||Promise.resolve(),t.b.set(e,r.then((function(){return p((function e(){var r,s,u;return L(e,(function(e){switch(e.j){case 1:return T(e,function(t,e){return p((function n(){var r;return L(n,(function(n){switch(n.j){case 1:return T(n,t.h.request(1,e).promise,2);case 2:return r=n.o,n.return(r.data)}}))}))}(t,n),2);case 2:if(r=e.o,t.c)throw new pt(2,9,7001);if(i){s=new Uint8Array(r);for(var c=h(new Xr(s).data),l=c.next();!l.done;l=c.next())u=l.value,t.f(u)}return t.a.close(o,r.byteLength),c=t.a,t.g(0==c.b?0:c.f/c.b,t.a.a),e.return(a(r))}}))}))})))}function Ko(t,e){var n=this;this.c=t,this.b=t.objectStore(e),this.a=new vt,t.onabort=function(t){t.preventDefault(),n.a.reject()},t.onerror=function(t){t.preventDefault(),n.a.reject()},t.oncomplete=function(){n.a.resolve()}}function Ho(t,e){return new Promise((function(n,r){var i=t.b.openCursor();i.onerror=r,i.onsuccess=function(t){if(!(t=t.target.result))return n();e(t.key,t.value,t),t.continue()}}))}function qo(t){this.b=t,this.a=[]}function Wo(t,e){return Yo(t,e,"readonly")}function Xo(t,e){return Yo(t,e,"readwrite")}function Yo(t,e,n){var r=new Ko(n=t.b.transaction([e],n),e);return t.a.push(r),r.promise().then((function(){Ct(t.a,r)}),(function(){Ct(t.a,r)})),r}function $o(t){this.a=new qo(t)}function Zo(){this.a=new Map}function Jo(t,e,n){if(!(t=t.a.get(e)))throw new pt(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells().get(n)))throw new pt(2,9,9013,"Could not find cell with name "+n);return e}function Qo(t,e){ts.set(t,e)}fo.prototype.destroy=function(){for(var t=h(this.b.values()),e=t.next();!e.done;e=t.next())Uo(e.value);return this.b.clear(),this.i.clear(),this.g=this.h=this.u=this.c=this.a=null,this.f=!0,Promise.resolve()},fo.prototype.configure=function(t){this.g=t,this.F=new ht({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},fo.prototype.start=function(){var t=this;return p((function e(){var n,r,i;return L(e,(function(e){switch(e.j){case 1:return n=t.a.Ua(),r=Po(t,n),(i=t.a.Nd(t.c.periods[r])).variant||i.text?T(e,Eo(t,i.variant?i.variant.audio:null,i.variant?i.variant.video:null,i.text,n),2):e.return(new pt(2,5,5005));case 2:if(t.f)return e.return();t.a&&t.a.jf&&t.a.jf(),x(e)}}))}))},fo.prototype.K=function(t,e,n,r){var i=r.reader.fd(),a=r.reader.fd(),o=r.reader.G(),s=r.reader.G(),u=r.reader.G(),c=r.reader.G();r=r.reader.Za(r.reader.J.byteLength-r.reader.ca()),t=t.startTime+e.startTime+s/o,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.a.kf():this.a.onEvent(new Tt("emsg",{detail:{startTime:t,endTime:t+u/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:s,eventDuration:u,id:c,messageData:r}})))},z("shaka.net.HttpFetchPlugin",Fo),Fo.l=function(t,e,n,r,i){return p((function a(){var o,s,u,c,l,f,h,d,v,m,y,g;return L(a,(function(a){switch(a.j){case 1:return o=Fo.g,s=Fo.c,f=l=0,h=Date.now(),S(a,2),T(a,o(t,n),4);case 4:return u=a.o,d=u.clone().body.getReader(),m=(v=u.headers.get("Content-Length"))?parseInt(v,10):0,new s({start:function(t){!function e(){return p((function n(){var r,a;return L(n,(function(n){switch(n.j){case 1:return S(n,2),T(n,d.read(),4);case 4:r=n.o,k(n,3);break;case 2:return C(n),n.return();case 3:r.done||(l+=r.value.byteLength),(100<(a=Date.now())-h||r.done)&&(i(a-h,l-f,m-l),f=l,h=a),r.done?t.close():(t.enqueue(r.value),e()),x(n)}}))}))}()}}),T(a,u.arrayBuffer(),5);case 5:c=a.o,k(a,3);break;case 2:if(y=C(a),r.zd)throw new pt(1,1,7001,t,e);if(r.he)throw new pt(1,1,1003,t,e);throw new pt(1,1,1002,t,y,e);case 3:return g={},u.headers.forEach((function(t,e){g[e.trim()]=t})),a.return(jo(g,c,u.status,t,u.url,e))}}))}))},Fo.isSupported=function(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(t){return!1}return!(!t.fetch||!t.AbortController)},Fo.isSupported=Fo.isSupported,Fo.g=t.fetch,Fo.a=t.AbortController,Fo.c=t.ReadableStream,Fo.b=t.Headers,Fo.isSupported()&&(Ot("http",Fo,2),Ot("https",Fo,2)),z("shaka.net.HttpXHRPlugin",Bo),Bo.f=t.XMLHttpRequest,Ot("http",Bo,1),Ot("https",Bo,1),zo.prototype.close=function(t,e){if(this.c.has(t)){var n=this.c.get(t);this.c.delete(t),this.f+=n,this.a+=e}},Go.prototype.destroy=function(){return this.c=!0,Promise.all(this.b.values()).then((function(){}),(function(){}))},Ko.prototype.abort=function(){try{this.c.abort()}catch(t){}return this.a.catch((function(){}))},Ko.prototype.store=function(){return this.b},Ko.prototype.promise=function(){return this.a},qo.prototype.destroy=function(){return Promise.all(this.a.map((function(t){return t.abort()})))},$o.prototype.destroy=function(){return this.a.destroy()},$o.prototype.getAll=function(){var t=this;return p((function e(){var n,r;return L(e,(function(e){switch(e.j){case 1:return n=Wo(t.a,"session-ids"),r=[],T(e,Ho(n,(function(t,e){r.push(e)})),2);case 2:return T(e,n.promise(),3);case 3:return e.return(r)}}))}))},$o.prototype.add=function(t){for(var e=Xo(this.a,"session-ids"),n=e.store(),r=(t=h(t)).next();!r.done;r=t.next())n.add(r.value);return e.promise()},$o.prototype.remove=function(t){var e=this;return p((function n(){var r;return L(n,(function(n){switch(n.j){case 1:return T(n,Ho(r=Xo(e.a,"session-ids"),(function(e,n,r){0<=t.indexOf(n.sessionId)&&r.delete()})),2);case 2:return T(n,r.promise(),0)}}))}))},Zo.prototype.destroy=function(){for(var t=[],e=h(this.a.values()),n=e.next();!n.done;n=e.next())t.push(n.value.destroy());return this.a.clear(),Promise.all(t)},Zo.prototype.init=function(){var t=this;ts.forEach((function(e,n){var r=e();r&&t.a.set(n,r)}));for(var e=[],n=h(this.a.values()),r=n.next();!r.done;r=n.next())e.push(r.value.init());return Promise.all(e)},Zo.prototype.erase=function(){var t=this;return p((function e(){var n,r;return L(e,(function(e){switch(e.j){case 1:return n=Array.from(t.a.values()),(r=0<n.length)||ts.forEach((function(t){(t=t())&&n.push(t)})),T(e,Promise.all(n.map((function(t){return t.erase()}))),2);case 2:if(!r)return T(e,Promise.all(n.map((function(t){return t.destroy()}))),0);e.A(0)}}))}))},z("shaka.offline.StorageMuxer.register",Qo),z("shaka.offline.StorageMuxer.unregister",(function(t){ts.delete(t)}));var ts=new Map;function es(t){this.a=new qo(t)}function ns(t){return Promise.reject(new pt(2,9,9011,"Cannot add new value to "+t))}function rs(t,e,n,r){var i=(t=Xo(t.a,e)).store();return n.forEach((function(t){i.delete(t).onsuccess=function(){return r(t)}})),t.promise()}function is(t,e,n){var r=(t=Wo(t.a,e)).store(),i={},a=[];return n.forEach((function(t){r.get(t).onsuccess=function(e){null==(e=e.target.result)&&a.push(t),i[t]=e}})),t.promise().then((function(){return a.length?Promise.reject(new pt(2,9,9012,"Could not find values for "+a)):n.map((function(t){return i[t]}))}))}function as(t){return{originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,periods:t.periods.map(os),sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata}}function os(t){return function(t){var e=t.streams.filter((function(t){return"audio"==t.contentType})),n=t.streams.filter((function(t){return"video"==t.contentType}));if(!e.every((function(t){return t.variantIds}))||!n.every((function(t){return t.variantIds}))){e.forEach((function(t){t.variantIds=[]})),n.forEach((function(t){t.variantIds=[]}));var r=0;if(n.length&&!e.length){var i=r++;n.forEach((function(t){t.variantIds.push(i)}))}if(!n.length&&e.length){var a=r++;e.forEach((function(t){t.variantIds.push(a)}))}n.length&&e.length&&e.forEach((function(t){n.forEach((function(e){var n=r++;t.variantIds.push(n),e.variantIds.push(n)}))}))}}(t),t.streams.forEach((function(){})),{startTime:t.startTime,streams:t.streams.map(ss)}}function ss(t){var e=t.bf?ls(t.bf):null;return{id:t.id,originalId:null,primary:t.primary,presentationTimeOffset:t.presentationTimeOffset,contentType:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:void 0,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:e,encrypted:t.encrypted,keyId:t.keyId,segments:t.segments.map(us),variantIds:t.variantIds}}function us(t){var e=ls(t.uri);return{startTime:t.startTime,endTime:t.endTime,dataKey:e}}function cs(t){return{data:t.data}}function ls(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new pt(2,9,9004,"Could not parse uri "+t)}function fs(t,e,n,r){this.a=new qo(t),this.c=e,this.b=n,this.f=r}function hs(t,e,n){if(t.f)return Promise.reject(new pt(1,9,9011,"Cannot add new value to "+e));var r=(t=Xo(t.a,e)).store(),i=[];return n.forEach((function(t){r.add(t).onsuccess=function(t){i.push(t.target.result)}})),t.promise().then((function(){return i}))}function ds(t,e,n,r){var i=(t=Xo(t.a,e)).store();return n.forEach((function(t){i.delete(t).onsuccess=function(){return r(t)}})),t.promise()}function ps(t,e,n){var r=(t=Wo(t.a,e)).store(),i={},a=[];return n.forEach((function(t){var e=r.get(t);e.onsuccess=function(){null==e.result&&a.push(t),i[t]=e.result}})),t.promise().then((function(){return a.length?Promise.reject(new pt(1,9,9012,"Could not find values for "+a)):n.map((function(t){return i[t]}))}))}function vs(){this.g=this.c=this.b=this.a=this.f=null}function ms(t,e,n,r){this.a=t,this.g=e,this.f=n,this.c=r,this.b=["offline:",t,"/",e,"/",n,"/",r].join("")}function ys(t){if(null==(t=/^offline:([a-z]+)\/([^\/]+)\/([^\/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var r=t[3];return r&&null!=e?new ms(e,n,r,Number(t[4])):null}function gs(t,e){this.b=t,this.a=e}function bs(t,e,n){var r=e.streams.filter((function(t){return"audio"==t.contentType})),i=e.streams.filter((function(t){return"video"==t.contentType}));return r=function(t,e,n){for(var r=new Set,i=h(e),a=i.next();!a.done;a=i.next()){var o=h(a.value.variantIds);for(a=o.next();!a.done;a=o.next())r.add(a.value)}for(i=h(n),a=i.next();!a.done;a=i.next())for(o=h(a.value.variantIds),a=o.next();!a.done;a=o.next())r.add(a.value);for(i=new Map,r=h(r),a=r.next();!a.done;a=r.next())a=a.value,i.set(a,{id:a,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0});for(e=h(e),r=e.next();!r.done;r=e.next())for(r=r.value,a=ws(t,r),o=h(r.variantIds),r=o.next();!r.done;r=o.next())(r=i.get(r.value)).language=a.language,r.primary=r.primary||a.primary,r.audio=a;for(n=h(n),e=n.next();!e.done;e=n.next())for(r=e.value,e=ws(t,r),a=h(r.variantIds),r=a.next();!r.done;r=a.next())(r=i.get(r.value)).primary=r.primary||e.primary,r.video=e;return i}(t,r,i),i=e.streams.filter((function(t){return"text"==t.contentType})).map((function(e){return ws(t,e)})),e.streams.forEach((function(r){r=r.segments.map((function(e,n){return Es(t,n,e)})),n.ub(r,e.startTime)})),{startTime:e.startTime,variants:Array.from(r.values()),textStreams:i}}function ws(t,e){var n=e.segments.map((function(e,n){return Es(t,n,e)})),r=new ci(n);return n={id:e.id,originalId:e.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(t){return r.find(t)},getSegmentReference:function(t){return r.get(t)},initSegmentReference:null,presentationTimeOffset:e.presentationTimeOffset,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate||void 0,pixelAspectRatio:e.pixelAspectRatio||void 0,kind:e.kind,encrypted:e.encrypted,keyId:e.keyId,language:e.language,label:e.label||null,type:e.contentType,primary:e.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},null!=e.initSegmentKey&&(n.initSegmentReference=function(t,e){var n=new ms("segment",t.b,t.a,e);return new oi((function(){return[n.toString()]}),0,null)}(t,e.initSegmentKey)),n}function Es(t,e,n){var r=new ms("segment",t.b,t.a,n.dataKey);return new si(e,n.startTime,n.endTime,(function(){return[r.toString()]}),0,null)}function _s(){this.a=null}function Ts(t){var e=ys(t);return e&&"manifest"==e.a?Ts.h(t):e&&"segment"==e.a?Ts.i(e.key(),e):yt(new pt(2,1,9004,t))}function xs(t,e,n){return p((function r(){var i,a,o,s,u,c;return L(r,(function(r){switch(r.j){case 1:i=[];for(var l=[],f=h(n),d=f.next();!d.done;d=f.next()){d=d.value;for(var v=!1,m=h(l),y=m.next();!y.done;y=m.next())if(Ss((y=y.value).info,d)){y.sessionIds.push(d.sessionId),v=!0;break}v||l.push({info:d,sessionIds:[d.sessionId]})}a=h(l),o=a.next();case 2:if(o.done){r.A(4);break}return s=o.value,u=function(t,e,n){return p((function r(){var i,a;return L(r,(function(r){switch(r.j){case 1:return i=new pe({tb:e,onError:function(){},mc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),S(r,2),i.configure(t),T(r,function(t,e,n,r,i,a){var o=new Map;return o.set(e,{audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:e,drmInfos:[{keySystem:e,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}]}),Te(t,o)}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:k(r,3);break;case 2:return C(r),T(r,i.destroy(),5);case 5:return r.return([]);case 3:return S(r,6),T(r,ye(i),8);case 8:k(r,7);break;case 6:return C(r),T(r,i.destroy(),9);case 9:return r.return([]);case 7:return a=[],T(r,Promise.all(n.sessionIds.map((function(t){return p((function e(){return L(e,(function(e){switch(e.j){case 1:return S(e,2),T(e,function(t,e){return p((function n(){var r,i,a;return L(n,(function(n){switch(n.j){case 1:return T(n,xe(t,e),2);case 2:return(r=n.o)?(i=[],(a=t.b.get(r))&&(a.ya=new vt,i.push(a.ya)),i.push(r.remove()),T(n,Promise.all(i),0)):n.return()}}))}))}(i,t),4);case 4:a.push(t),k(e,0);break;case 2:C(e),x(e)}}))}))}))),10);case 10:return T(r,i.destroy(),11);case 11:return r.return(a)}}))}))}(t,e,s),T(r,u,5);case 5:c=r.o,i=i.concat(c),o=a.next(),r.A(2);break;case 4:return r.return(i)}}))}))}function Ss(t,e){function n(t,e){return t.robustness==e.robustness&&t.contentType==e.contentType}return t.keySystem==e.keySystem&&t.licenseUri==e.licenseUri&&It(t.audioCapabilities,e.audioCapabilities,n)&&It(t.videoCapabilities,e.videoCapabilities,n)}function As(t,e){var n={Aa:null,v:null,mimeType:null,startTime:null,td:null,uri:null},r=this;this.g=e,this.c=t,this.i=n,this.h=null,this.f=[],this.b=this.a=null,this.l=!0,this.m=Promise.resolve().then((function(){return function(t){return p((function e(){return L(e,(function(e){switch(e.j){case 1:if(t.l){if(0==t.f.length||t.a&&!t.a.Va)var n=!1;else{t.a&&(t.a.va.Ya(),t.a=null);var r=(n=t.f.shift()).create(t.i);r?(n.va.vb(),t.a={node:r.node,payload:r.payload,Va:r.Va,va:n.va}):n.va.nc(),n=!0}return n?n=Promise.resolve():t.a?n=function(t){return p((function e(){var n,r;return L(e,(function(e){switch(e.j){case 1:return t.c=t.g.Re(t.c,t.i,t.a.node,t.a.payload),S(e,2),t.b=t.g.ze(t.c,t.i,t.a.payload),T(e,t.b.promise,4);case 4:t.b=null,t.c==t.a.node&&(t.a.va.lc(),t.a=null),k(e,0);break;case 2:return 7001==(n=C(e)).code?t.a.va.Ya():t.a.va.onError(n),t.a=null,t.b=null,r=t,T(e,t.g.handleError(t.i,n),5);case 5:r.c=e.o,x(e)}}))}))}(t):(t.g.hf(t.c),t.h=new vt,n=t.h),T(e,n,1)}e.A(0)}}))}))}(r)}))}function ks(t,e){var n={vb:function(){},lc:function(){},Ya:function(){},onError:function(){},nc:function(){},vg:function(){}};return t.f.push({create:e,va:n}),t.b&&t.b.abort(),Cs(t),n}function Cs(t){t.h&&(t.h.resolve(),t.h=null)}function Is(t){this.a=null;for(var e=0;e<t.textTracks.length;++e){var n=t.textTracks[e];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function Ns(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,e.size=t.size;try{e.align=t.textAlign}catch(t){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),"vertical-lr"==t.writingMode?e.vertical="lr":"vertical-rl"==t.writingMode&&(e.vertical="rl"),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function Ps(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var r=t.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&e(a)&&t.removeCue(a)}t.mode=n}function Ms(t,e,n,r,i){var a,o=i in r,s=!0;for(a in e){var u=i+"."+a,c=o?r[i]:n[a];o||a in n?void 0===e[a]?void 0===c||o?delete t[a]:t[a]=At(c):c.constructor==Object&&e[a]&&e[a].constructor==Object?(t[a]||(t[a]=At(c)),u=Ms(t[a],e[a],c,r,u),s=s&&u):typeof e[a]!=typeof c||null==e[a]||e[a].constructor!=c.constructor?s=!1:t[a]=e[a]:s=!1}return s}function Rs(t,e){for(var n={},r=n,i=0,a=0;!(0>(i=t.indexOf(".",i)));)0!=i&&"\\"==t[i-1]||(r[a=t.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[t.substring(a).replace(/\\\./g,".")]=e,n}function Os(){}function Ls(){var t=5e5,e=1/0;navigator.connection&&(t=1e6*navigator.connection.downlink,navigator.connection.saveData&&(e=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:Ae,fairPlayTransform:!0},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,dash:{customScheme:function(t){if(t)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0};ne("Web0S")&&(i.stallEnabled=!1);var a={trackSelectionCallback:function(t){return t},progressCallback:function(){},usePersistentLicense:!0},o={drm:n,manifest:r,streaming:i,offline:a,abrFactory:Qn,abr:{enabled:!0,defaultBandwidthEstimate:t,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(t){return function(t,e){var n=t.filter((function(t){return"variant"==t.type})),r=[],i=Dn(e,n.map((function(t){return t.language})));i&&(r=n.filter((function(t){return Ln(t.language)==i}))),0==r.length&&(r=n.filter((function(t){return t.primary}))),0==r.length&&(n.map((function(t){return t.language})),r=n);var a=r.filter((function(t){return t.height&&480>=t.height}));if(a.length&&(a.sort((function(t,e){return e.height-t.height})),r=a.filter((function(t){return t.height==a[0].height}))),n=[],r.length){var o=Math.floor(r.length/2);r.sort((function(t,e){return t.bandwidth-e.bandwidth})),n.push(r[o])}for(r=h(t),o=r.next();!o.done;o=r.next())"text"==(o=o.value).type&&n.push(o);return n}(t,o.preferredAudioLanguage)},o}function Us(t,e,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return Ms(t,e,n||Ls(),r,"")}function Ds(){this.a=null,this.b=[]}function js(t,e){if(null==t.a)t.a={timestamp:Date.now()/1e3,state:e,duration:0};else{var n=Date.now()/1e3;t.a.duration=n-t.a.timestamp,t.a.state!=e&&(t.b.push(t.a),t.a={timestamp:n,state:e,duration:0})}}function Fs(t,e){var n=0;t.a&&t.a.state==e&&(n+=t.a.duration);for(var r=h(t.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==e?i.duration:0;return n}function Bs(){this.b=this.c=null,this.a=[]}function zs(){this.f=this.s=this.h=this.b=this.i=this.l=this.m=this.g=this.u=NaN,this.a=new Ds,this.c=new Bs}function Gs(e,n){var r=this;St.call(this),this.i=Cu,this.a=null,this.gb=!1,this.g=new Gt,this.yc=this.l=this.Eb=this.b=this.s=this.f=this.Wb=this.C=this.Xb=this.W=this.ib=this.m=this.F=this.h=this.K=null,this.Jd=1e9,this.Zb=new Set,this.kb=!0,this.pa=null,this.Gd=!1,this.Ed=0,this.oa=null,this.$=new _a,this.c=Js(this),this.$b={width:1/0,height:1/0},this.u=null,this.Fb=new Pa(this.c.preferredAudioLanguage,this.c.preferredVariantRole,this.c.preferredAudioChannelCount),this.na=this.c.preferredTextLanguage,this.fb=this.c.preferredTextRole,n&&n(this),this.K=function(t){return new Mt((function(e,n){t.l&&t.l.segmentDownloaded(e,n)}))}(this),this.g.w(t,"online",(function(){r.md()})),this.D={name:"detach"},this.R={name:"attach"},this.Ha={name:"unload"},this.Hc={name:"manifest-parser"},this.Fc={name:"manifest"},this.hb={name:"media-source"},this.zc={name:"drm-engine"},this.S={name:"load"},this.Mc={name:"src-equals-drm-engine"},this.jb={name:"src-equals"};var i=new Map;i.set(this.R,(function(t,e){return wt(function(t,e,n){return null==e.v&&(e.v=n.v,t.g.w(e.v,"error",(function(){var e=pu(t);e&&t.Ma(e)}))),t.a=e.v,Promise.resolve()}(r,t,e))})),i.set(this.D,(function(t){return t.v&&(r.g.ea(t.v,"error"),t.v=null),r.a=null,wt(t=Promise.resolve())})),i.set(this.Ha,(function(t){return wt(qs(r,t))})),i.set(this.hb,(function(e){return wt(e=function(e,n){return p((function r(){var i,a,o,s;return L(r,(function(r){switch(r.j){case 1:return i=t.muxjs?new Ue:new De,a=e.c.textDisplayFactory,o=new a,e.Ac=a,T(r,(s=new bn(n.v,i,o)).s,2);case 2:e.F=s,x(r)}}))}))}(r,e))})),i.set(this.Hc,(function(t,e){return wt(function(t,e,n){return p((function r(){var i,a,o;return L(r,(function(r){switch(r.j){case 1:if(e.Aa=n.Aa,e.mimeType=n.mimeType,e.uri=n.uri,i=e.uri,a=t.K,t.Eb=i,e.Aa){t.s=e.Aa(),r.A(2);break}return o=t,T(r,Si.create(i,a,t.c.manifest.retryParameters,e.mimeType),3);case 3:o.s=r.o;case 2:t.s.configure(t.c.manifest),x(r)}}))}))}(r,t,e))})),i.set(this.Fc,(function(t){return function(t,e){var n=e.uri,r=t.K;t.Wb=new oo,function(t,e){t.b=e}(t.Wb,(function(e){du(t,"timelineregionadded",e)}));var i={networkingEngine:r,filterNewPeriod:function(e){return t.Ic(e)},filterAllPeriods:function(e){return Qs(t,e)},onTimelineRegionAdded:function(e){var n=t.Wb;t:{for(var r=h(n.a),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.id==e.id&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break t}r=null}null==r&&(n.a.add(e),n.b(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return t.Ma(e)}};return new mt(Promise.resolve().then((function(){return p((function e(){var r;return L(e,(function(e){switch(e.j){case 1:return r=t,T(e,t.s.start(n,i),2);case 2:if(r.b=e.o,t.dispatchEvent(new Tt("manifestparsed")),0==t.b.periods.length)throw new pt(2,4,4014);!function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.some((function(t){return t.variants.some(e)}))&&t.forEach((function(t){t.variants=t.variants.filter(e)}))}(t.b.periods),x(e)}}))}))})),(function(){return t.s.stop()}))}(r,t)})),i.set(this.zc,(function(){return wt(function(t){return p((function e(){return L(e,(function(e){switch(e.j){case 1:return t.h=new pe({tb:t.K,onError:function(e){t.Ma(e)},mc:function(e){vu(t,e)},onExpirationUpdated:function(e,n){mu(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.h.configure(t.c.drm),T(e,ve(t.h,Va(t.b.periods),t.b.offlineSessionIds),2);case 2:Qs(t,t.b.periods),x(e)}}))}))}(r))})),i.set(this.S,(function(t,e){return wt(function(t,e,n){return p((function r(){var i,a,o,s,u,c,l,f,d;return L(r,(function(r){switch(r.j){case 1:return e.startTime=n.startTime,i=e.v,a=e.uri,t.Eb=a,t.u=new zs,o=function(){return ru(t)},s=function(){var e=t.a.playbackRate;0!=e&&t.W.set(e)},t.g.w(i,"playing",o),t.g.w(i,"pause",o),t.g.w(i,"ended",o),t.g.w(i,"ratechange",s),u=t.c.abrFactory,t.l&&t.yc==u||(t.yc=u,t.l=new u,t.l.configure(t.c.abr)),function(t,e){for(var n=0;n<e.length;n++){for(var r=e[n],i=new Map,a=h(r.variants),o=a.next();!o.done;o=a.next())if((o=o.value).video&&o.video.closedCaptions)for(var s=h((o=o.video).closedCaptions.keys()),u=s.next();!u.done;u=s.next())if(u=u.value,!i.has(u)){var c={id:t.Jd++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,keyId:null,language:o.closedCaptions.get(u),label:null,type:"text",primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null};i.set(u,c)}for(i=h(i.values()),a=i.next();!a.done;a=i.next())r.textStreams.push(a.value)}}(t,t.b.periods),t.Fb=new Pa(t.c.preferredAudioLanguage,t.c.preferredVariantRole,t.c.preferredAudioChannelCount),t.na=t.c.preferredTextLanguage,function(t,e,n){0<e&&(t.V()||t.ee(e)),n<t.Y()&&(t.V()||t.xa(n))}(t.b.presentationTimeline,t.c.playRangeStart,t.c.playRangeEnd),T(r,t.h.Gb(i),2);case 2:return t.l.init((function(e,n,r){n=void 0!==n&&n,r=void 0===r?0:r;t:{for(var i=h(t.b.periods),a=i.next();!a.done;a=i.next())if((a=a.value).variants.includes(e)){i=a;break t}i=null}$s(t,i,e,!0),t.f&&(go(t.f,e,n,r),su(t))})),t.m=function(t,e){return new no(t.a,t.b,t.c.streaming,e,(function(){t.ib&&Ga(t.ib,!0),t.f&&function(t){function e(e){var i=t.a.L;return"text"==e?e=null!=(e=i.a).a&&null!=e.b&&(n>=e.a&&n<e.b):e=Fe(e=An(i,e),n,r),e}var n=t.a.Ua(),r=t.g.smallGapLimit,i=Po(t,n);if(Wt(t.b.values(),(function(t){return t.ia==i})))for(var a=h(t.b.keys()),o=a.next();!o.done;o=a.next())e(o=o.value)||wo(t,t.b.get(o));else Wt(t.b.keys(),e)||t.b.forEach((function(e){wo(t,e)}))}(t.f),t.C&&Xs(t)}),(function(e){return t.dispatchEvent(e)}))}(t,e.startTime),t.ib=function(t){var e=new Ha(t.b);!function(t,e){t.b=e}(e,(function(){uu(t)}));var n=new so(t.Wb);!function(t,e,n,r){t.a=e,t.b=n,t.c=r}(n,(function(e){du(t,"timelineregionenter",e)}),(function(e){du(t,"timelineregionexit",e)}),(function(e,n){n||(du(t,"timelineregionenter",e),du(t,"timelineregionexit",e))}));var r=new za(t.a);return r.a.add(e),r.a.add(n),r}(t),t.W=new qa({gc:function(){return e.v.playbackRate},qd:function(t){e.v.playbackRate=t},Kd:function(t){e.v.currentTime+=t}}),c=Math.max(t.b.minBufferTime,t.c.streaming.rebufferingGoal),Ws(t,c),t.f=function(t){return new fo(t.b,{Ua:function(){return t.m.h()},getBandwidthEstimate:function(){return t.l.getBandwidthEstimate()},L:t.F,tb:t.K,Nd:t.ff.bind(t),Md:t.te.bind(t),onError:t.Ma.bind(t),onEvent:function(e){return t.dispatchEvent(e)},kf:t.lf.bind(t),cd:t.sf.bind(t)})}(t),t.f.configure(t.c.streaming),function(t){function e(t){var e="";t.video&&(e=Zt(t.video.codecs)[0]);var n="";return t.audio&&(n=Zt(t.audio.codecs)[0]),e+"-"+n}var n=t.b.periods.reduce((function(t,e){return t.concat(e.variants)}),[]);n=Yn(n,t.c.preferredAudioChannelCount);var r=new xt;n.forEach((function(t){var n=e(t);r.push(n,t)}));var i=null,a=1/0;r.forEach((function(t,e){var n=0,r=0;e.forEach((function(t){n+=t.bandwidth||0,++r}));var o=n/r;o<a&&(i=t,a=o)})),t.b.periods.forEach((function(t){t.variants=t.variants.filter((function(t){return e(t)==i}))}))}(t),t.i=Iu,t.dispatchEvent(new Tt("streaming")),T(r,t.f.start(),3);case 3:t.c.streaming.startAtSegmentBoundary&&(l=t.m.h(),f=function(t,e){function n(t,e){if(!t)return null;var n=t.findSegmentPosition(e-a.startTime);return null==n?null:(n=t.getSegmentReference(n))?n.startTime+a.startTime:null}var r=ho(t.f),i=po(t.f),a=_u(t);return r=n(r,e),null!=(i=n(i,e))&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:e}(t,l),t.m.m(f)),t.b.periods.forEach(t.Ic.bind(t)),uu(t),su(t),(d=_u(t)||t.b.periods[0]).variants.some((function(t){return t.primary})),iu(t,d.variants),t.g.da(i,"loadeddata",(function(){t.u.b=Date.now()/1e3-n.td})),x(r)}}))}))}(r,t,e))})),i.set(this.Mc,(function(t){return wt(t=function(t,e){return p((function n(){var r,i;return L(n,(function(n){switch(n.j){case 1:return r=He,t.h=new pe({tb:t.K,onError:function(e){t.Ma(e)},mc:function(e){vu(t,e)},onExpirationUpdated:function(e,n){mu(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.h.configure(t.c.drm),i={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:r.Pa,primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},T(n,ve(t.h,[i],[]),2);case 2:return T(n,t.h.Gb(e.v),0)}}))}))}(r,t))})),i.set(this.jb,(function(t,e){return function(t,e,n){function r(){return ru(t)}if(e.uri=n.uri,e.startTime=n.startTime,t.Eb=e.uri,t.u=new zs,t.m=new eo(e.v),null!=e.startTime&&t.m.m(e.startTime),t.W=new qa({gc:function(){return e.v.playbackRate},qd:function(t){e.v.playbackRate=t},Kd:function(t){e.v.currentTime+=t}}),Ws(t,t.c.streaming.rebufferingGoal),t.g.w(e.v,"playing",r),t.g.w(e.v,"pause",r),t.g.w(e.v,"ended",r),t.g.da(e.v,"loadeddata",(function(){t.u.b=Date.now()/1e3-n.td})),t.a.audioTracks&&(t.g.w(t.a.audioTracks,"addtrack",(function(){return uu(t)})),t.g.w(t.a.audioTracks,"removetrack",(function(){return uu(t)})),t.g.w(t.a.audioTracks,"change",(function(){return uu(t)}))),t.a.textTracks){var i=t.a.textTracks;t.g.w(i,"addtrack",(function(){return uu(t)})),t.g.w(i,"removetrack",(function(){return uu(t)})),t.g.w(i,"change",(function(){return uu(t)}))}e.v.src=e.uri,t.i=Nu,t.dispatchEvent(new Tt("streaming"));var a=new vt;return t.a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?a.resolve():t.a.error?a.reject(pu(t)):(t.g.da(t.a,"loadeddata",(function(){a.resolve()})),t.g.da(t.a,"error",(function(){a.reject(pu(t))}))),new mt(a,(function(){return a.reject(new pt(2,7,7001)),Promise.resolve()}))}(r,t,e)})),this.lb=new As(this.D,{Re:function(t,e,n,i){var a=null;return t==r.D&&(a=n==r.D?r.D:r.R),t==r.R&&(a=n==r.D||e.v!=i.v?r.D:n==r.R?r.R:n==r.hb||n==r.S?r.hb:n==r.jb?r.Mc:null),t==r.hb&&(a=n==r.S&&e.v==i.v?r.Hc:r.Ha),t==r.Hc&&(a=Su(r.S,r.Fc,r.Ha,n,e,i)),t==r.Fc&&(a=Su(r.S,r.zc,r.Ha,n,e,i)),t==r.zc&&(a=Su(r.S,r.S,r.Ha,n,e,i)),t==r.Mc&&(a=n==r.jb&&e.v==i.v?r.jb:r.Ha),t!=r.S&&t!=r.jb||(a=r.Ha),t==r.Ha&&(a=i.v&&e.v==i.v?r.R:r.D),a},ze:function(t,e,n){return r.dispatchEvent(new Tt("onstatechange",{state:t.name})),i.get(t)(e,n)},handleError:function(t){return p((function e(){return L(e,(function(e){switch(e.j){case 1:return T(e,qs(r,t),2);case 2:return e.return(t.v?r.R:r.D)}}))}))},hf:function(t){r.dispatchEvent(new Tt("onstateidle",{state:t.name}))}}),e&&this.Gb(e,!0)}(r=es.prototype).destroy=function(){return this.a.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return ns("segment")},r.removeSegments=function(t,e){return rs(this,"segment",t,e)},r.getSegments=function(t){return is(this,"segment",t).then((function(t){return t.map(cs)}))},r.addManifests=function(){return ns("manifest")},r.updateManifestExpiration=function(t,e){var n=Xo(this.a,"manifest"),r=n.store(),i=new vt;return r.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,r.put(n),i.resolve()):i.reject(new pt(2,9,9012,"Could not find values for "+t))},n.promise().then((function(){return i}))},r.removeManifests=function(t,e){return rs(this,"manifest",t,e)},r.getManifests=function(t){return is(this,"manifest",t).then((function(t){return t.map(as)}))},r.getAllManifests=function(){var t=this;return p((function e(){var n,r;return L(e,(function(e){switch(e.j){case 1:return n=Wo(t.a,"manifest"),r=new Map,T(e,Ho(n,(function(t,e){r.set(t,as(e))})),2);case 2:return T(e,n.promise(),3);case 3:return e.return(r)}}))}))},(r=fs.prototype).destroy=function(){return this.a.destroy()},r.hasFixedKeySpace=function(){return this.f},r.addSegments=function(t){return hs(this,this.c,t)},r.removeSegments=function(t,e){return ds(this,this.c,t,e)},r.getSegments=function(t){return ps(this,this.c,t)},r.addManifests=function(t){return hs(this,this.b,t)},r.updateManifestExpiration=function(t,e){var n=Xo(this.a,this.b),r=n.store();return r.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,r.put(n,t))},n.promise()},r.removeManifests=function(t,e){return ds(this,this.b,t,e)},r.getManifests=function(t){return ps(this,this.b,t)},r.getAllManifests=function(){var t=this;return p((function e(){var n,r;return L(e,(function(e){switch(e.j){case 1:return n=Wo(t.a,t.b),r=new Map,T(e,Ho(n,(function(t,e){r.set(t,e)})),2);case 2:return T(e,n.promise(),3);case 3:return e.return(r)}}))}))},(r=vs.prototype).init=function(){var e=this,n=new vt,r=t.indexedDB.open("shaka_offline_db",4);return r.onsuccess=function(t){t=t.target.result,e.f=t;var r=t.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new es(t):null,e.a=r,r=(r=t.objectStoreNames).contains("manifest-v2")&&r.contains("segment-v2")?new fs(t,"segment-v2","manifest-v2",!0):null,e.b=r,r=(r=t.objectStoreNames).contains("manifest-v3")&&r.contains("segment-v3")?new fs(t,"segment-v3","manifest-v3",!1):null,e.c=r,t=t.objectStoreNames.contains("session-ids")?new $o(t):null,e.g=t,n.resolve()},r.onupgradeneeded=function(t){t=t.target.result;for(var e=h(["segment-v3","manifest-v3","session-ids"]),n=e.next();!n.done;n=e.next())n=n.value,t.objectStoreNames.contains(n)||t.createObjectStore(n,{autoIncrement:!0})},r.onerror=function(t){n.reject(new pt(2,9,9001,r.error)),t.preventDefault()},n},r.destroy=function(){var t=this;return p((function e(){return L(e,(function(e){switch(e.j){case 1:if(!t.a){e.A(2);break}return T(e,t.a.destroy(),2);case 2:if(!t.b){e.A(4);break}return T(e,t.b.destroy(),4);case 4:if(!t.c){e.A(6);break}return T(e,t.c.destroy(),6);case 6:if(!t.g){e.A(8);break}return T(e,t.g.destroy(),8);case 8:t.f&&t.f.close(),x(e)}}))}))},r.getCells=function(){var t=new Map;return this.a&&t.set("v1",this.a),this.b&&t.set("v2",this.b),this.c&&t.set("v3",this.c),t},r.getEmeSessionCell=function(){return this.g},r.erase=function(){var e=this;return p((function n(){return L(n,(function(n){switch(n.j){case 1:if(!e.a){n.A(2);break}return T(n,e.a.destroy(),2);case 2:if(!e.b){n.A(4);break}return T(n,e.b.destroy(),4);case 4:if(!e.c){n.A(6);break}return T(n,e.c.destroy(),6);case 6:return e.f&&e.f.close(),T(n,function(){var e=new vt,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new pt(2,9,9001,n.error)),t.preventDefault()},e}(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,T(n,e.init(),0)}}))}))},Qo("idb",(function(){return t.indexedDB?new vs:null})),ms.prototype.wa=function(){return this.g},ms.prototype.ba=function(){return this.f},ms.prototype.key=function(){return this.c},ms.prototype.toString=function(){return this.b},(r=_s.prototype).configure=function(){},r.start=function(t){var e=this;return p((function n(){var r,i,a,o,s;return L(n,(function(n){switch(n.j){case 1:return r=ys(t),e.a=r,null==r||"manifest"!=r.a?n.return(Promise.reject(new pt(2,1,9004,r))):(i=new Zo,A(n,2),T(n,i.init(),4));case 4:return T(n,Jo(i,r.wa(),r.ba()),5);case 5:return T(n,n.o.getManifests([r.key()]),6);case 6:return a=n.o,o=a[0],s=new gs(r.wa(),r.ba()),n.return(function(t,e){var n=new Ai(null,0);n.xa(e.duration);var r=e.periods.map((function(e){return bs(t,e,n)})),i=e.drmInfo?[e.drmInfo]:[];return e.drmInfo&&r.forEach((function(t){t.variants.forEach((function(t){t.drmInfos=i}))})),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:e.sessionIds,periods:r}}(s,o));case 2:return I(n),T(n,i.destroy(),7);case 7:N(n,0)}}))}))},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(t,e){var n=this;return p((function r(){var i,a,o,s,u,c,l;return L(r,(function(r){switch(r.j){case 1:return i=n.a,a=new Zo,S(r,2,3),T(r,a.init(),5);case 5:return T(r,Jo(a,i.wa(),i.ba()),6);case 6:return T(r,(o=r.o).getManifests([i.key()]),7);case 7:if(s=r.o,u=s[0],c=u.sessionIds.includes(t),l=null==u.expiration||u.expiration>e,!c||!l){r.A(3);break}return T(r,o.updateManifestExpiration(i.key(),e),3);case 3:return I(r),T(r,a.destroy(),10);case 10:N(r,0);break;case 2:C(r),r.A(3)}}))}))},Si.Bb("application/x-offline-manifest",_s),z("shaka.offline.OfflineScheme",Ts),Ts.h=function(t){return bt(t={uri:t,ed:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}})},Ts.i=function(t,e){var n=new Zo;return bt(void 0).U((function(){return n.init()})).U((function(){return Jo(n,e.wa(),e.ba())})).U((function(t){return t.getSegments([e.key()])})).U((function(t){return{uri:e,ed:e,data:t[0].data,headers:{}}})).finally((function(){return n.destroy()}))},Ot("offline",Ts),As.prototype.destroy=function(){var t=this;return p((function e(){return L(e,(function(e){switch(e.j){case 1:return t.l=!1,t.b&&t.b.abort(),Cs(t),T(e,t.m,2);case 2:t.a&&t.a.va.Ya();for(var n=h(t.f),r=n.next();!r.done;r=n.next())r.value.va.Ya();t.a=null,t.f=[],t.g=null,x(e)}}))}))},z("shaka.text.SimpleTextDisplayer",Is),Is.prototype.remove=function(t,e){return!!this.a&&(Ps(this.a,(function(n){return n.startTime<e&&n.endTime>t})),!0)},Is.prototype.remove=Is.prototype.remove,Is.prototype.append=function(t){for(var e=Ns,n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}n.slice().sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:n.indexOf(e)-n.indexOf(t)})).forEach(function(t){this.a.addCue(t)}.bind(this))},Is.prototype.append=Is.prototype.append,Is.prototype.destroy=function(){return this.a&&Ps(this.a,(function(){return!0})),this.a=null,Promise.resolve()},Is.prototype.destroy=Is.prototype.destroy,Is.prototype.isTextVisible=function(){return"showing"==this.a.mode},Is.prototype.isTextVisible=Is.prototype.isTextVisible,Is.prototype.setTextVisibility=function(t){this.a.mode=t?"showing":"hidden"},Is.prototype.setTextVisibility=Is.prototype.setTextVisibility,z("shaka.util.ConfigUtils.mergeConfigObjects",Ms),z("shaka.util.ConfigUtils.convertToConfigObject",Rs),z("shaka.util.PlayerConfiguration",Os),Os.mergeConfigObjects=Us,G(Gs,St),z("shaka.Player",Gs),Gs.prototype.destroy=function(){var t=this;return p((function e(){var n;return L(e,(function(e){switch(e.j){case 1:return t.i==ku?e.return():(t.i=ku,n=ks(t.lb,(function(){return{node:t.D,payload:{Aa:null,v:null,mimeType:null,startTime:null,td:null,uri:null},Va:!1}})),T(e,new Promise((function(t){n.vb=function(){},n.lc=function(){t()},n.Ya=function(){t()},n.onError=function(){t()},n.nc=function(){t()}})),2));case 2:return T(e,t.lb.destroy(),3);case 3:if(t.g&&(t.g.release(),t.g=null),t.yc=null,t.l=null,t.c=null,!t.K){e.A(0);break}return T(e,t.K.destroy(),5);case 5:t.K=null,x(e)}}))}))},Gs.prototype.destroy=Gs.prototype.destroy,Gs.version="v2.5.9";var Vs=["2","5"];ar=new function(t){this.a=t,this.c=rr,this.b=ir}(new er(Number(Vs[0]),Number(Vs[1])));var Ks=["output-restricted","internal-error"],Hs={};function qs(t,e){return p((function n(){return L(n,(function(n){switch(n.j){case 1:if(t.i!=ku&&(t.i=Cu),t.dispatchEvent(new Tt("unloading")),e.Aa=null,e.mimeType=null,e.startTime=null,e.uri=null,e.v&&(t.g.ea(e.v,"loadeddata"),t.g.ea(e.v,"playing"),t.g.ea(e.v,"pause"),t.g.ea(e.v,"ended"),t.g.ea(e.v,"ratechange")),t.ib&&(t.ib.release(),t.ib=null),t.Xb&&(t.Xb.stop(),t.Xb=null),!t.s){n.A(2);break}return T(n,t.s.stop(),3);case 3:t.s=null;case 2:if(!t.l){n.A(4);break}return T(n,t.l.stop(),4);case 4:if(!t.f){n.A(6);break}return T(n,t.f.destroy(),7);case 7:t.f=null;case 6:if(t.m&&(t.m.release(),t.m=null),!t.F){n.A(8);break}return T(n,t.F.destroy(),9);case 9:t.F=null;case 8:if(!e.v||!e.v.src){n.A(10);break}return T(n,new Promise((function(t){return new ft(t).P(.1)})),11);case 11:e.v.removeAttribute("src"),e.v.load();case 10:if(!t.h){n.A(12);break}return T(n,t.h.destroy(),13);case 13:t.h=null;case 12:t.$.a.clear(),t.Eb=null,t.C=null,t.Zb.clear(),t.b=null,t.u=null,t.Ac=null,t.kb=!0,nu(t),x(n)}}))}))}function Ws(t,e){t.C=new Ma,t.C.a=Oa,Ra(t.C,e,Math.min(.5,e/2)),nu(t),t.Xb=new ft((function(){Xs(t)})).Na(.25)}function Xs(t){switch(t.i){case Nu:var e=!!t.a.ended||je(t.a.buffered)>=t.a.duration-1;break;case Iu:t:if(t.a.ended||Tn(t.F))e=!0;else{if(t.b.presentationTimeline.V()){var n=t.b.presentationTimeline.pb();if(je(t.a.buffered)>=n){e=!0;break t}}e=!1}break;default:e=!1}var r=Be(t.a.buffered,t.a.currentTime),i=e,a=(n=t.C).b.get(n.a);e=n.a,r=i||r>=a?La:Oa,n.a=r,e!=r&&nu(t)}function Ys(t){if(t.s&&t.s.configure(t.c.manifest),t.h&&t.h.configure(t.c.drm),t.f){t.f.configure(t.c.streaming);try{t.b.periods.forEach(t.Ic.bind(t))}catch(e){t.Ma(e)}var e=ho(t.f),n=po(t.f),r=_u(t);e=Jn(e,n,r.variants),t.l&&e&&e.allowedByApplication&&e.allowedByKeySystem?iu(t,r.variants):au(t,r)}if(t.F&&(r=t.c.textDisplayFactory,t.Ac!=r)){e=new r;var i=(n=t.F).g;n.g=e,i&&(e.setTextVisibility(i.isTextVisible()),i.destroy()),n.a&&(n.a.c=e),t.Ac=r,t.f&&((e=(r=t.f).b.get("text"))&&bo(r,e.stream,!0,0,!0))}t.l&&(t.l.configure(t.c.abr),t.c.abr.enabled&&!t.kb?t.l.enable():t.l.disable(),hu(t)),t.C&&(r=t.c.streaming.rebufferingGoal,t.b&&(r=Math.max(r,t.b.minBufferTime)),Ra(t.C,r,Math.min(.5,r/2)))}function $s(t,e,n,r){xa(t.$,e).variant=n,(t=t.u.c).c!=n&&(t.c=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"variant",fromAdaptation:r,bandwidth:n.bandwidth}))}function Zs(t,e,n,r){Ta(t.$,e,n),(t=t.u.c).b!=n&&(t.b=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"text",fromAdaptation:r,bandwidth:null}))}function Js(t){var e=Ls();return e.streaming.failureCallback=function(e){t.V()&&[1001,1002,1003].includes(e.code)&&(e.severity=1,t.md())},e.textDisplayFactory=function(){return new Is(t.a)},e}function Qs(t,e){var n=t.f?ho(t.f):null,r=t.f?po(t.f):null;if(e.forEach(zn.bind(null,t.h,n,r)),0==(n=function(t,e){var n=0;return t.forEach((function(t){n+=e(t)?1:0})),n}(e,(function(t){return t.variants.some(Xn)}))))throw new pt(2,4,4032);if(n<e.length)throw new pt(2,4,4011);e.forEach(function(t){Bn(t.variants,this.c.restrictions,this.$b)&&this.f&&_u(this)==t&&uu(this),yu(this,t.variants)}.bind(t))}function tu(t,e,n,r){n=void 0!==n&&n,r=void 0===r?0:r,t.kb?(t.pa=e,t.Gd=n,t.Ed=r):(go(t.f,e,n,r),cu(t))}function eu(t,e){t.kb?t.oa=e:(bo(t.f,e,!0,0,!1),lu(t))}function nu(t){var e=t.Sc();if(t.u&&t.C&&t.m){var n=t.W;n.f=e,Wa(n),ru(t)}t.dispatchEvent(new Tt("buffering",{buffering:e}))}function ru(t){if(t.u&&t.C){var e=t.u.a;t.C.a==Oa?js(e,"buffering"):t.a.paused?js(e,"paused"):t.a.ended?js(e,"ended"):js(e,"playing")}}function iu(t,e){try{yu(t,e)}catch(e){return t.Ma(e),null}var n=e.filter((function(t){return Xn(t)}));return n=t.Fb.create(n),t.l.setVariants(Array.from(n.values())),t.l.chooseVariant()}function au(t,e){ou(t,e,!1);var n=!1;n=void 0===n||n;var r=$n(e.textStreams,t.na,t.fb)[0]||null;r&&(t.c.streaming.alwaysStreamText||t.ic())&&(Zs(t,e,r,!0),eu(t,r)),n&&su(t),su(t)}function ou(t,e,n){n=void 0===n||n;var r=iu(t,e.variants);r&&($s(t,e,r,!0),tu(t,r,!0)),n&&su(t)}function su(t){gu(t,new Tt("adaptation"))}function uu(t){gu(t,new Tt("trackschanged"))}function cu(t){gu(t,new Tt("variantchanged"))}function lu(t){gu(t,new Tt("textchanged"))}function fu(t){gu(t,new Tt("texttrackvisibility"))}function hu(t){gu(t,new Tt("abrstatuschanged",{ug:t.c.abr.enabled}))}function du(t,e,n){t.dispatchEvent(new Tt(e,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function pu(t){if(!t.a.error)return null;var e=t.a.error.code;if(1==e)return null;var n=t.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new pt(2,3,3016,e,n,t.a.error.message)}function vu(t,e){if(t.f){var n=_u(t),r=!1,i=Object.keys(e),a=1==i.length&&"00"==i[0];i.length&&t.b.periods.forEach((function(t){t.variants.forEach((function(t){(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e})(t).forEach((function(n){var i=t.allowedByKeySystem;n.keyId&&(n=e[a?"00":n.keyId],t.allowedByKeySystem=!!n&&!Ks.includes(n)),i!=t.allowedByKeySystem&&(r=!0)}))}))})),(i=Jn(i=ho(t.f),po(t.f),n.variants))&&!i.allowedByKeySystem&&ou(t,n),r&&(uu(t),iu(t,n.variants))}}function mu(t,e,n){t.s&&t.s.onExpirationUpdated&&t.s.onExpirationUpdated(e,n),t.dispatchEvent(new Tt("expirationupdated"))}function yu(t,e){var n=t.h?Yt(t.h.W):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,o=[],s=[],u=h(e),c=u.next();!c.done;c=u.next()){var l=[];(c=c.value).audio&&l.push(c.audio),c.video&&l.push(c.video);for(var f=(l=h(l)).next();!f.done;f=l.next())if((f=f.value).keyId){var d=n[r?"00":f.keyId];d?Ks.includes(d)&&(s.includes(d)||s.push(d)):o.includes(f.keyId)||o.push(f.keyId)}c.allowedByApplication?c.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new pt(2,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:s})}function gu(t,e){p((function n(){return L(n,(function(n){switch(n.j){case 1:return T(n,Promise.resolve(),2);case 2:t.i!=ku&&t.dispatchEvent(e),x(n)}}))}))}function bu(t){for(var e=new Set,n=(t=h(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(Ln(n.language)):e.add("und");return e}function wu(t){for(var e=new Map,n=(t=h(t)).next();!n.done;n=t.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=Ln(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),e.has(n)||e.set(n,new Set),i=(r=h(i)).next();!i.done;i=r.next())i=i.value,e.get(n).add(i)}var a=[];return e.forEach((function(t,e){for(var n=h(t),r=n.next();!r.done;r=n.next())a.push({language:e,role:r.value})})),a}function Eu(t){return null==(t=_u(t))?[]:t.variants.filter((function(t){return Xn(t)}))}function _u(t){for(var e=t.m.h(),n=null,r=(t=h(t.b.periods)).next();!r.done;r=t.next())(r=r.value).startTime<=e&&(n=r);return n}function Tu(t){var e=_u(t);return xa(t.$,e).variant}function xu(){return new pt(2,7,7e3)}function Su(t,e,n,r,i,a){return r==t&&i.v==a.v&&i.uri==a.uri&&i.mimeType==a.mimeType&&i.Aa==a.Aa?e:n}function Au(t){return new Promise((function(e,n){t.Ya=function(){return n(xu())},t.lc=function(){return e()},t.onError=function(t){return n(t)},t.nc=function(){return n(xu())}}))}Gs.registerSupportPlugin=function(t,e){Hs[t]=e},Gs.isBrowserSupported=function(){if(!(t.Promise&&t.Uint8Array&&Array.prototype.forEach))return!1;var e=ee();return!(e&&12>e||!(t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Qt()||te("application/x-mpegurl"))},Gs.probeSupport=function(){return Ce().then((function(t){for(var e=Si.Cf(),n={},r=h('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),i=r.next();!i.done;i=r.next()){n[i=i.value]=Qt()?!!mn(i)||(MediaSource.isTypeSupported(i)||Xe(i)):te(i);var a=i.split(";")[0];n[a]=n[a]||n[i]}for(var o in t={manifest:e,media:n,drm:t},Hs)t[o]=Hs[o]();return t}))},Gs.prototype.Gb=function(t,e){if(e=void 0===e||e,this.i==ku)return Promise.reject(xu());var n={Aa:null,v:null,mimeType:null,startTime:null,td:null,uri:null};n.v=t,Qt()||(e=!1);var r=e?this.hb:this.R,i=ks(this.lb,(function(){return{node:r,payload:n,Va:!1}}));return i.vb=function(){},Au(i)},Gs.prototype.attach=Gs.prototype.Gb,Gs.prototype.detach=function(){var t=this;if(this.i==ku)return Promise.reject(xu());var e=ks(this.lb,(function(){return{node:t.D,payload:{Aa:null,v:null,mimeType:null,startTime:null,td:null,uri:null},Va:!1}}));return e.vb=function(){},Au(e)},Gs.prototype.detach=Gs.prototype.detach,Gs.prototype.wd=function(t){var e=this;if(t=void 0===t||t,this.i==ku)return Promise.reject(xu());Qt()||(t=!1);var n={Aa:null,v:null,mimeType:null,startTime:null,td:null,uri:null},r=ks(this.lb,(function(r){var i=r.v&&t?e.hb:r.v?e.R:e.D;return n.v=r.v,{node:i,payload:n,Va:!1}}));return r.vb=function(){},Au(r)},Gs.prototype.unload=Gs.prototype.wd,Gs.prototype.load=function(t,e,n){if(this.i==ku)return Promise.reject(xu());this.dispatchEvent(new Tt("loading"));var r={Aa:null,v:null,mimeType:null,startTime:null,td:null,uri:null};r.uri=t,r.td=Date.now()/1e3,n&&"string"!=typeof n&&(nr("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),r.Aa=function(){return new n}),n&&"string"==typeof n&&(r.mimeType=n),void 0!==e&&(r.startTime=e);var i=function(t,e){if(e.Aa)return!1;if(!Qt())return!0;var n=e.mimeType,r=e.uri||"";return n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[Si.getExtension(r)]),!!n&&(""!=(e.v||re()).canPlayType(n)&&(!Si.isSupported(r,n)||!!navigator.vendor&&navigator.vendor.includes("Apple")&&t.c.streaming.useNativeHlsOnSafari))}(this,r)?this.jb:this.S,a=ks(this.lb,(function(t){return null==t.v?null:(r.v=t.v,{node:i,payload:r,Va:!0})}));return a.vb=function(){},new Promise((function(t,e){a.nc=function(){return e(new pt(2,7,7002))},a.lc=function(){return t()},a.Ya=function(){return e(xu())},a.onError=function(t){return e(t)}}))},Gs.prototype.load=Gs.prototype.load,Gs.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Rs(t,e));var n=Us(this.c,t,Js(this));return Ys(this),n},Gs.prototype.configure=Gs.prototype.configure,Gs.prototype.getConfiguration=function(){var t=Js(this);return Us(t,this.c,Js(this)),t},Gs.prototype.getConfiguration=Gs.prototype.getConfiguration,Gs.prototype.Kf=function(){for(var t in this.c)delete this.c[t];Us(this.c,Js(this),Js(this)),Ys(this)},Gs.prototype.resetConfiguration=Gs.prototype.Kf,Gs.prototype.Ke=function(){return this.i},Gs.prototype.getLoadMode=Gs.prototype.Ke,Gs.prototype.Pe=function(){return this.a},Gs.prototype.getMediaElement=Gs.prototype.Pe,Gs.prototype.Kb=function(){return this.K},Gs.prototype.getNetworkingEngine=Gs.prototype.Kb,Gs.prototype.ec=function(){return this.Eb},Gs.prototype.getAssetUri=Gs.prototype.ec,Gs.prototype.Ne=function(){return nr("getManifestUri",'Please use "getAssetUri" instead.'),this.ec()},Gs.prototype.getManifestUri=Gs.prototype.Ne,Gs.prototype.V=function(){return this.b?this.b.presentationTimeline.V():!(!this.a||!this.a.src)&&1/0==this.a.duration},Gs.prototype.isLive=Gs.prototype.V,Gs.prototype.Xa=function(){return!!this.b&&this.b.presentationTimeline.Xa()},Gs.prototype.isInProgress=Gs.prototype.Xa,Gs.prototype.cf=function(){if(this.b){if(!this.b.periods.length)return!1;var t=this.b.periods[0].variants;return!!t.length&&!t[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},Gs.prototype.isAudioOnly=Gs.prototype.cf,Gs.prototype.Mf=function(){if(this.b){var t=this.b.presentationTimeline;return{start:t.ob(),end:t.Ca()}}return this.a&&this.a.src&&(t=this.a.seekable).length?{start:t.start(0),end:t.end(t.length-1)}:{start:0,end:0}},Gs.prototype.seekRange=Gs.prototype.Mf,Gs.prototype.keySystem=function(){return we(this.drmInfo())},Gs.prototype.keySystem=Gs.prototype.keySystem,Gs.prototype.drmInfo=function(){return this.h?this.h.a:null},Gs.prototype.drmInfo=Gs.prototype.drmInfo,Gs.prototype.Jb=function(){return this.h?this.h.Jb():1/0},Gs.prototype.getExpiration=Gs.prototype.Jb,Gs.prototype.Sc=function(){return!!this.C&&this.C.a==Oa},Gs.prototype.isBuffering=Gs.prototype.Sc,Gs.prototype.Se=function(){if(this.W){var t=this.W;t=t.f?0:t.c}else t=0;return t},Gs.prototype.getPlaybackRate=Gs.prototype.Se,Gs.prototype.eg=function(t){0==t?X("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.W.set(t),this.i==Iu&&yo(this.f,1<Math.abs(t)))},Gs.prototype.trickPlay=Gs.prototype.eg,Gs.prototype.ue=function(){this.i==Nu&&this.W.set(1),this.i==Iu&&(this.W.set(1),yo(this.f,!1))},Gs.prototype.cancelTrickPlay=Gs.prototype.ue,Gs.prototype.Rc=function(){if(this.b&&this.m){for(var t=Tu(this),e=[],n=h(Eu(this)),r=n.next();!r.done;r=n.next()){var i=Vn(r=r.value);i.active=r==t,e.push(i)}return e}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(t){var e=Wn(t);return e.active=t.enabled,e.type="variant",e.originalAudioId=t.id,"main"==t.kind?(e.primary=!0,e.roles=["main"],e.audioRoles=["main"]):e.audioRoles=[],e})):[]},Gs.prototype.getVariantTracks=Gs.prototype.Rc,Gs.prototype.qb=function(){if(this.b&&this.m){for(var t=function(t){var e=_u(t);if(null==e)return null;if(!xa(t.$,e).text){var n=$n(e.textStreams,t.na,t.fb);n.length&&Ta(t.$,e,n[0])}return xa(t.$,e).text}(this),e=[],n=h(function(t){var e=_u(t);return null==e?[]:e.textStreams.filter((function(e){return!t.Zb.has(e)}))}(this)),r=n.next();!r.done;r=n.next()){var i=Kn(r=r.value);i.active=r==t,e.push(i)}return e}return this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).map((function(t){var e=Wn(t);return e.active="disabled"!=t.mode,e.type="text",e.originalTextId=t.id,"captions"==t.kind&&(e.mimeType="application/cea-608"),e})):[]},Gs.prototype.getTextTracks=Gs.prototype.qb,Gs.prototype.nd=function(t){if(this.b&&this.f){var e=_u(this),n=e.textStreams.find((function(e){return e.id==t.id}));n&&(Zs(this,e,n,!1),eu(this,n),this.na=n.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(n=(e=h(e=Array.from(this.a.textTracks))).next();!n.done;n=e.next())Hn(n=n.value)==t.id?n.mode=this.gb?"showing":"hidden":n.mode="disabled";lu(this)}},Gs.prototype.selectTextTrack=Gs.prototype.nd,Gs.prototype.Of=function(){nr("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var t=this.qb().filter((function(t){return"application/cea-608"==t.mimeType}));0<t.length&&this.nd(t[0])},Gs.prototype.selectEmbeddedTextTrack=Gs.prototype.Of,Gs.prototype.jg=function(){nr("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var t=this.qb().filter((function(t){return t.active}))[0];return!!t&&"application/cea-608"==t.mimeType},Gs.prototype.usingEmbeddedTextTrack=Gs.prototype.jg,Gs.prototype.Qf=function(t,e,n){if(n=void 0===n?0:n,this.b&&this.f){var r=_u(this);this.c.abr.enabled&&X("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=r.variants.find((function(e){return e.id==t.id}));i&&Xn(i)&&($s(this,r,i,!1),tu(this,i,e,n),this.Fb=new Na(i),iu(this,r.variants))}else if(this.a&&this.a.audioTracks){for(n=(e=h(e=Array.from(this.a.audioTracks))).next();!n.done;n=e.next())Hn(n=n.value)==t.id&&(n.enabled=!0);cu(this)}},Gs.prototype.selectVariantTrack=Gs.prototype.Qf,Gs.prototype.Fe=function(){return wu(this.Rc())},Gs.prototype.getAudioLanguagesAndRoles=Gs.prototype.Fe,Gs.prototype.Ze=function(){return wu(this.qb())},Gs.prototype.getTextLanguagesAndRoles=Gs.prototype.Ze,Gs.prototype.Ee=function(){return Array.from(bu(this.Rc()))},Gs.prototype.getAudioLanguages=Gs.prototype.Ee,Gs.prototype.Ye=function(){return Array.from(bu(this.qb()))},Gs.prototype.getTextLanguages=Gs.prototype.Ye,Gs.prototype.Nf=function(t,e){if(this.b&&this.m){var n=_u(this);this.Fb=new Pa(t,e||"",0,"","audio"),ou(this,n)}else if(this.a&&this.a.audioTracks){for(var r=(n=h(n=Array.from(this.a.audioTracks))).next();!r.done;r=n.next())(r=r.value).language==t&&(r.enabled=!0);cu(this)}},Gs.prototype.selectAudioLanguage=Gs.prototype.Nf,Gs.prototype.Pf=function(t,e){if(this.b&&this.m){var n=_u(this);this.na=t,this.fb=e||"";var r=$n(n.textStreams,this.na,this.fb)[0]||null;r&&(Zs(this,n,r,!1),(this.c.streaming.alwaysStreamText||this.ic())&&eu(this,r))}else(n=this.qb().filter((function(e){return e.language==t}))[0])&&this.nd(n)},Gs.prototype.selectTextLanguage=Gs.prototype.Pf,Gs.prototype.Rf=function(t){if(this.b&&this.m){for(var e=_u(this),n=null,r=h(Eu(this)),i=r.next();!i.done;i=r.next())if((i=i.value).audio.label==t){n=i;break}null!=n&&(this.Fb=new Pa(n.language,"",0,t),ou(this,e))}},Gs.prototype.selectVariantsByLabel=Gs.prototype.Rf,Gs.prototype.ic=function(){var t=this.gb;return this.b?this.F.g.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).some((function(t){return"showing"==t.mode})):t},Gs.prototype.isTextTrackVisible=Gs.prototype.ic,Gs.prototype.Uf=function(t){var e=this;return p((function n(){var r,i,a,o;return L(n,(function(n){switch(n.j){case 1:if(e.gb==(r=t))return n.return();if(e.gb=r,e.i!=Iu){if(e.a&&e.a.src&&e.a.textTracks)for(var s=h(Array.from(e.a.textTracks)),u=s.next();!u.done;u=s.next())"disabled"!=(i=u.value).mode&&(i.mode=t?"showing":"hidden");n.A(2);break}if(e.F.g.setTextVisibility(t),e.c.streaming.alwaysStreamText){n.A(2);break}if(!t){(s=e.f).D=!0,(u=s.b.get("text"))&&(Uo(u),s.b.delete("text")),n.A(2);break}if(a=_u(e),!(0<(o=$n(a.textStreams,e.na,e.fb)).length)){n.A(2);break}return T(n,mo(e.f,o[0]),2);case 2:fu(e),x(n)}}))}))},Gs.prototype.setTextTrackVisibility=Gs.prototype.Uf,Gs.prototype.Ue=function(){if(!this.V())return null;if(this.b)return new Date(1e3*(this.b.presentationTimeline.f+this.a.currentTime));if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?null:new Date(t.getTime()+1e3*this.a.currentTime)}return null},Gs.prototype.getPlayheadTimeAsDate=Gs.prototype.Ue,Gs.prototype.We=function(){if(!this.V())return null;if(this.b)return new Date(1e3*this.b.presentationTimeline.f);if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?null:t}return null},Gs.prototype.getPresentationStartTimeAsDate=Gs.prototype.We,Gs.prototype.Nc=function(){var t={total:[],audio:[],video:[],text:[]};return this.i==Nu&&(t.total=ze(this.a.buffered)),this.i==Iu&&this.F.Nc(t),t},Gs.prototype.getBufferedInfo=Gs.prototype.Nc,Gs.prototype.getStats=function(){if(this.i!=Iu&&this.i!=Nu)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,switchHistory:[],stateHistory:[]};ru(this);var t=this.a;if(t.getVideoPlaybackQuality){t=t.getVideoPlaybackQuality();var e=this.u,n=Number(t.totalVideoFrames);e.m=Number(t.droppedVideoFrames),e.l=n,this.u.i=Number(t.corruptedVideoFrames)}this.h?t=(t=this.h).K?t.K:NaN:t=NaN,this.u.h=t,this.i==Iu&&((t=Tu(this))&&(this.u.s=t.bandwidth),t&&t.video&&(e=this.u,n=t.video.height||NaN,e.u=t.video.width||NaN,e.g=n),t=this.l.getBandwidthEstimate(),this.u.f=t);var r=this.u;t=r.u,e=r.g,n=r.s;for(var i=r.l,a=r.m,o=r.i,s=r.f,u=r.b,c=Fs(r.a,"playing"),l=Fs(r.a,"paused"),f=Fs(r.a,"buffering"),d=r.h,p=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=h(t.b),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.a&&n.push(e(t.a)),n}(r.a),v=[],m=(r=h(r.c.a)).next();!m.done;m=r.next())m=m.value,v.push({timestamp:m.timestamp,id:m.id,type:m.type,fromAdaptation:m.fromAdaptation,bandwidth:m.bandwidth});return{width:t,height:e,streamBandwidth:n,decodedFrames:i,droppedFrames:a,corruptedFrames:o,estimatedBandwidth:s,loadLatency:u,playTime:c,pauseTime:l,bufferingTime:f,licenseTime:d,stateHistory:p,switchHistory:v}},Gs.prototype.getStats=Gs.prototype.getStats,Gs.prototype.addTextTrack=function(t,e,n,r,i,a){var o=this;return p((function s(){var u,c,l,f,h,d,p,v,m;return L(s,(function(s){switch(s.j){case 1:if(o.i==Nu)throw Error("State error!");if(o.i!=Iu)throw Error("State error!");if(u=_u(o),c=He,l=o.b.periods.indexOf(u),h=(f=l+1)>=o.b.periods.length?o.b.presentationTimeline.Y():o.b.periods[f].startTime,1/0==(d=h-u.startTime))throw new pt(1,4,4033);return p=new si(1,0,d,(function(){return[t]}),0,null),v={id:o.Jd++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1==t?p:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:e,label:a||null,type:c.ra,primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},o.Zb.add(v),u.textStreams.push(v),T(s,mo(o.f,v),2);case 2:return(m=vo(o.f,"text"))&&Ta(o.$,u,m),o.Zb.delete(v),au(o,u),uu(o),s.return(Kn(v))}}))}))},Gs.prototype.addTextTrack=Gs.prototype.addTextTrack,Gs.prototype.pd=function(t,e){this.$b.width=t,this.$b.height=e},Gs.prototype.setMaxHardwareResolution=Gs.prototype.pd,Gs.prototype.md=function(){if(this.i==Iu){var t=this.f;if(t.f)t=!1;else if(t.m)t=!1;else{for(var e=h(t.b.values()),n=e.next();!n.done;n=e.next())(n=n.value).Nb&&(n.Nb=!1,Lo(t,n,.1));t=!0}}else t=!1;return t},Gs.prototype.retryStreaming=Gs.prototype.md,Gs.prototype.Le=function(){return this.b},Gs.prototype.getManifest=Gs.prototype.Le,Gs.prototype.Me=function(){return this.s?this.s.constructor:null},Gs.prototype.getManifestParserFactory=Gs.prototype.Me,(r=Gs.prototype).Ic=function(t){var e=this.f?ho(this.f):null,n=this.f?po(this.f):null;if(zn(this.h,e,n,t),!(e=t.variants).some(Xn))throw new pt(2,4,4011);if(yu(this,t.variants),Bn(e,this.c.restrictions,this.$b)&&this.f&&_u(this)==t&&uu(this),t=this.h?this.h.a:null)for(n=(e=h(e)).next();!n.done;n=e.next())for(var r=(n=h(n.value.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t.keySystem)for(var i=(r=h(r.initData||[])).next();!i.done;i=r.next())i=i.value,be(this.h,i.initDataType,i.initData)},r.ff=function(t){try{this.kb=!0,this.l.disable(),hu(this);var e=iu(this,t.variants),n=$n(t.textStreams,this.na,this.fb)[0]||null;this.pa&&(t.variants.includes(this.pa)&&(e=this.pa),this.pa=null),this.oa&&(t.textStreams.includes(this.oa)&&(n=this.oa),this.oa=null),e&&$s(this,t,e,!0),n&&Zs(this,t,n,!0);var r=this.f,i=r.b.get("video");if(i)var a=r.c.periods[i.ia];else{var o=r.b.get("audio");a=o?r.c.periods[o.ia]:null}var s=e?e.audio:null;if(!a&&n){var u;if(u=s){t=n;var c=Ln(this.c.preferredTextLanguage),l=Ln(s.language),f=Ln(t.language);u=Rn(f,c)&&!Rn(l,f)}u&&(this.gb=!0),this.gb&&this.F.g.setTextVisibility(!0),fu(this)}return this.c.streaming.alwaysStreamText||this.ic()?{variant:e,text:n}:{variant:e,text:null}}catch(t){return this.Ma(t),{variant:null,text:null}}},r.te=function(){this.kb=!1,this.c.abr.enabled&&(this.l.enable(),hu(this)),this.pa&&(go(this.f,this.pa,this.Gd,this.Ed),cu(this),this.pa=null),this.oa&&(bo(this.f,this.oa,!0,0,!1),lu(this),this.oa=null)},r.lf=function(){this.s&&this.s.update&&this.s.update()},r.sf=function(){this.m&&this.m.s()},r.Ma=function(t){if(this.i!=ku){var e=new Tt("error",{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}};var ku=0,Cu=1,Iu=2,Nu=3;function Pu(t,e){var n=bs(new gs(t.wa(),t.ba()),e.periods[0],new Ai(null,0)),r=e.appMetadata||{};return n=Mu(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:r}}function Mu(t){for(var e=[],n=function(t){return t.filter((function(t){return Xn(t)}))}(t.variants),r=(n=h(n)).next();!r.done;r=n.next())e.push(Vn(r.value));for(n=(t=h(t.textStreams)).next();!n.done;n=t.next())e.push(Kn(n.value));return e}function Ru(){this.a={}}function Ou(t,e){var n=t.a[e];return null==n&&(n=0),n}function Lu(t){this.a=!1,this.b=new vt,this.c=t}function Uu(t){var e=new ju;t.periods.forEach((function(t,n){var r=Bu(t.variants);if(0==n)for(var i=(r=h(r.a)).next();!i.done;i=r.next())e.add(i.value);else!function(t,e){t.a=t.a.filter((function(t){return Fu(e,t)}))}(e,r)}));for(var n=(t=h(t.periods)).next();!n.done;n=t.next())(n=n.value).variants=n.variants.filter((function(t){return Fu(e,new Du(t))}))}function Du(t){var e=t.audio;t=t.video,this.b=e?e.mimeType:null,this.a=e?e.codecs.split(".")[0]:null,this.f=t?t.mimeType:null,this.c=t?t.codecs.split(".")[0]:null}function ju(){this.a=[]}function Fu(t,e){return t.a.some((function(t){return e.b==t.b&&e.a==t.a&&e.f==t.f&&e.c==t.c}))}function Bu(t){for(var e=new ju,n=(t=h(t)).next();!n.done;n=t.next())e.add(new Du(n.value));return e}function zu(t){var e=this;if(t&&t.constructor!=Gs)throw new pt(2,9,9008);this.b=this.a=null,t?(this.a=t.c,this.b=t.Kb()):(this.a=Ls(),this.b=new Mt),this.f=!1,this.c=[],this.g=[];var n=!t;this.h=new Lu((function(){return p((function t(){var r;return L(t,(function(t){switch(t.j){case 1:return r=function(){},T(t,Promise.all(e.g.map((function(t){return t.then(r,r)}))),2);case 2:if(!n){t.A(3);break}return T(t,e.b.destroy(),3);case 3:e.a=null,e.b=null,x(t)}}))}))}))}function Gu(){if(Qt())t:{for(var t=h(ts.values()),e=t.next();!e.done;e=t.next())if(e=(e=e.value)()){e.destroy(),t=!0;break t}t=!1}else t=!1;return t}function Vu(t,e){for(var n=[],r=h(t.periods),i=r.next();!i.done;i=r.next())for(var a=(i=h(i.value.streams)).next();!a.done;a=i.next())a=a.value,e&&"video"==a.contentType?n.push({contentType:$t(a.mimeType,a.codecs),robustness:t.drmInfo.videoRobustness}):e||"audio"!=a.contentType||n.push({contentType:$t(a.mimeType,a.codecs),robustness:t.drmInfo.audioRobustness});return n}function Ku(t,e,n){return p((function r(){return L(r,(function(r){switch(r.j){case 1:return T(r,function(t,e,n,r){return p((function i(){var a,o,s;return L(i,(function(i){switch(i.j){case 1:return r.drmInfo?(a=function(t){var e=Array.from(t.a.keys());if(!e.length)throw new pt(2,9,9e3,"No supported storage mechanisms found");return t.a.get(e[0]).getEmeSessionCell()}(n),o=r.sessionIds.map((function(t){return{sessionId:t,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:Vu(r,!1),videoCapabilities:Vu(r,!0)}})),T(i,xs(e,t,o),2)):i.return();case 2:return s=i.o,T(i,a.remove(s),3);case 3:return T(i,a.add(o.filter((function(t){return-1==s.indexOf(t.sessionId)}))),0)}}))}))}(t.b,t.a.drm,n,e),0)}}))}))}function Hu(t,e,n,r){function i(){s+=1,t.a.offline.progressCallback(u,s/o)}var a=function(t){var e=[];return t.periods.forEach((function(t){t.streams.forEach((function(t){null!=t.initSegmentKey&&e.push(t.initSegmentKey),t.segments.forEach((function(t){e.push(t.dataKey)}))}))})),e}(r),o=a.length+1,s=0,u=Pu(n,r);return Promise.all([e.removeSegments(a,i),e.removeManifests([n.key()],i)])}function qu(t,e,n,r,i,a){var o={id:a.id,originalId:a.originalId,primary:a.primary,presentationTimeOffset:a.presentationTimeOffset||0,contentType:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:a.pixelAspectRatio,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,initSegmentKey:null,encrypted:a.encrypted,keyId:a.keyId,segments:[],variantIds:[]};i=i.presentationTimeline.Mb();var s=a.id,u=a.initSegmentReference;return u&&(u=ki(u.c(),u.b,u.a,t.a.streaming.retryParameters),Vo(e,s,u,.5*Ou(r,a.id),!0,(function(e){return p((function r(){var i;return L(r,(function(r){switch(r.j){case 1:return T(r,n.addSegments([{data:e}]),2);case 2:i=r.o,t.c.push(i[0]),o.initSegmentKey=i[0],x(r)}}))}))}))),function(t,e,n){for(var r=null==(e=t.findSegmentPosition(e))?null:t.getSegmentReference(e);r;)n(r),r=t.getSegmentReference(++e)}(a,i,(function(i){var u=ki(i.c(),i.b,i.a,t.a.streaming.retryParameters);Vo(e,s,u,function(t,e,n){return n=n.endTime-n.startTime,Ou(t,e)*n}(r,a.id,i),!1,(function(e){return p((function r(){var a;return L(r,(function(r){switch(r.j){case 1:return T(r,n.addSegments([{data:e}]),2);case 2:a=r.o,t.c.push(a[0]),o.segments.push({startTime:i.startTime,endTime:i.endTime,dataKey:a[0]}),x(r)}}))}))}))})),o}function Wu(t){if(t.h.a)throw new pt(2,9,7001)}function Xu(){if(!Gu())throw new pt(2,9,9e3)}function Yu(t,e){return p((function n(){return L(n,(function(n){switch(n.j){case 1:return t.g.push(e),A(n,2),T(n,e,4);case 4:return n.return(n.o);case 2:I(n),Ct(t.g,e),N(n,0)}}))}))}function $u(t){for(var e=new Set,n=(t=h(t.periods)).next();!n.done;n=t.next()){for(var r=h((n=n.value).textStreams),i=r.next();!i.done;i=r.next())e.add(i.value);for(r=(n=h(n.variants)).next();!r.done;r=n.next())(r=r.value).audio&&e.add(r.audio),r.video&&e.add(r.video)}return e}function Zu(t){t.variants.map((function(t){return t.video}));var e=new Set(t.variants.map((function(t){return t.audio})));t=t.textStreams;for(var n=h(e),r=n.next();!r.done;r=n.next())for(var i=(r=h(e)).next();!i.done;i=r.next());for(n=(e=h(t)).next();!n.done;n=e.next())for(r=(n=h(t)).next();!r.done;r=n.next());}Gs.LoadMode={DESTROYED:ku,NOT_LOADED:Cu,MEDIA_SOURCE:Iu,SRC_EQUALS:Nu},Lu.prototype.destroy=function(){var t=this;return this.a?this.b:(this.a=!0,this.c().then((function(){t.b.resolve()}),(function(){t.b.resolve()})))},ju.prototype.add=function(t){Fu(this,t)||this.a.push(t)},z("shaka.offline.Storage",zu),zu.support=Gu,zu.prototype.destroy=function(){return this.h.destroy()},zu.prototype.destroy=zu.prototype.destroy,zu.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Rs(t,e));var n=t,r=!1;return null!=n.trackSelectionCallback&&(r=!0,n.offline=n.offline||{},n.offline.trackSelectionCallback=n.trackSelectionCallback,delete n.trackSelectionCallback),null!=n.progressCallback&&(r=!0,n.offline=n.offline||{},n.offline.progressCallback=n.progressCallback,delete n.progressCallback),null!=n.usePersistentLicense&&(r=!0,n.offline=n.offline||{},n.offline.usePersistentLicense=n.usePersistentLicense,delete n.usePersistentLicense),r&&nr("Storage.configure with OfflineConfig","Please configure storage with a player configuration."),Us(this.a,t)},zu.prototype.configure=zu.prototype.configure,zu.prototype.getConfiguration=function(){var t=Ls();return Us(t,this.a,Ls()),t},zu.prototype.getConfiguration=zu.prototype.getConfiguration,zu.prototype.Kb=function(){return this.b},zu.prototype.getNetworkingEngine=zu.prototype.Kb,zu.prototype.store=function(t,e,n){var r=this;return Yu(this,function(t,e,n,r){return p((function i(){var a,o,s,u,c,l,f,d,v;return L(i,(function(i){switch(i.j){case 1:return Xu(),t.f?i.return(Promise.reject(new pt(2,9,9006))):(t.f=!0,T(i,function(t,e,n){return p((function r(){var i,a,o,s,u,c;return L(r,(function(r){switch(r.j){case 1:return i=null,a=t.b,o={networkingEngine:a,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(t){i=t}},T(r,n(),2);case 2:return(s=r.o).configure(t.a.manifest),Wu(t),A(r,3),T(r,s.start(e,o),5);case 5:return u=r.o,Wu(t),c=$u(u),T(r,Promise.all(Array.from(c).map((function(t){return t.createSegmentIndex()}))),6);case 6:if(Wu(t),i)throw i;return r.return(u);case 3:return I(r),T(r,s.stop(),7);case 7:N(r,0)}}))}))}(t,e,r),2));case 2:if(a=i.o,Wu(t),!(!a.presentationTimeline.V()&&!a.presentationTimeline.Xa()))throw new pt(2,9,9005,e);return o=null,s=new Zo,c=u=null,S(i,3,4),T(i,function(t,e,n){return p((function r(){var i,a,o;return L(r,(function(r){switch(r.j){case 1:return i=new pe({tb:t.b,onError:n,mc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),a=Va(e.periods),o=t.a,i.configure(o.drm),T(r,function(t,e,n){return t.s=[],t.D=n,me(t,e)}(i,a,o.offline.usePersistentLicense),2);case 2:return T(r,ye(i),3);case 3:return T(r,ge(i),4);case 4:return r.return(i)}}))}))}(t,a,(function(t){c=c||t})),6);case 6:if(o=i.o,Wu(t),c)throw c;return function(t,e,n){(function(t,e){for(var n={width:1/0,height:1/0},r=h(t.periods),i=r.next();!i.done;i=r.next())(i=i.value).variants=i.variants.filter((function(t){return Fn(t,e,n)}))})(e,t.a.restrictions),function(t){for(var e=(t=h(t.periods)).next();!e.done;e=t.next())(e=e.value).variants=e.variants.filter((function(t){var e=!0;return t.audio&&(e=e&&En(t.audio)),t.video&&(e=e&&En(t.video)),e}))}(e),function(t,e){for(var n=h(t.periods),r=n.next();!r.done;r=n.next())(r=r.value).variants=r.variants.filter((function(t){return Ie(e,t)}))}(e,n),Uu(e),function(t,e){var n=new ju;t.periods.forEach((function(t,r){0<r&&(t.variants=t.variants.filter((function(t){return Fu(n,new Du(t))}))),e(t),n=Bu(t.variants)}))}(e,(function(e){for(var n=[],r=h(e.variants),i=r.next();!i.done;i=r.next())n.push(Vn(i.value));for(i=(r=h(e.textStreams)).next();!i.done;i=r.next())n.push(Kn(i.value));n=t.a.offline.trackSelectionCallback(n);var a=new Set,o=new Set;for(r=(n=h(n)).next();!r.done;r=n.next())"variant"==(r=r.value).type&&a.add(r.id),"text"==r.type&&o.add(r.id);e.variants=e.variants.filter((function(t){return a.has(t.id)})),e.textStreams=e.textStreams.filter((function(t){return o.has(t.id)}))})),function(t){if(0==t.periods.length)throw new pt(2,4,4014);for(var e=(t=h(t.periods)).next();!e.done;e=t.next())Zu(e.value)}(e)}(t,a,o),T(i,s.init(),7);case 7:return Wu(t),T(i,function(t){var e=null;if(t.a.forEach((function(t,n){t.getCells().forEach((function(t,r){t.hasFixedKeySpace()||e||(e={path:{wa:n,ba:r},ba:t})}))})),e)return e;throw new pt(2,9,9013,"Could not find a cell that supports add-operations")}(s),8);case 8:return u=i.o,Wu(t),T(i,function(t,e,n,r,i,a){return p((function o(){var s,u,c,l,f,d,v,m;return L(o,(function(o){switch(o.j){case 1:return s=function(t,e,n){var r=null==e.expiration?1/0:e.expiration;return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.Y(),size:0,expiration:r,tracks:e=Mu(e.periods[0]),appMetadata:n}}(i,r,a),u=r.periods.some((function(t){return t.variants.some((function(t){return t.drmInfos&&t.drmInfos.length}))})),c=r.periods.some((function(t){return t.variants.some((function(t){return t.drmInfos.some((function(t){return t.initData&&t.initData.length}))}))})),l=u&&!c,f=new Go(t.b,(function(e,n){s.size=n,t.a.offline.progressCallback(s,e)}),(function(e){l&&t.a.offline.usePersistentLicense&&be(n,"cenc",e)})),A(o,2),v=d=function(t,e,n,r,i,a,o){var s=new Ru,u=i.periods.map((function(r){return function(t,e,n,r,i,a){i.periods.forEach((function(t){t.variants.forEach((function(t){var e=t.audio,n=t.video;if(e&&!n&&(r.a[e.id]=e.bandwidth||t.bandwidth),!e&&n&&(r.a[n.id]=n.bandwidth||t.bandwidth),e&&n){var i=e.bandwidth||393216,a=n.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),r.a[e.id]=i,r.a[n.id]=a}})),t.textStreams.forEach((function(t){r.a[t.id]=52}))}));for(var o=$u(i),s=new Map,u=(o=h(o)).next();!u.done;u=o.next()){u=u.value;var c=qu(t,e,n,r,i,u);s.set(u.id,c)}return a.variants.forEach((function(t){t.audio&&s.get(t.audio.id).variantIds.push(t.id),t.video&&s.get(t.video.id).variantIds.push(t.id)})),{startTime:a.startTime,streams:Array.from(s.values())}}(t,e,n,s,i,r)})),c=r.a,l=t.a.offline.usePersistentLicense;return c&&l&&(c.initData=[]),{originalManifestUri:a,duration:i.presentationTimeline.Y(),size:0,expiration:r.Jb(),periods:u,sessionIds:l?_e(r):[],drmInfo:c,appMetadata:o}}(t,f,e,n,r,i,a),T(o,function(t){return p((function e(){return L(e,(function(e){switch(e.j){case 1:return T(e,Promise.all(t.b.values()),2);case 2:return e.return(t.a.a)}}))}))}(f),4);case 4:if(v.size=o.o,d.expiration=n.Jb(),m=_e(n),d.sessionIds=t.a.offline.usePersistentLicense?m:[],u&&t.a.offline.usePersistentLicense&&!m.length)throw new pt(2,9,9007);return o.return(d);case 2:return I(o),T(o,f.destroy(),5);case 5:N(o,0)}}))}))}(t,u.ba,o,a,e,n),9);case 9:if(l=i.o,Wu(t),c)throw c;return T(i,u.ba.addManifests([l]),10);case 10:return f=i.o,Wu(t),d=new ms("manifest",u.path.wa,u.path.ba,f[0]),i.return(Pu(d,l));case 4:return I(i),t.f=!1,t.c=[],T(i,s.destroy(),11);case 11:if(!o){i.A(12);break}return T(i,o.destroy(),12);case 12:N(i,0);break;case 3:if(v=C(i),!u){i.A(14);break}return T(i,u.ba.removeSegments(t.c,(function(){})),14);case 14:throw c||v}}))}))}(this,t,e||{},(function(){return p((function e(){var i,a;return L(e,(function(e){switch(e.j){case 1:return n&&"string"!=typeof n?(nr("Storing with a manifest parser factory","Please register a manifest parser and for the mime-type."),i=n,e.return(new i)):T(e,Si.create(t,r.b,r.a.manifest.retryParameters,n),2);case 2:return a=e.o,e.return(a)}}))}))})))},zu.prototype.store=zu.prototype.store,zu.prototype.Xe=function(){return this.f},zu.prototype.getStoreInProgress=zu.prototype.Xe,zu.prototype.remove=function(t){return Yu(this,function(t,e){return p((function n(){var r,i,a,o,s,u;return L(n,(function(n){switch(n.j){case 1:return Xu(),null==(r=ys(e))||"manifest"!=r.a?n.return(Promise.reject(new pt(2,9,9004,e))):(i=r,a=new Zo,A(n,2),T(n,a.init(),4));case 4:return T(n,Jo(a,i.wa(),i.ba()),5);case 5:return T(n,(o=n.o).getManifests([i.key()]),6);case 6:return s=n.o,u=s[0],T(n,Promise.all([Ku(t,u,a),Hu(t,o,i,u)]),2);case 2:return I(n),T(n,a.destroy(),8);case 8:N(n,0)}}))}))}(this,t))},zu.prototype.remove=zu.prototype.remove,zu.prototype.Hf=function(){return Yu(this,function(t){return p((function e(){var n,r,i,a,o,s,u,c,l;return L(e,(function(e){switch(e.j){case 1:return Xu(),n=t.b,r=t.a.drm,i=new Zo,a=!1,A(e,2),T(e,i.init(),4);case 4:for(o=[],function(t,e){t.a.forEach((function(t){e(t.getEmeSessionCell())}))}(i,(function(t){return o.push(t)})),s=Promise.resolve(),u={},c=h(o),l=c.next();!l.done;u={sc:u.sc},l=c.next())u.sc=l.value,s=s.then(function(t){return function(){return p((function e(){var i,o;return L(e,(function(e){switch(e.j){case 1:return T(e,t.sc.getAll(),2);case 2:return i=e.o,T(e,xs(r,n,i),3);case 3:return o=e.o,T(e,t.sc.remove(o),4);case 4:o.length!=i.length&&(a=!0),x(e)}}))}))}}(u));return T(e,s,2);case 2:return I(e),T(e,i.destroy(),6);case 6:N(e,3);break;case 3:return e.return(!a)}}))}))}(this))},zu.prototype.removeEmeSessions=zu.prototype.Hf,zu.prototype.list=function(){return Yu(this,p((function t(){var e,n,r;return L(t,(function(t){switch(t.j){case 1:return Xu(),e=[],n=new Zo,A(t,2),T(t,n.init(),4);case 4:return r=Promise.resolve(),function(t,e){t.a.forEach((function(t,n){t.getCells().forEach((function(t,r){e({wa:n,ba:r},t)}))}))}(n,(function(t,n){r=r.then((function(){return p((function r(){return L(r,(function(r){switch(r.j){case 1:return T(r,n.getAllManifests(),2);case 2:r.o.forEach((function(n,r){var i=Pu(new ms("manifest",t.wa,t.ba,r),n);e.push(i)})),x(r)}}))}))}))})),T(t,r,2);case 2:return I(t),T(t,n.destroy(),6);case 6:N(t,3);break;case 3:return t.return(e)}}))})))},zu.prototype.list=zu.prototype.list,zu.deleteAll=function(){return p((function t(){var e;return L(t,(function(t){switch(t.j){case 1:return e=new Zo,A(t,2),T(t,e.erase(),2);case 2:return I(t),T(t,e.destroy(),5);case 5:N(t,0)}}))}))},Hs.offline=Gu,z("shaka.polyfill.installAll",(function(){for(var t=0;t<tc.length;++t)try{tc[t].re()}catch(t){X("Error installing polyfill!",t)}}));var Ju,Qu,tc=[];function ec(t,e){for(var n={priority:e=e||0,re:t},r=0;r<tc.length;r++)if(tc[r].priority<e)return void tc.splice(r,0,n);tc.push(n)}function nc(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(e,t);else(n=document.createEvent("Event")).initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(n)}function rc(t,e,n){if("input"==t)switch(this.type){case"range":t="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,t,e,n)}function ic(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=t.apply(this,n)).abort=function(){},n}}function ac(t,e){try{var n=new oc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function oc(t,e){if(this.keySystem=t,t.startsWith("com.apple.fps"))for(var n=h(e),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var s=h(i.audioCapabilities),u=s.next();!u.done;u=s.next())if((u=u.value).contentType){a=!0;var c=u.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,c)&&(r.audioCapabilities.push(u),o=!0)}if(i.videoCapabilities)for(u=(i=h(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(a=!0,u=s.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,u)&&(r.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=o?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function sc(t){var e=this.mediaKeys;return e&&e!=t&&cc(e,null),delete this.mediaKeys,(this.mediaKeys=t)?cc(t,this):Promise.resolve()}function uc(t){this.b=new WebKitMediaKeys(t),this.a=new Gt}function cc(t,e){if(t.a.$a(),!e)return Promise.resolve();t.a.w(e,"webkitneedkey",fc);try{return 1<=e.readyState?e.webkitSetMediaKeys(t.b):t.a.da(e,"loadedmetadata",(function(){e.webkitSetMediaKeys(t.b)})),Promise.resolve()}catch(t){return Promise.reject(t)}}function lc(t){St.call(this),this.b=null,this.g=t,this.c=this.a=null,this.f=new Gt,this.sessionId="",this.expiration=NaN,this.closed=new vt,this.keyStatuses=new dc}function fc(t){var e=new Event("encrypted");e.initDataType="cenc",e.initData=t.initData,this.dispatchEvent(e)}function hc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new Tt("keystatuseschange"))}function dc(){this.size=0,this.a=void 0}function pc(t,e){try{var n=new vc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function vc(t,e){this.keySystem=t;for(var n=!1,r=0;r<e.length;++r){var i=e[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var u=i.audioCapabilities[s];if(u.contentType){o=!0;var c=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,c)&&(a.audioCapabilities.push(u),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)(u=i.videoCapabilities[s]).contentType&&(o=!0,c=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,c)&&(a.videoCapabilities.push(u),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=a)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function mc(t){var e=this.mediaKeys;return e&&e!=t&&gc(e,null),delete this.mediaKeys,(this.mediaKeys=t)?gc(t,this):Promise.resolve()}function yc(t){this.a=new MSMediaKeys(t),this.b=new Gt}function gc(t,e){if(t.b.$a(),!e)return Promise.resolve();t.b.w(e,"msneedkey",wc);var n=t;try{return 1<=e.readyState?e.msSetMediaKeys(t.a):e.addEventListener("loadedmetadata",(function t(){e.msSetMediaKeys(n.a),e.removeEventListener("loadedmetadata",t)})),Promise.resolve()}catch(t){return Promise.reject(t)}}function bc(t){St.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new Gt,this.sessionId="",this.expiration=NaN,this.closed=new vt,this.keyStatuses=new _c}function wc(t){if(t.initData){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc",e.initData=function(t){if(!t)return t;var e=new Xr(t);if(1>=e.data.length)return t;t=[];for(var n={},r=(e=h(e.data)).next();!r.done;n={hc:n.hc},r=e.next())n.hc=r.value,t.some(function(t){return function(e){return de.za(e,t.hc)}}(n))||t.push(n.hc);return de.concat.apply(de,t instanceof Array?t:function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(h(t)))}(t.initData),this.dispatchEvent(e)}}function Ec(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new Tt("keystatuseschange"))}function _c(){this.size=0,this.a=void 0}function Tc(){return Promise.reject(Error("The key system specified is not supported."))}function xc(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Sc(){throw new TypeError("Illegal constructor.")}function Ac(){throw new TypeError("Illegal constructor.")}z("shaka.polyfill.register",ec),ec((function(){Dl()}),-1),ec((function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",nc),document.addEventListener("webkitfullscreenerror",nc),document.addEventListener("mozfullscreenchange",nc),document.addEventListener("mozfullscreenerror",nc),document.addEventListener("MSFullscreenChange",nc),document.addEventListener("MSFullscreenError",nc)}})),ec((function(){var e=!1;if(ne("CrKey"))e=!0;else try{t.indexedDB&&(e=!1)}catch(t){e=!0}e&&delete t.indexedDB})),ec((function(){ne("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=rc)})),ec((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),ec((function(){})),ec((function(){var e=ee();t.MediaSource&&(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var t=MediaSource.isTypeSupported,e=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],a={},o=1;o<r.length;++o){var s=r[o].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),a[u]=s}if(!(r=a.codecs))return t(n);var c=!1,l=!1;for(var f in n=r.split(",").filter((function(t){return e.test(t)&&(l=!0),/^(hev|hvc)1\.2/.test(t)&&(c=!0),!0})),l&&(c=!1),a.codecs=n.join(","),c&&(a.eotf="smpte2084"),a)i+="; "+f+'="'+a[f]+'"';return cast.__platform__.canDisplayType(i)}}():e?(function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1].toLowerCase()&&t(e)}}(),12>=e?(ic(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}()):ic()):ne("Tizen")&&function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"opus"!=Zt(e)[0]&&t(e)}}())})),oc.prototype.createMediaKeys=function(){var t=new uc(this.keySystem);return Promise.resolve(t)},oc.prototype.getConfiguration=function(){return this.a},uc.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new lc(this.b,t)},uc.prototype.setServerCertificate=function(t){return t&&new Uint8Array(t),Promise.resolve(!0)},G(lc,St),(r=lc.prototype).generateRequest=function(t,e){this.a=new vt;try{this.b=this.g.createSession("video/mp4",new Uint8Array(e)),this.sessionId=this.b.sessionId||"",this.f.w(this.b,"webkitkeymessage",this.Zf.bind(this)),this.f.w(this.b,"webkitkeyadded",this.Xf.bind(this)),this.f.w(this.b,"webkitkeyerror",this.Yf.bind(this)),hc(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(t){this.c=new vt;try{this.b.update(new Uint8Array(t))}catch(t){this.c.reject(t)}return this.c},r.close=function(){try{this.b.close(),this.closed.resolve(),this.f.$a()}catch(t){this.closed.reject(t)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},r.Zf=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Tt("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},r.Xf=function(){this.c&&(hc(this,"usable"),this.c.resolve(),this.c=null)},r.Yf=function(){var t=Error("EME PatchedMediaKeysApple key error");if(t.errorCode=this.b.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.c)this.c.reject(t),this.c=null;else switch(this.b.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:hc(this,"output-not-allowed");break;default:hc(this,"internal-error")}},(r=dc.prototype).forEach=function(t){this.a&&t(this.a,Ju)},r.get=function(t){if(this.has(t))return this.a},r.has=function(t){var e=Ju;return!(!this.a||!de.za(new Uint8Array(t),new Uint8Array(e)))},r.entries=function(){},r.keys=function(){},r.values=function(){},ec((function(){t.HTMLVideoElement&&t.WebKitMediaKeys&&(Ju=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=sc,t.MediaKeys=uc,t.MediaKeySystemAccess=oc,navigator.requestMediaKeySystemAccess=ac)})),vc.prototype.createMediaKeys=function(){var t=new yc(this.keySystem);return Promise.resolve(t)},vc.prototype.getConfiguration=function(){return this.a},yc.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new bc(this.a,t)},yc.prototype.setServerCertificate=function(){return Promise.resolve(!1)},G(bc,St),(r=bc.prototype).generateRequest=function(t,e){this.a=new vt;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e),null),this.f.w(this.c,"mskeymessage",this.qf.bind(this)),this.f.w(this.c,"mskeyadded",this.nf.bind(this)),this.f.w(this.c,"mskeyerror",this.pf.bind(this)),Ec(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(t){this.b=new vt;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},r.close=function(){try{this.c.close(),this.closed.resolve(),this.f.$a()}catch(t){this.closed.reject(t)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},r.qf=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Tt("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},r.nf=function(){this.a?(Ec(this,"usable"),this.a.resolve(),this.a=null):this.b&&(Ec(this,"usable"),this.b.resolve(),this.b=null)},r.pf=function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ec(this,"output-not-allowed");break;default:Ec(this,"internal-error")}},(r=_c.prototype).forEach=function(t){this.a&&t(this.a,Qu)},r.get=function(t){if(this.has(t))return this.a},r.has=function(t){var e=Qu;return!(!this.a||!de.za(new Uint8Array(t),new Uint8Array(e)))},r.entries=function(){},r.keys=function(){},r.values=function(){},ec((function(){!t.HTMLVideoElement||!t.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(Qu=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=mc,t.MediaKeys=yc,t.MediaKeySystemAccess=vc,navigator.requestMediaKeySystemAccess=pc)})),Sc.prototype.createSession=function(){},Sc.prototype.setServerCertificate=function(){},Ac.prototype.getConfiguration=function(){},Ac.prototype.createMediaKeys=function(){},ec((function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Tc,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=xc,t.MediaKeys=Sc,t.MediaKeySystemAccess=Ac)}),-10);var kc,Cc="";function Ic(t){return Cc?Cc+t.charAt(0).toUpperCase()+t.slice(1):t}function Nc(t,e){try{var n=new Mc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Pc(t){var e=this.mediaKeys;return e&&e!=t&&Oc(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Oc(t,this),Promise.resolve()}function Mc(t,e){this.a=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=0;a<e.length;++a){var o=e[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var c=0;c<o.audioCapabilities.length;++c){var l=o.audioCapabilities[c];if(l.contentType){u=!0;var f=l.contentType.split(";")[0];i.canPlayType(f,this.a)&&(s.audioCapabilities.push(l),r=!0)}}if(o.videoCapabilities)for(c=0;c<o.videoCapabilities.length;++c)(l=o.videoCapabilities[c]).contentType&&(u=!0,i.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Rc(t){this.g=t,this.b=null,this.a=new Gt,this.c=[],this.f={}}function Oc(t,e){t.b=e,t.a.$a();var n=Cc;e&&(t.a.w(e,n+"needkey",t.vf.bind(t)),t.a.w(e,n+"keymessage",t.bg.bind(t)),t.a.w(e,n+"keyadded",t.$f.bind(t)),t.a.w(e,n+"keyerror",t.ag.bind(t)))}function Lc(t,e){var n=t.f[e];return n||((n=t.c.shift())?(n.sessionId=e,t.f[e]=n):null)}function Uc(t,e,n){St.call(this),this.f=t,this.h=!1,this.a=this.b=null,this.c=e,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new vt,this.keyStatuses=new Fc}function Dc(t,e,n){if(t.h)return Promise.reject(Error("The session is already initialized."));t.h=!0;try{if("persistent-license"==t.g)if(n)var r=new Uint8Array(ce("LOAD_SESSION|"+n));else{var i=ce("PERSISTENT|"),a=new Uint8Array(i.byteLength+e.byteLength);a.set(new Uint8Array(i),0),a.set(new Uint8Array(e),i.byteLength),r=a}else r=new Uint8Array(e)}catch(t){return Promise.reject(t)}t.b=new vt;var o=Ic("generateKeyRequest");try{t.f[o](t.c,r)}catch(e){if("InvalidStateError"!=e.name)return t.b=null,Promise.reject(e);new ft((function(){try{t.f[o](t.c,r)}catch(e){t.b.reject(e),t.b=null}})).P(.01)}return t.b}function jc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new Tt("keystatuseschange"))}function Fc(){this.size=0,this.a=void 0}function Bc(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function zc(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Gc(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Vc(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function Kc(t){t?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function Hc(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function qc(e,n,r){return new t.TextTrackCue(e,n,r)}function Wc(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function Xc(){}Mc.prototype.createMediaKeys=function(){var t=new Rc(this.a);return Promise.resolve(t)},Mc.prototype.getConfiguration=function(){return this.b},(r=Rc.prototype).createSession=function(t){if("temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.b||document.createElement("video");return e.src||(e.src="about:blank"),t=new Uc(e,this.g,t),this.c.push(t),t},r.setServerCertificate=function(){return Promise.resolve(!1)},r.vf=function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="webm",e.initData=t.initData,this.b.dispatchEvent(e)},r.bg=function(t){var e=Lc(this,t.sessionId);e&&(t=new Tt("message",{messageType:null==e.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t))},r.$f=function(t){(t=Lc(this,t.sessionId))&&(jc(t,"usable"),t.a&&t.a.resolve(),t.a=null)},r.ag=function(t){var e=Lc(this,t.sessionId);e&&e.handleError(t)},G(Uc,St),(r=Uc.prototype).handleError=function(t){var e=Error("EME v0.1b key error");e.errorCode=t.errorCode,e.errorCode.systemCode=t.systemCode,!t.sessionId&&this.b?(e.method="generateRequest",45==t.systemCode&&(e.message="Unsupported session type."),this.b.reject(e),this.b=null):t.sessionId&&this.a?(e.method="update",this.a.reject(e),this.a=null):(e=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?jc(this,"output-restricted"):jc(this,1==e?"expired":"internal-error"))},r.sd=function(t,e){if(this.a)this.a.then(this.sd.bind(this,t,e)).catch(this.sd.bind(this,t,e));else{if(this.a=t,"webkit-org.w3.clearkey"==this.c){var n=oe(e),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=de.Ba(r.keys[0].k),r=de.Ba(r.keys[0].kid)}else n=new Uint8Array(e),r=null;var i=Ic("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},r.generateRequest=function(t,e){return Dc(this,e,null)},r.load=function(t){return"persistent-license"==this.g?Dc(this,null,t):Promise.reject(Error("Not a persistent session."))},r.update=function(t){var e=new vt;return this.sd(e,t),e},r.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=Ic("cancelKeyRequest");try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(r=Fc.prototype).forEach=function(t){this.a&&t(this.a,kc)},r.get=function(t){if(this.has(t))return this.a},r.has=function(t){var e=kc;return!(!this.a||!de.za(new Uint8Array(t),new Uint8Array(e)))},r.entries=function(){},r.keys=function(){},r.values=function(){},ec((function(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Cc="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;kc=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Nc,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Pc,t.MediaKeys=Rc,t.MediaKeySystemAccess=Mc}})),ec((function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=zc,Object.defineProperty(e,"disablePictureInPicture",{get:Vc,set:Kc,enumerable:!0,configurable:!0}),document.exitPictureInPicture=Gc,document.addEventListener("webkitpresentationmodechanged",Bc,!0))}})),ec((function(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}})),ec((function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=Hc)}})),ec((function(){if(!t.VTTCue&&t.TextTrackCue){var e=TextTrackCue.length;if(3==e)t.VTTCue=qc;else if(6==e)t.VTTCue=Wc;else{try{var n=!!qc(1,2,"")}catch(t){n=!1}n&&(t.VTTCue=qc)}}})),Xc.prototype.parseInit=function(){},Xc.prototype.parseMedia=function(t,e){var n=oe(t),r=[],i=new DOMParser,a=null;if(""==n)return r;try{a=i.parseFromString(n,"text/xml")}catch(t){throw new pt(2,2,2005,"Failed to parse TTML.")}if(a){if(n=a.getElementsByTagName("parsererror")[0])throw new pt(2,2,2005,n.textContent);if(!(i=a.getElementsByTagName("tt")[0]))throw new pt(2,2,2005,"TTML does not contain <tt> tag.");var o=Yr.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=Yr.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Yr.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),c=Yr.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","tickRate");if(a=i.getAttribute("xml:space")||"default",n=i.getAttribute("tts:extent"),"default"!=a&&"preserve"!=a)throw new pt(2,2,2005,"Invalid xml:space value: "+a);a="default"==a,o=new yl(o,s,u,c),s=ul(i.getElementsByTagName("metadata")[0]),u=ul(i.getElementsByTagName("styling")[0]),c=ul(i.getElementsByTagName("layout")[0]);for(var l=[],f=0;f<c.length;f++){var d,p,v=c[f],m=u,y=n,g=new fn,b=v.getAttribute("xml:id");if(b)g.id=b,b=null,y&&(b=Zc.exec(y)||Qc.exec(y)),y=b?Number(b[1]):null,b=b?Number(b[2]):null,(d=hl(v,m,"extent"))&&(null!=(d=(p=Zc.exec(d))||Qc.exec(d))&&(g.width=null!=y?100*Number(d[1])/y:Number(d[1]),g.height=null!=b?100*Number(d[2])/b:Number(d[2]),g.widthUnits=p||null!=y?hn:0,g.heightUnits=p||null!=b?hn:0)),(v=hl(v,m,"origin"))&&(null!=(d=(p=Zc.exec(v))||Qc.exec(v))&&(g.viewportAnchorX=null!=b?100*Number(d[1])/b:Number(d[1]),g.viewportAnchorY=null!=y?100*Number(d[2])/y:Number(d[2]),g.viewportAnchorUnits=p||null!=y?hn:0));else g=null;g&&l.push(g)}for(n=(n=i.getElementsByTagName("body")[0])?Array.from(n.querySelectorAll("[begin]")):[],i=(n=h(n)).next();!i.done;i=n.next())(i=cl(i.value,e.periodStart,o,s,u,c,l,a,!1))&&r.push(i)}return r};var Yc,$c,Zc=/^(\d{1,2}(?:\.\d+)?|100)% (\d{1,2}(?:\.\d+)?|100)%$/,Jc=/^(\d+px|\d+em)$/,Qc=/^(\d+)px (\d+)px$/,tl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,el=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,nl=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,rl=/^(\d*(?:\.\d*)?)f$/,il=/^(\d*(?:\.\d*)?)t$/,al=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,ol={left:on,center:"center",right:"end",start:on,end:"end"},sl={left:"line-left",center:"center",right:"line-right"};function ul(t){var e=[];if(!t)return e;for(var n=h(t.childNodes),r=n.next();!r.done;r=n.next())(r=r.value).nodeType==Node.ELEMENT_NODE&&"br"!==r.nodeName&&(r=ul(r),e=e.concat(r));return e.length||e.push(t),e}function cl(t,e,n,r,i,a,o,s,u){if(u&&"br"==t.nodeName)return(t=new $e(0,0,"")).spacer=!0,t;var c=/^[\s\n]*$/.test(t.textContent),l=t.nodeType==Node.ELEMENT_NODE&&!t.hasAttribute("begin")&&!t.hasAttribute("end");if(t.nodeType!=Node.ELEMENT_NODE||l&&c||l&&!u)return null;c=vl(t.getAttribute("begin"),n),l=vl(t.getAttribute("end"),n);var f=vl(t.getAttribute("dur"),n);if(null==l&&null!=f&&(l=c+f),!u&&(null==c||null==l))throw new pt(2,2,2001);if(c+=e,l+=e,f="",u=[],Array.from(t.childNodes).find((function(t){return t.nodeType===Node.TEXT_NODE&&/\w+/.test(t.textContent)})))f=function t(e,n){for(var r="",i=h(e.childNodes),a=i.next();!a.done;a=i.next())"br"==(a=a.value).nodeName&&e.childNodes[0]!==a?r+="\n":a.childNodes&&0<a.childNodes.length?r+=t(a,n):n?r+=a=(a=a.textContent.trim()).replace(/\s+/g," "):r+=a.textContent;return r}(t,s);else for(var d=h(t.childNodes),p=d.next();!p.done;p=d.next())(p=cl(p.value,e,n,r,i,a,o,s,!0))&&u.push(p);if((e=new $e(c,l,f)).nestedCues=u,(a=pl(t,"region",a,"")[0])&&a.getAttribute("xml:id")){var v=a.getAttribute("xml:id");e.region=o.filter((function(t){return t.id==v}))[0]}return function(t,e,n,r,i){"rtl"==fl(e,n,i,"direction")&&(t.direction="rtl");var a=fl(e,n,i,"writingMode");"tb"==a||"tblr"==a?t.writingMode="vertical-lr":"tbrl"==a?t.writingMode="vertical-rl":"rltb"==a||"rl"==a?t.direction="rtl":a&&(t.direction=nn),(a=fl(e,n,i,"textAlign"))?(t.positionAlign=sl[a],t.lineAlign=ol[a],t.textAlign=Qe[a.toUpperCase()]):t.textAlign="start",(a=fl(e,n,i,"displayAlign"))&&(t.displayAlign=en[a.toUpperCase()]);(a=fl(e,n,i,"color"))&&(t.color=a);(a=fl(e,n,i,"backgroundColor"))&&(t.backgroundColor=a);(a=fl(e,n,i,"fontFamily"))&&(t.fontFamily=a);(a=fl(e,n,i,"fontWeight"))&&"bold"==a&&(t.fontWeight=700),(a=fl(e,n,i,"wrapOption"))&&"noWrap"==a&&(t.wrapLine=!1),(a=fl(e,n,i,"lineHeight"))&&a.match(Jc)&&(t.lineHeight=a),(a=fl(e,n,i,"fontSize"))&&a.match(Jc)&&(t.fontSize=a),(a=fl(e,n,i,"fontStyle"))&&(t.fontStyle=ln[a.toUpperCase()]);if(r){a=r.getAttribute("imagetype");var o=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==a&&"Base64"==o&&r&&(t.backgroundImage="data:image/png;base64,"+r)}(n=hl(n,i,"textDecoration"))&&ll(t,n),(e=dl(e,i,"textDecoration"))&&ll(t,e)}(e,t,a,r=pl(t,"smpte:backgroundImage",r,"#")[0],i),e}function ll(t,e){for(var n=e.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":t.textDecoration.includes("underline")||t.textDecoration.push("underline");break;case"noUnderline":t.textDecoration.includes("underline")&&Ct(t.textDecoration,"underline");break;case"lineThrough":t.textDecoration.includes("lineThrough")||t.textDecoration.push("lineThrough");break;case"noLineThrough":t.textDecoration.includes("lineThrough")&&Ct(t.textDecoration,"lineThrough");break;case"overline":t.textDecoration.includes("overline")||t.textDecoration.push("overline");break;case"noOverline":t.textDecoration.includes("overline")&&Ct(t.textDecoration,"overline")}}function fl(t,e,n,r){return(t=dl(t,n,r))?t:hl(e,n,r)}function hl(t,e,n){for(var r=ul(t),i=0;i<r.length;i++){var a=Yr.getAttributeNS(r[i],"http://www.w3.org/ns/ttml#styling",n);if(a)return a}return(t=pl(t,"style",e,"")[0])?Yr.getAttributeNS(t,"http://www.w3.org/ns/ttml#styling",n):null}function dl(t,e,n){var r=Yr.getAttributeNS(t,"http://www.w3.org/ns/ttml#styling",n);if(r)return r;for(t=pl(t,"style",e,""),e=null,r=0;r<t.length;r++){var i=Yr.getAttributeNS(t[r],"http://www.w3.org/ns/ttml#styling",n);i&&(e=i)}return e}function pl(t,e,n,r){var i=[];if(!t||1>n.length)return i;var a=t;for(t=null;a&&!(t=a.getAttribute(e))&&(a=a.parentNode)instanceof Element;);if(e=t)for(t=(e=h(e=e.split(" "))).next();!t.done;t=e.next()){t=t.value;for(var o=(a=h(n)).next();!o.done;o=a.next())if(r+(o=o.value).getAttribute("xml:id")==t){i.push(o);break}}return i}function vl(t,e){var n=null;if(tl.test(t)){n=tl.exec(t);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);n=(a+=(o+=(Number(n[5])||0)/e.b)/e.frameRate)+60*i+3600*r}else el.test(t)?n=ml(el,t):nl.test(t)?n=ml(nl,t):rl.test(t)?(n=rl.exec(t),n=Number(n[1])/e.frameRate):il.test(t)?(n=il.exec(t),n=Number(n[1])/e.a):al.test(t)&&(n=ml(al,t));return n}function ml(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function yl(t,e,n,r){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(r),0==this.a&&(this.a=t?this.frameRate*this.b:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(t[1])/Number(t[2]))}function gl(){this.a=new Xc}function bl(){}function wl(t,e,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=r[1],t.textAlign="middle"==e?Je:Qe[e.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(e))?t.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(e))?t.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(r[1]),r[2]&&(e=r[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center")):(r=/^region:(.*)$/.exec(e))?(e=function(t,e){var n=t.filter((function(t){return t.id==e}));return n.length?n[0]:null}(n,r[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=sn[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=an,t.line=Number(n[1]),n[2]&&(t.lineAlign=sn[n[2].toUpperCase()]))}function El(t){if(null==(t=Hi(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function _l(){this.a=null}function Tl(t,e,n){var r,i,a;return(new Gr).H("payl",Hr((function(t){r=oe(t)}))).H("iden",Hr((function(t){i=oe(t)}))).H("sttg",Hr((function(t){a=oe(t)}))).parse(t),r?function(t,e,n,r,i){if(t=new $e(r,i,t),e&&(t.id=e),n)for(e=new Vi(n),n=qi(e);n;)wl(t,n,[]),Ki(e),n=qi(e);return t}(r,i,a,e,n):null}
/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function xl(){}function Sl(){Yc?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Yc=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=Al):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function Al(t,e){var n=this;return p((function r(){var i;return L(r,(function(r){switch(r.j){case 1:return console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),T(r,Yc.call(n,t,e),2);case 2:return Ll(i=r.o)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Yc,r.return(i)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=kl,r.return(kl.call(n,t,e)))}}))}))}function kl(t,e){var n=this;return p((function r(){var i,a,o,s,u,c,l,f;return L(r,(function(r){switch(r.j){case 1:console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i=Ol(t),a=[];for(var d=h(e),p=d.next();!p.done;p=d.next())o=p.value,s=Cl(o.videoCapabilities,i),u=Cl(o.audioCapabilities,i),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((c=Object.assign({},o)).videoCapabilities=s,c.audioCapabilities=u,a.push(c));if(!a.length)throw(l=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",l.code=DOMException.NOT_SUPPORTED_ERR,l;return T(r,Yc.call(n,t,a),2);case 2:return f=r.o,r.return(new Rl(f,i))}}))}))}function Cl(t,e){return t?t.filter((function(t){return!t.encryptionScheme||t.encryptionScheme==e})):t}function Il(){}function Nl(){navigator.mediaCapabilities?($c=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Pl):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function Pl(t){var e=this;return p((function n(){var r;return L(n,(function(n){switch(n.j){case 1:return console.assert(e==navigator.mediaCapabilities,'bad "this" for decodingInfo'),T(n,$c.call(e,t),2);case 2:return r=n.o,t.keySystemConfiguration?Ll(r.keySystemAccess)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=$c,n.return(r)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Ml,n.return(Ml.call(e,t))):n.return(r)}}))}))}function Ml(t){var e=this;return p((function n(){var r,i,a,o,s,u,c;return L(n,(function(n){switch(n.j){case 1:return console.assert(e==navigator.mediaCapabilities,'bad "this" for decodingInfo'),r=null,t.keySystemConfiguration&&(i=t.keySystemConfiguration,a=i.keySystem,o=i.audio&&i.audio.encryptionScheme,s=i.video&&i.video.encryptionScheme,r=Ol(a),u={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:t},o&&o!=r||s&&s!=r)?n.return(u):T(n,$c.call(e,t),2);case 2:return(c=n.o).keySystemAccess&&(c.keySystemAccess=new Rl(c.keySystemAccess,r)),n.return(c)}}))}))}function Rl(t,e){this.b=t,this.a=e,this.keySystem=t.keySystem}function Ol(t){return t.startsWith("com.widevine")||t.startsWith("com.microsoft")||t.startsWith("com.adobe")||t.startsWith("org.w3")?"cenc":t.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",t,"Please contribute!"),null)}function Ll(t){var e=(t=t.getConfiguration()).audioCapabilities&&t.audioCapabilities[0];return void 0!==(t.videoCapabilities&&t.videoCapabilities[0]||e).encryptionScheme}function Ul(){}function Dl(){Sl(),Nl()}vn["application/ttml+xml"]=Xc,gl.prototype.parseInit=function(t){var e=!1;if((new Gr).H("moov",Vr).H("trak",Vr).H("mdia",Vr).H("minf",Vr).H("stbl",Vr).fa("stsd",Kr).H("stpp",(function(t){e=!0,t.parser.stop()})).parse(t),!e)throw new pt(2,2,2007)},gl.prototype.parseMedia=function(t,e){var n=!1,r=[];if((new Gr).H("mdat",Hr(function(t){n=!0,r=r.concat(this.a.parseMedia(t,e))}.bind(this))).parse(t),!n)throw new pt(2,2,2007);return r},vn['application/mp4; codecs="stpp"']=gl,vn['application/mp4; codecs="stpp.TTML.im1t"']=gl,bl.prototype.parseInit=function(){},bl.prototype.parseMedia=function(t,e){var n=oe(t);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new pt(2,2,2e3);var r=e.segmentStart;if(null==r&&(r=0,n[0].includes("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);if(i&&a){if(null==(r=El(new Vi(i[1]))))throw new pt(2,2,2e3);r=e.periodStart+(Number(a[1])/9e4-r)}}a=[];var o=n[0].split("\n");for(i=1;i<o.length;i++)if(/^Region:/.test(o[i])){var s=new Vi(o[i]),u=new fn;qi(s),Ki(s);for(var c=qi(s);c;){var l=u,f=c;(c=/^id=(.*)$/.exec(f))?l.id=c[1]:(c=/^width=(\d{1,2}|100)%$/.exec(f))?l.width=Number(c[1]):(c=/^lines=(\d+)$/.exec(f))?(l.height=Number(c[1]),l.heightUnits=2):(c=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.regionAnchorX=Number(c[1]),l.regionAnchorY=Number(c[2])):(c=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.viewportAnchorX=Number(c[1]),l.viewportAnchorY=Number(c[2])):/^scroll=up$/.exec(f)&&(l.scroll="up"),Ki(s),c=qi(s)}a.push(u)}for(i=[],s=1;s<n.length;s++){if(c=o=n[s].split("\n"),f=r,o=a,1==c.length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0])o=null;else{u=null,c[0].includes("--\x3e")||(u=c[0],c.splice(0,1));var h=El(l=new Vi(c[0])),d=Hi(l,/[ \t]+--\x3e[ \t]+/g),p=El(l);if(null==h||null==d||null==p)throw new pt(2,2,2001);for(c=new $e(h+f,p+f,c.slice(1).join("\n").trim()),Ki(l),f=qi(l);f;)wl(c,f,o),Ki(l),f=qi(l);null!=u&&(c.id=u),o=c}o&&i.push(o)}return i},vn["text/vtt"]=bl,vn['text/vtt; codecs="vtt"']=bl,_l.prototype.parseInit=function(t){var e=!1;if((new Gr).H("moov",Vr).H("trak",Vr).H("mdia",Vr).fa("mdhd",function(t){0==t.version?(t.reader.M(4),t.reader.M(4),this.a=t.reader.G(),t.reader.M(4)):(t.reader.M(8),t.reader.M(8),this.a=t.reader.G(),t.reader.M(8)),t.reader.M(4)}.bind(this)).H("minf",Vr).H("stbl",Vr).fa("stsd",Kr).H("wvtt",(function(){e=!0})).parse(t),!this.a)throw new pt(2,2,2008);if(!e)throw new pt(2,2,2008)},_l.prototype.parseMedia=function(t,e){var n=this;if(!this.a)throw new pt(2,2,2008);var r,i=0,a=[],o=[],s=!1,u=!1,c=!1,l=null;if((new Gr).H("moof",Vr).H("traf",Vr).fa("tfdt",(function(t){s=!0,i=0==t.version?t.reader.G():t.reader.Ab()})).fa("tfhd",(function(t){var e=t.flags;(t=t.reader).M(4),1&e&&t.M(8),2&e&&t.M(4),l=8&e?t.G():null})).fa("trun",(function(t){u=!0;var e=t.version,n=t.flags,r=(t=t.reader).G();1&n&&t.M(4),4&n&&t.M(4);for(var i=[],o=0;o<r;o++){var s={duration:null,sampleSize:null,ud:null};256&n&&(s.duration=t.G()),512&n&&(s.sampleSize=t.G()),1024&n&&t.M(4),2048&n&&(s.ud=0==e?t.G():t.Zd()),i.push(s)}a=i})).H("mdat",Hr((function(t){c=!0,r=t}))).parse(t),!c&&!s&&!u)throw new pt(2,2,2008);var f=i,h=new Fr(new DataView(r.buffer,r.byteOffset,r.byteLength),0);return a.forEach((function(t){var r=t.duration||l,a=t.ud?i+t.ud:f;f=a+(r||0);var s=0;do{var u=h.G();s+=u;var c=null;"vttc"==Wr(h.G())?8<u&&(c=h.Za(u-8)):h.M(u-8),r&&c&&o.push(Tl(c,e.periodStart+a/n.a,e.periodStart+f/n.a))}while(t.sampleSize&&s<t.sampleSize)})),o.filter(Ge.Ia)},vn['application/mp4; codecs="wvtt"']=_l,z("shaka.util.Dom.createHTMLElement",(function(t){return document.createElement(t)})),z("shaka.util.Dom.createVideoElement",(function(){var t=document.createElement("video");return t.muted=!0,t.width=600,t.height=400,t})),z("shaka.util.Dom.asHTMLElement",(function(t){return t})),z("shaka.util.Dom.asHTMLMediaElement",(function(t){return t})),z("shaka.util.Dom.removeAllChildren",(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)})),z("EmeEncryptionSchemePolyfill",xl),xl.install=Sl,z("McEncryptionSchemePolyfill",Il),Il.install=Nl,Rl.prototype.getConfiguration=function(){var t=this.b.getConfiguration();if(t.videoCapabilities)for(var e=h(t.videoCapabilities),n=e.next();!n.done;n=e.next())n.value.encryptionScheme=this.a;if(t.audioCapabilities)for(n=(e=h(t.audioCapabilities)).next();!n.done;n=e.next())n.value.encryptionScheme=this.a;return t},Rl.prototype.createMediaKeys=function(){return this.b.createMediaKeys()},z("EncryptionSchemePolyfills",Ul),Ul.install=Dl,n.Be&&(n.Be=Ul)}.call(i,r,r),i.shaka)e[a]=i.shaka[a]}()}).call(this,n(28),n(29)(t))},function(t,e,n){"use strict";for(var r=function(t){return null!==t&&!Array.isArray(t)&&"object"==typeof t},i={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},a=0;a<24;a+=1)i[112+a]="F"+(a+1);for(var o=0;o<26;o+=1){var s=o+65;i[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var u={codes:i,getCode:function(t){return r(t)?t.keyCode||t.which||this[t.key]:this[t]},getKey:function(t){var e=r(t);if(e&&t.key)return t.key;var n=i[e?t.keyCode||t.which:t];return Array.isArray(n)&&(n=e?n[t.shiftKey?1:0]:n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};u.Spacebar=u[" "],u.Digit0=u[0],u.Digit1=u[1],u.Digit2=u[2],u.Digit3=u[3],u.Digit4=u[4],u.Digit5=u[5],u.Digit6=u[6],u.Digit7=u[7],u.Digit8=u[8],u.Digit9=u[9],u.Tilde=u["~"],u.GraveAccent=u["`"],u.ExclamationPoint=u["!"],u.AtSign=u["@"],u.PoundSign=u["#"],u.PercentSign=u["%"],u.Caret=u["^"],u.Ampersand=u["&"],u.PlusSign=u["+"],u.MinusSign=u["-"],u.EqualsSign=u["="],u.DivisionSign=u["/"],u.MultiplicationSign=u["*"],u.Comma=u[","],u.Decimal=u["."],u.Colon=u[":"],u.Semicolon=u[";"],u.Pipe=u["|"],u.BackSlash=u["\\"],u.QuestionMark=u["?"],u.SingleQuote=u["'"],u.DoubleQuote=u['"'],u.LeftCurlyBrace=u["{"],u.RightCurlyBrace=u["}"],u.LeftParenthesis=u["("],u.RightParenthesis=u[")"],u.LeftAngleBracket=u["<"],u.RightAngleBracket=u[">"],u.LeftSquareBracket=u["["],u.RightSquareBracket=u["]"],t.exports=u},function(t,e,n){var r=n(244),i=n(84),a=n(85);t.exports=function(t,e,n){return e=i(e),void 0===n?(n=e,e=0):n=i(n),t=a(t),r(t,e,n)}},,function(t,e,n){var r=n(82),i=n(148),a=n(149);t.exports=function(t,e,n){return e==e?a(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(28))},function(t,e,n){var r=n(85),i=1/0,a=17976931348623157e292;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*a:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(31),i=n(39),a=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return a;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?a:+t}},function(t,e,n){var r=n(87),i=n(160),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(41),i=n(168),a=n(169),o=n(170),s=n(171),u=n(172);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(189),i=n(17);t.exports=function t(e,n,a,o,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,a,o,t,s))}},function(t,e,n){var r=n(45),i=n(93),a=n(46),o=1,s=2;t.exports=function(t,e,n,u,c,l){var f=n&o,h=t.length,d=e.length;if(h!=d&&!(f&&d>h))return!1;var p=l.get(t);if(p&&l.get(e))return p==e;var v=-1,m=!0,y=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++v<h;){var g=t[v],b=e[v];if(u)var w=f?u(b,g,v,e,t,l):u(g,b,v,t,e,l);if(void 0!==w){if(w)continue;m=!1;break}if(y){if(!i(e,(function(t,e){if(!a(y,e)&&(g===t||c(g,t,n,u,l)))return y.push(e)}))){m=!1;break}}else if(g!==b&&!c(g,b,n,u,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}},function(t,e,n){var r=n(200),i=n(62),a=n(201),o=n(97),s=n(202),u=n(18),c=n(90),l=c(r),f=c(i),h=c(a),d=c(o),p=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||a&&"[object Promise]"!=v(a.resolve())||o&&"[object Set]"!=v(new o)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(23)(n(19),"Set");t.exports=r},function(t,e,n){var r=n(31);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(101);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(30),i=n(24),a=n(13),o=n(39),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return i(e,t)+"";if(o(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var r=n(66),i=n(40),a=n(13),o=n(58),s=n(55),u=n(33);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=u(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&o(h,l)&&(a(t)||i(t))}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(105),i=n(49),a=n(70),o=i((function(t,e){return a(t)?r(t,e):[]}));t.exports=o},function(t,e,n){var r=n(45),i=n(68),a=n(69),o=n(24),s=n(60),u=n(46),c=200;t.exports=function(t,e,n,l){var f=-1,h=i,d=!0,p=t.length,v=[],m=e.length;if(!p)return v;n&&(e=o(e,s(n))),l?(h=a,d=!1):e.length>=c&&(h=u,d=!1,e=new r(e));t:for(;++f<p;){var y=t[f],g=null==n?y:n(y);if(y=l||0!==y?y:0,d&&g==g){for(var b=m;b--;)if(e[b]===g)continue t;v.push(y)}else h(e,g,l)||v.push(y)}return v}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=((r=n(262))&&r.__esModule?r:{default:r}).default;e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useMount",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"useUpdate",{enumerable:!0,get:function(){return i.default}});var r=a(n(267)),i=a(n(268));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={"night-dark":{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#202124"}}};e.default=r},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(15);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(r.isURLSearchParams(e))a=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))})))})),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(15),i=n(282),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:(void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?s=n(113):"undefined"!=typeof XMLHttpRequest&&(s=n(113)),s),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(a)})),t.exports=u}).call(this,n(281))},function(t,e,n){"use strict";var r=n(15),i=n(283),a=n(110),o=n(285),s=n(286),u=n(114);t.exports=function(t){return new Promise((function(e,c){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",p=t.auth.password||"";f.Authorization="Basic "+btoa(d+":"+p)}if(h.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?o(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};i(e,c,r),h=null}},h.onabort=function(){h&&(c(u("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){c(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n(287),m=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;m&&(f[t.xsrfHeaderName]=m)}if("setRequestHeader"in h&&r.forEach(f,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:h.setRequestHeader(e,t)})),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),c(t),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(t,e,n){"use strict";var r=n(284);t.exports=function(t,e,n,i,a){var o=new Error(t);return r(o,e,n,i,a)}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e){e=e||{};var n={};return r.forEach(["url","method","params","data"],(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(["headers","auth","proxy"],(function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(230)(n(231));t.exports=r},function(t,e,n){var r=n(238);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r=n(18),i=n(241),a=n(17),o="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!a(t)||r(t)!=o)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(18),i=n(17),a="[object Number]";t.exports=function(t){return"number"==typeof t||i(t)&&r(t)==a}},function(t,e,n){var r=n(18),i=n(17),a="[object Boolean]";t.exports=function(t){return!0===t||!1===t||i(t)&&r(t)==a}},function(t,e,n){t.exports=n(245)},function(t,e,n){t.exports=n(275)},,,,,,,,,function(t,e,n){t.exports=n(292)},function(t,e,n){"use strict";var r=n(135);function i(){}function a(){}a.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";
/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case o:case u:case s:case p:return t;default:switch(t=t&&t.$$typeof){case l:case d:case c:return t;default:return e}}case y:case m:case a:return e}}}function E(t){return w(t)===h}e.typeOf=w,e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=d,e.Fragment=o,e.Lazy=y,e.Memo=m,e.Portal=a,e.Profiler=u,e.StrictMode=s,e.Suspense=p,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===h||t===u||t===s||t===p||t===v||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===c||t.$$typeof===l||t.$$typeof===d||t.$$typeof===g||t.$$typeof===b)},e.isAsyncMode=function(t){return E(t)||w(t)===f},e.isConcurrentMode=E,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===y},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===a},e.isProfiler=function(t){return w(t)===u},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===p}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var r=n(139);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(141)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(140)(!1)).push([t.i,"html, body {\n    height: 100%;\n    background-color: rgb(5, 21, 37)\n}\n  \nbody {\n    margin: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    background-color: rgb(1, 22, 39);\n}\n\n.Game {\n    background: black;\n    margin: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: auto;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n}\n\n.canvas-container {\n    max-width: 3580px;\n    max-height: 1920px;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n}\n\n.canvas-container-scroll {\n    max-width: 3580px;\n    max-height: 1920px;\n    width: 100%;\n    height: 100%;\n}\n\ncanvas {\n    background: black;\n    max-width: 100%;\n    max-height: 100%;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    cursor: cell;\n}\n\nvideo {\n    background: black;\n    max-width: 100%;\n    max-height: 100%;\n    /* width: auto;\n    height: auto; */\n    overflow: hidden;\n    cursor: cell;\n}\n\nsvg {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    outline: none;\n}\n\n.content-column {\n    padding-right: 1em;\n    padding-bottom: 1em;\n}\n\n.cursor-grab {\n    cursor: grab !important;\n}\n\n.cursor-grabbing {\n    cursor: grabbing !important;\n}\n\n.ui.top.attached.menu > .item:first-child {\n    border-radius: .28571429rem;\n}\n\n.layout-border {\n    border: 1px solid rgb(42, 56, 69) !important;\n}\n\n.layout-properties {\n    color: rgb(176, 185, 190);\n    width: 100%;\n    height: calc(100% - 90px);\n    padding: 0.5em;\n    overflow-y: scroll;\n}\n\n.layout-scripting {\n    color: rgb(176, 185, 190);\n    width: 100%;\n    height: 100%;\n    padding: 0.5em;\n    overflow-y: scroll;\n}\n\n.node-group {\n    cursor: pointer;\n}\n\n.node {\n    fill: white;\n    stroke: orange;\n    stroke-width: 3;\n    opacity: 1;\n    width: 150px;\n    height: 40px;\n}\n\n.decision {\n    fill: rgb(205, 216, 236);\n    stroke: rgb(81, 76, 153);\n    width: 140px;\n}\n\n.node-group:hover > .node {\n    fill: rgb(158, 202, 97);\n}\n\n.node-group:active > .node {\n    fill: rgb(131, 168, 81);\n}\n.node-group:focus > .node {\n    fill: rgb(131, 168, 81);\n}\n.selected {\n    fill: rgb(131, 168, 81);\n}\n\n.ui.input > input {\n    color: rgb(176, 185, 190);\n    background-color: rgb(42, 56, 69);\n}\n\n.ui.label {\n    background-color: rgb(25, 39, 54);\n    color: rgb(158, 202, 97);\n    width: 60px;\n    text-align: right;\n}\n\nh4.ui.header {\n    color: rgb(158, 202, 97);\n    font-size: .78571429em;\n}\n\n.video-preview {\n    /* background: black; */\n    border: 1px solid rgb(42, 56, 69);\n    outline: none;\n    cursor: cell;\n    max-width: 3580px;\n    max-height: 1920px;\n    /* width: 100%;\n    height: 100%; */\n}\n\n.video-preview-container {\n    /* background: black; */\n    overflow: hidden;\n    border: 0px;\n    max-width: 3580px;\n    max-height: 1920px;\n    /* width: 100%;\n    height: 100%; */\n}\n\n.screen-container {\n    position: relative;\n    background: black;\n    max-width: 3580px;\n    max-height: 1920px;\n    overflow: hidden;\n    border: 0px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    margin: 0 auto;\n    cursor: cell;\n}\n\n.screen-video {\n    width: 100%;\n    height: 100%;\n}\n\n.screen-video-intro {\n    height: 100%;\n}\n\n.screen-video-ingame {\n    position: relative;\n}\n\n.editor-screen-row {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    width: 100%;\n}\n  \n.editor-screen-column {\n    display: flex;\n    flex-direction: column;\n    flex-basis: 100%;\n    flex: 1;\n}\n\n.location-description {\n    color: rgb(232, 238, 241);\n    text-align: left;\n    text-shadow: 2px 2px #000;\n    white-space: nowrap;\n}\n\n.hotspot-item {\n    cursor: pointer;\n}\n\n::cue {\n    font-size: 16px;\n}\n",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(a).concat([i]).join("\n")}var o;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){var r,i,a={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},u=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,l=0,f=[],h=n(142);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=a[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(b(r.parts[o],e))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(b(r.parts[o],e));a[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i],o=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function v(t,e){var n=u(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),f.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=u(t.insertAt.before,n);n.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function y(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return g(e,t.attrs),v(t,e),e}function g(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,i,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var o=l++;n=c||(c=y(e)),r=_.bind(null,n,o,!1),i=_.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),v(t,e),e}(e),r=x.bind(null,n,e),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(e),r=T.bind(null,n),i=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var o=n[i];(s=a[o.id]).refs--,r.push(s)}t&&d(p(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}};var w,E=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function _(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=E(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function T(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function x(t,e,n){var r=n.css,i=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||a)&&(r=h(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,a=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){(function(t,n){!function(){var r="undefined"!=typeof window?window:t,i={};for(var a in function(t,e){var r,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},a=void 0!==t&&t===this?this:void 0!==e&&null!=e?e:this;function o(){o=function(){},a.Symbol||(a.Symbol=u)}var s,u=(s=0,function(t){return"jscomp_symbol_"+(t||"")+s++});function c(){o();var t=a.Symbol.iterator;t||(t=a.Symbol.iterator=a.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&i(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return l(this)}}),c=function(){}}function l(t){var e=0;return f((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))}function f(t){return c(),(t={next:t})[a.Symbol.iterator]=function(){return this},t}function h(t){c();var e=t[Symbol.iterator];return e?e.call(t):l(t)}function d(t,e){if(e){for(var n=a,r=t.split("."),o=0;o<r.length-1;o++){var s=r[o];s in n||(n[s]={}),n=n[s]}(s=e(o=n[r=r[r.length-1]]))!=o&&null!=s&&i(n,r,{configurable:!0,writable:!0,value:s})}}function p(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(r,i){!function t(a){a.done?r(a.value):Promise.resolve(a.value).then(e,n).then(t,i)}(t.next())}))}(t())}d("Promise",(function(t){function e(t){this.b=0,this.g=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){null==this.a&&(this.a=[],this.f()),this.a.push(t)},n.prototype.f=function(){var t=this;this.c((function(){t.j()}))};var i=a.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.j=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.a=null},n.prototype.g=function(t){this.c((function(){throw t}))},e.prototype.c=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.f)}},e.prototype.v=function(t){if(t===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.w(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.j(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.f(t)}"function"==typeof e?this.D(e,t):this.j(t)},e.prototype.f=function(t){this.l(2,t)},e.prototype.j=function(t){this.l(1,t)},e.prototype.l=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.g=e,this.s()},e.prototype.s=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new n;return e.prototype.w=function(t){var e=this.c();t.zc(e.resolve,e.reject)},e.prototype.D=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){a(t)}}:e}var i,a,o=new e((function(t,e){i=t,a=e}));return this.zc(r(t,i),r(n,a)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.zc=function(t,e){function n(){switch(r.b){case 1:t(r.g);break;case 2:e(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=h(t),a=i.next();!a.done;a=i.next())r(a.value).zc(e,n)}))},e.all=function(t){var n=h(t),i=n.next();return i.done?r([]):new e((function(t,e){function a(e){return function(n){o[e]=n,0==--s&&t(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).zc(a(o.length-1),e),i=n.next()}while(!i.done)}))},e})),d("Promise.prototype.finally",(function(t){return t||function(t){return this.then((function(e){return Promise.resolve(t()).then((function(){return e}))}),(function(e){return Promise.resolve(t()).then((function(){throw e}))}))}}));var v,m="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)v=Object.setPrototypeOf;else{var y;t:{var g={};try{g.__proto__={lf:!0},y=g.lf;break t}catch(s){}y=!1}v=y?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var b=v;function w(t,e){if(t.prototype=m(e.prototype),t.prototype.constructor=t,b)b(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.hh=e.prototype}function E(){this.g=!1,this.c=null,this.A=void 0,this.o=1,this.b=this.f=0,this.l=this.a=null}function _(t){if(t.g)throw new TypeError("Generator is already running");t.g=!0}function T(t,e){t.a={ie:e,qe:!0},t.o=t.f||t.b}function x(t,e,n){return t.o=n,{value:e}}function S(t){t.o=0}function A(t,e,n){t.f=e,null!=n&&(t.b=n)}function k(t,e){t.f=0,t.b=e||0}function C(t,e){t.o=e,t.f=0}function I(t){t.f=0;var e=t.a.ie;return t.a=null,e}function N(t){t.l=[t.a],t.f=0,t.b=0}function P(t,e){var n=t.l.splice(0)[0];(n=t.a=t.a||n)?n.qe?t.o=t.f||t.b:null!=n.B&&t.b<n.B?(t.o=n.B,t.a=null):t.o=t.b:t.o=e}function M(t){this.a=new E,this.b=t}function R(t,e,n,r){try{var i=e.call(t.a.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.g=!1,i;var a=i.value}catch(e){return t.a.c=null,T(t.a,e),O(t)}return t.a.c=null,r.call(t.a,a),O(t)}function O(t){for(;t.a.o;)try{var e=t.b(t.a);if(e)return t.a.g=!1,{value:e.value,done:!1}}catch(e){t.a.A=void 0,T(t.a,e)}if(t.a.g=!1,t.a.a){if(e=t.a.a,t.a.a=null,e.qe)throw e.ie;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function L(t){this.next=function(e){return _(t.a),t.a.c?e=R(t,t.a.c.next,e,t.a.j):(t.a.j(e),e=O(t)),e},this.throw=function(e){return _(t.a),t.a.c?e=R(t,t.a.c.throw,e,t.a.j):(T(t.a,e),e=O(t)),e},this.return=function(e){return function(t,e){_(t.a);var n=t.a.c;return n?R(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),O(t))}(t,e)},c(),this[Symbol.iterator]=function(){return this}}function U(t,e){return L.prototype=t.prototype,new L(new M(e))}function D(t){if(!(t instanceof Array)){t=h(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F(t,e,n){t instanceof String&&(t=String(t));for(var r=t.length,i=0;i<r;i++){var a=t[i];if(e.call(n,a,i,t))return{me:i,df:a}}return{me:-1,df:void 0}}function B(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}E.prototype.j=function(t){this.A=t},E.prototype.return=function(t){this.a={return:t},this.o=this.b},E.prototype.B=function(t){this.o=t},d("WeakMap",(function(t){function e(t){if(this.a=(s+=Math.random()+1).toString(),t){o(),c(),t=h(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(t){j(t,a)||i(t,a,{value:{}})}function r(t){var e=Object[t];e&&(Object[t]=function(t){return n(t),e(t)})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(t){return!1}}())return t;var a="$jscomp_hidden_"+Math.random();r("freeze"),r("preventExtensions"),r("seal");var s=0;return e.prototype.set=function(t,e){if(n(t),!j(t,a))throw Error("WeakMap key fail: "+t);return t[a][this.a]=e,this},e.prototype.get=function(t){return j(t,a)?t[a][this.a]:void 0},e.prototype.has=function(t){return j(t,a)&&j(t[a],this.a)},e.prototype.delete=function(t){return!(!j(t,a)||!j(t[a],this.a))&&delete t[a][this.a]},e})),d("Map",(function(t){function e(){var t={};return t.Ya=t.next=t.head=t}function n(t,e){var n=t.a;return f((function(){if(n){for(;n.head!=t.a;)n=n.Ya;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}}))}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?a.has(e)?n=a.get(e):(n=""+ ++s,a.set(e,n)):n="p_"+e;var r=t.b[n];if(r&&j(t.b,n))for(var i=0;i<r.length;i++){var o=r[i];if(e!=e&&o.key!=o.key||e===o.key)return{id:n,list:r,index:i,ia:o}}return{id:n,list:r,index:-1,ia:void 0}}function i(t){if(this.b={},this.a=e(),this.size=0,t){t=h(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(h([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(t){return!1}}())return t;o(),c();var a=new WeakMap;i.prototype.set=function(t,e){var n=r(this,t);return n.list||(n.list=this.b[n.id]=[]),n.ia?n.ia.value=e:(n.ia={next:this.a,Ya:this.a.Ya,head:this.a,key:t,value:e},n.list.push(n.ia),this.a.Ya.next=n.ia,this.a.Ya=n.ia,this.size++),this},i.prototype.delete=function(t){return!(!(t=r(this,t)).ia||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.b[t.id],t.ia.Ya.next=t.ia.next,t.ia.next.Ya=t.ia.Ya,t.ia.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.Ya=e(),this.size=0},i.prototype.has=function(t){return!!r(this,t).ia},i.prototype.get=function(t){return(t=r(this,t).ia)&&t.value},i.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},i.prototype.keys=function(){return n(this,(function(t){return t.key}))},i.prototype.values=function(){return n(this,(function(t){return t.value}))},i.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var s=0;return i})),d("Set",(function(t){function e(t){if(this.a=new Map,t){t=h(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.a.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(h([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&(!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(t){return!1}}()?t:(o(),c(),e.prototype.add=function(t){return this.a.set(t,t),this.size=this.a.size,this},e.prototype.delete=function(t){return t=this.a.delete(t),this.size=this.a.size,t},e.prototype.clear=function(){this.a.clear(),this.size=0},e.prototype.has=function(t){return this.a.has(t)},e.prototype.entries=function(){return this.a.entries()},e.prototype.values=function(){return this.a.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.a.forEach((function(r){return t.call(e,r,r,n)}))},e)})),d("Array.prototype.keys",(function(t){return t||function(){return function(t,e){c(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,(function(t){return t}))}})),d("Array.from",(function(t){return t||function(t,e,n){c(),e=null!=e?e:function(t){return t};var r=[],i=t[Symbol.iterator];if("function"==typeof i)for(t=i.call(t);!(i=t.next()).done;)r.push(e.call(n,i.value));else{i=t.length;for(var a=0;a<i;a++)r.push(e.call(n,t[a]))}return r}})),d("Array.prototype.findIndex",(function(t){return t||function(t,e){return F(this,t,e).me}})),d("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),d("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=e||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var a=n[i];if(a===t||Object.is(a,t))return!0}return!1}})),d("String.prototype.includes",(function(t){return t||function(t,e){return-1!==B(this,t,"includes").indexOf(t,e||0)}})),d("String.prototype.startsWith",(function(t){return t||function(t,e){for(var n=B(this,t,"startsWith"),r=n.length,i=t.length,a=Math.max(0,Math.min(0|e,n.length)),o=0;o<i&&a<r;)if(n[a++]!=t[o++])return!1;return o>=i}})),d("Array.prototype.find",(function(t){return t||function(t,e){return F(this,t,e).df}}));var z="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)j(r,i)&&(t[i]=r[i])}return t};d("Object.assign",(function(t){return t||z}));var G=this;function V(t,e){var n,r=t.split("."),i=G;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===e?i=i[n]?i[n]:i[n]={}:i[n]=e}function K(t,e){function n(){}n.prototype=e.prototype,t.hh=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,r){return e.prototype[n].apply(t,Array.prototype.slice.call(arguments,2))}}function H(e,n){for(var r in n=void 0===n?{}:n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function q(){}function W(){}function X(){}function Y(){this.a={}}function $(){this.nd=new Y,this.vc=this}function Z(t,e){for(var n=h(t),r=n.next();!r.done;r=n.next())if(!e(r.value))return!1;return!0}function J(t,e){for(var n=[],r=h(t),i=r.next();!i.done;i=r.next())e(i=i.value)&&n.push(i);return n}function Q(t,e){return t=et(t),e=et(e),t.split("-")[0]==e.split("-")[0]}function tt(t,e){t=et(t),e=et(e);var n=t.split("-"),r=e.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function et(t){var e=t.split("-");return t=e[0]||"",e=e[1]||"",t=t.toLowerCase(),t=at.get(t)||t,(e=e.toUpperCase())?t+"-"+e:t}function nt(t){var e=t.indexOf("-");return t=(t=0<=e?t.substring(0,e):t).toLowerCase(),at.get(t)||t}function rt(t){return t.language?et(t.language):t.audio&&t.audio.language?et(t.audio.language):t.video&&t.video.language?et(t.video.language):"und"}function it(t,e){for(var n=et(t),r=new Set,i=h(e),a=i.next();!a.done;a=i.next())r.add(et(a.value));for(a=(i=h(r)).next();!a.done;a=i.next())if((a=a.value)==n)return a;for(a=(i=h(r)).next();!a.done;a=i.next())if(tt(a=a.value,n))return a;for(a=(i=h(r)).next();!a.done;a=i.next()){var o=a=a.value,s=n;if(o=et(o),s=et(s),o=o.split("-"),s=s.split("-"),2==o.length&&2==s.length&&o[0]==s[0])return a}for(a=(r=h(r)).next();!a.done;a=r.next())if(tt(n,i=a.value))return i;return null}G.a=!0,H.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},H.prototype.stopImmediatePropagation=function(){this.a=!0},H.prototype.stopPropagation=function(){},t.console&&t.console.log.bind&&(W=console.warn.bind(console),q=console.error.bind(console)),(r=Y.prototype).push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},r.get=function(t){return(t=this.a[t])?t.slice():null},r.getAll=function(){var t,e=[];for(t in this.a)e.push.apply(e,this.a[t]);return e},r.remove=function(t,e){var n=this.a[t];if(n)for(var r=0;r<n.length;++r)n[r]==e&&(n.splice(r,1),--r)},r.forEach=function(t){for(var e in this.a)t(e,this.a[e])},$.prototype.addEventListener=function(t,e){this.nd.push(t,e)},$.prototype.removeEventListener=function(t,e){this.nd.remove(t,e)},$.prototype.dispatchEvent=function(t){for(var e=this.nd.get(t.type)||[],n=0;n<e.length;++n){t.target=this.vc,t.currentTarget=this.vc;var r=e[n];try{r.handleEvent?r.handleEvent(t):r.call(this,t)}catch(t){}if(t.a)break}return t.defaultPrevented};var at=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function ot(t){this.g=et(t),this.f=new Map,this.b=new Set,this.c=new Map,this.a=new $}function st(t){for(var e=t.c,n=t.g,r=t.b,i=new Set,a={},o=h(r),s=o.next();!s.done;a={locale:a.locale},s=o.next()){a.locale=s.value,i.add(a.locale),i.add(nt(a.locale)),(s=J(e.keys(),function(t){return function(e){var n=t.locale,r=nt(e),i=nt(n);return e!=r&&n!=i&&r==i}}(a))).sort();var u=h(s);for(s=u.next();!s.done;s=u.next())i.add(s.value);for((s=J(e.keys(),function(t){return function(e){return nt(e)==t.locale}}(a))).sort(),s=(u=h(s)).next();!s.done;s=u.next())i.add(s.value)}for(i.add(n),n=[],s=(i=h(i)).next();!s.done;s=i.next())(s=e.get(s.value))&&n.push(s);for(n.reverse(),t.f.clear(),s=(e=h(n)).next();!s.done;s=e.next())s.value.forEach((function(e,n){t.f.set(n,e)}));for(e=t.f.keys(),i=new Set,s=(n=h(t.b)).next();!s.done;s=n.next())ut(s=t.c.get(s.value)||new Map,e,i);0<i.size&&(r={locales:Array.from(r),missing:Array.from(i)},t.a.dispatchEvent(new H("missing-localizations",r)))}function ut(t,e,n){for(var r=(e=h(e)).next();!r.done;r=e.next())r=r.value,t.get(r)||n.add(r)}V("shaka.ui.Localization",ot),ot.prototype.addEventListener=function(t,e,n){this.a.addEventListener(t,e,n)},ot.prototype.addEventListener=ot.prototype.addEventListener,ot.prototype.removeEventListener=function(t,e,n){this.a.removeEventListener(t,e,n||void 0)},ot.prototype.removeEventListener=ot.prototype.removeEventListener,ot.prototype.dispatchEvent=function(t){return this.a.dispatchEvent(t)},ot.prototype.dispatchEvent=ot.prototype.dispatchEvent,ot.prototype.ee=function(t){var e=this;this.b.clear();for(var n=(t=h(t)).next();!n.done;n=t.next())this.b.add(et(n.value));st(this),this.a.dispatchEvent(new H("locale-changed")),(t=J(this.b,(function(t){return!e.c.has(t)}))).length&&this.a.dispatchEvent(new H("unknown-locales",{locales:t}))},ot.prototype.changeLocale=ot.prototype.ee,ot.prototype.X=function(t,e,n){var r=ct;t=et(t),void 0===n&&(n=r.kf);var i=this.c.get(t)||new Map;return e.forEach((function(t,e){i.has(e)&&n!=r.kf||i.set(e,t)})),this.c.set(t,i),st(this),this.a.dispatchEvent(new H("locale-updated")),this},ot.prototype.insert=ot.prototype.X,ot.prototype.Sg=function(t){for(var e=h(t.keys()),n=e.next();!n.done;n=e.next())n=n.value,t.set(n,this.resolve(n))},ot.prototype.resolveDictionary=ot.prototype.Sg,ot.prototype.resolve=function(t){var e=this.f.get(t);return e||(t={locales:Array.from(this.b),missing:t},this.a.dispatchEvent(new H("unknown-localization",t)),"")},ot.prototype.resolve=ot.prototype.resolve;var ct={USE_OLD:0,USE_NEW:1};function lt(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function ft(t,e,n){var r=Math.pow(t.c,e);n=n*(1-r)+r*t.a,isNaN(n)||(t.a=n,t.b+=e)}function ht(t){return t.a/(1-Math.pow(t.c,t.b))}function dt(){this.b=new lt(2),this.c=new lt(5),this.a=0}ot.ConflictResolution=ct,ot.UNKNOWN_LOCALES="unknown-locales",ot.UNKNOWN_LOCALIZATION="unknown-localization",ot.MISSING_LOCALIZATIONS="missing-localizations",ot.LOCALE_CHANGED="locale-changed",ot.LOCALE_UPDATED="locale-updated",dt.prototype.getBandwidthEstimate=function(t){return 128e3>this.a?t:Math.min(ht(this.b),ht(this.c))};var pt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function vt(t){var e;t instanceof vt?(mt(this,t.Ja),this.yb=t.yb,this.Ia=t.Ia,yt(this,t.Sb),this.ya=t.ya,gt(this,t.a.clone()),this.ob=t.ob):t&&(e=String(t).match(pt))?(mt(this,e[1]||"",!0),this.yb=bt(e[2]||""),this.Ia=bt(e[3]||"",!0),yt(this,e[4]),this.ya=bt(e[5]||"",!0),gt(this,e[6]||"",!0),this.ob=bt(e[7]||"")):this.a=new kt(null)}function mt(t,e,n){t.Ja=n?bt(e,!0):e,t.Ja&&(t.Ja=t.Ja.replace(/:$/,""))}function yt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Sb=e}else t.Sb=null}function gt(t,e,n){e instanceof kt?t.a=e:(n||(e=wt(e,St)),t.a=new kt(e))}function bt(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function wt(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Et),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Et(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=vt.prototype).Ja="",r.yb="",r.Ia="",r.Sb=null,r.ya="",r.ob="",r.toString=function(){var t=[],e=this.Ja;if(e&&t.push(wt(e,_t,!0),":"),e=this.Ia){t.push("//");var n=this.yb;n&&t.push(wt(n,_t,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Sb)&&t.push(":",String(e))}return(e=this.ya)&&(this.Ia&&"/"!=e.charAt(0)&&t.push("/"),t.push(wt(e,"/"==e.charAt(0)?xt:Tt,!0))),(e=this.a.toString())&&t.push("?",e),(e=this.ob)&&t.push("#",wt(e,At)),t.join("")},r.resolve=function(t){var e=this.clone();"data"===e.Ja&&(e=new vt);var n=!!t.Ja;n?mt(e,t.Ja):n=!!t.yb,n?e.yb=t.yb:n=!!t.Ia,n?e.Ia=t.Ia:n=null!=t.Sb;var r=t.ya;if(n)yt(e,t.Sb);else if(n=!!t.ya){if("/"!=r.charAt(0))if(this.Ia&&!this.ya)r="/"+r;else{var i=e.ya.lastIndexOf("/");-1!=i&&(r=e.ya.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?e.ya=r:n=""!==t.a.toString(),n?gt(e,t.a.clone()):n=!!t.ob,n&&(e.ob=t.ob),e},r.clone=function(){return new vt(this)};var _t=/[#\/\?@]/g,Tt=/[#\?:]/g,xt=/[#\?]/g,St=/[#\?@]/g,At=/#/g;function kt(t){this.a=t||null}function Ct(t){this.b=t,this.a=null}function It(t){this.b=t,this.a=null}function Nt(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.l=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.f=null==t.baseDelay?n.baseDelay:t.baseDelay,this.j=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.g=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==e&&e)&&(this.a=1)}function Pt(t){return p((function e(){var n,r;return U(e,(function(e){switch(e.o){case 1:if(t.a>=t.l){if(!t.c)return e.return(Promise.reject());t.a=1,t.b=t.f}return n=t.a,t.a++,0==n?e.return():(r=t.b*(1+(2*Math.random()-1)*t.j),x(e,new Promise((function(t){new It(t).R(r/1e3)})),2));case 2:t.b*=t.g,S(e)}}))}))}function Mt(t,e,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=t,this.category=e,this.code=n,this.data=i,this.handled=!1}function Rt(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function Ot(t,e){this.promise=t,this.we=e,this.a=!1}function Lt(t){return new Ot(Promise.reject(t),(function(){return Promise.resolve()}))}function Ut(){var t=Promise.reject(new Mt(2,7,7001));return t.catch((function(){})),new Ot(t,(function(){return Promise.resolve()}))}function Dt(t){return new Ot(Promise.resolve(t),(function(){return Promise.resolve()}))}function jt(t){return new Ot(t,(function(){return t.catch((function(){}))}))}function Ft(t){return new Ot(Promise.all(t.map((function(t){return t.promise}))),(function(){return Promise.all(t.map((function(t){return t.abort()})))}))}function Bt(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){})).catch((function(){}))})}catch(t){return n.reject(t),function(){return Promise.resolve()}}}function zt(t){var e=new Set;return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(e.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;e.add(n);var i,a=r?[]:{};for(i in n)a[i]=t(n[i]);return r&&(a.length=n.length),a}}(t)}function Gt(t,e){return!("number"!=typeof t||"number"!=typeof e||!isNaN(t)||!isNaN(e))||t===e}function Vt(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function Kt(t,e,n){if(n||(n=Gt),t.length!=e.length)return!1;e=e.slice();for(var r={},i=(t=h(t)).next();!i.done;r={item:r.item},i=t.next()){if(r.item=i.value,-1==(i=e.findIndex(function(t){return function(e){return n(t.item,e)}}(r))))return!1;e[i]=e[e.length-1],e.pop()}return 0==e.length}function Ht(){this.a=[]}function qt(t,e){t.a.push(e.finally((function(){Vt(t.a,e)})))}function Wt(t){$.call(this),this.f=!1,this.g=new Ht,this.a=new Set,this.b=new Set,this.c=t||null}(r=kt.prototype).wa=null,r.Bc=null,r.add=function(t,e){if(!this.wa&&(this.wa={},this.Bc=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(n=this.wa.hasOwnProperty(t)&&this.wa[t])||(this.wa[t]=n=[]),n.push(e),this.Bc++,this},r.toString=function(){if(this.a)return this.a;if(!this.wa)return"";var t,e=[];for(t in this.wa)for(var n=encodeURIComponent(t),r=this.wa[t],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),e.push(a)}return this.a=e.join("&")},r.clone=function(){var t=new kt;if(t.a=this.a,this.wa){var e,n={};for(e in this.wa)n[e]=this.wa[e].concat();t.wa=n,t.Bc=this.Bc}return t},Ct.prototype.R=function(e){var n=this;this.stop();var r=!0,i=null;return this.a=function(){t.clearTimeout(i),r=!1},i=t.setTimeout((function(){r&&n.b()}),1e3*e),this},Ct.prototype.stop=function(){this.a&&(this.a(),this.a=null)},V("shaka.util.Timer",It),It.prototype.Za=function(){return this.stop(),this.b(),this},It.prototype.tickNow=It.prototype.Za,It.prototype.R=function(t){var e=this;return this.stop(),this.a=new Ct((function(){e.b()})).R(t),this},It.prototype.tickAfter=It.prototype.R,It.prototype.Oa=function(t){var e=this;return this.stop(),this.a=new Ct((function(){e.a.R(t),e.b()})).R(t),this},It.prototype.tickEvery=It.prototype.Oa,It.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},It.prototype.stop=It.prototype.stop,V("shaka.util.Error",Mt),Mt.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Mt.Severity={RECOVERABLE:1,CRITICAL:2},Mt.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},Mt.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,CAST_RECEIVER_APP_ID_MISSING:8007,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},Rt.prototype.resolve=function(){},Rt.prototype.reject=function(){},V("shaka.util.AbortableOperation",Ot),Ot.failed=Lt,Ot.aborted=Ut,Ot.completed=Dt,Ot.notAbortable=jt,Ot.prototype.abort=function(){return this.a=!0,this.we()},Ot.prototype.abort=Ot.prototype.abort,Ot.all=Ft,Ot.prototype.finally=function(t){return this.promise.then((function(){return t(!0)}),(function(){return t(!1)})),this},Ot.prototype.finally=Ot.prototype.finally,Ot.prototype.$=function(t,e){function n(){return i.reject(new Mt(2,7,7001)),r.abort()}var r=this,i=new Rt;return this.promise.then((function(e){r.a?i.reject(new Mt(2,7,7001)):t?n=Bt(t,e,i):i.resolve(e)}),(function(t){e?n=Bt(e,t,i):i.reject(t)})),new Ot(i,(function(){return n()}))},Ot.prototype.chain=Ot.prototype.$,Ht.prototype.destroy=function(){var t=[];return this.a.forEach((function(e){e.promise.catch((function(){})),t.push(e.abort())})),this.a=[],Promise.all(t)},K(Wt,$),V("shaka.net.NetworkingEngine",Wt),Wt.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4},Wt.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var Xt={};function Yt(t,e,n){n=n||3;var r=Xt[t];(!r||n>=r.priority)&&(Xt[t]={priority:n,Ig:e})}function $t(t,e){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null,sessionId:null}}function Zt(){this.a=0}function Jt(t,e,n){Ot.call(this,t,e),this.b=n}function Qt(){}function te(){this.a=new Y}function ee(t,e,n,r){this.target=t,this.type=e,this.listener=n,this.a=function(t,e){if(null==e)return!1;if("boolean"==typeof e)return e;var n=new Set(["passive","capture"]);return Object.keys(e).filter((function(t){return!n.has(t)})),function(t){var e=ne;if(null==e){e=!1;try{var n={},r={get:function(){return e=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},t.addEventListener("test",r,n),t.removeEventListener("test",r,n)}catch(t){e=!1}ne=e}return e||!1}(t)?e:e.capture||!1}(t,r),this.target.addEventListener(e,n,this.a)}Wt.registerScheme=Yt,Wt.unregisterScheme=function(t){delete Xt[t]},Wt.prototype.Kg=function(t){this.a.add(t)},Wt.prototype.registerRequestFilter=Wt.prototype.Kg,Wt.prototype.ih=function(t){this.a.delete(t)},Wt.prototype.unregisterRequestFilter=Wt.prototype.ih,Wt.prototype.sf=function(){this.a.clear()},Wt.prototype.clearAllRequestFilters=Wt.prototype.sf,Wt.prototype.Lg=function(t){this.b.add(t)},Wt.prototype.registerResponseFilter=Wt.prototype.Lg,Wt.prototype.jh=function(t){this.b.delete(t)},Wt.prototype.unregisterResponseFilter=Wt.prototype.jh,Wt.prototype.tf=function(){this.b.clear()},Wt.prototype.clearAllResponseFilters=Wt.prototype.tf,Wt.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},Wt.makeRequest=$t,Wt.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},Wt.prototype.destroy=Wt.prototype.destroy,Wt.prototype.request=function(t,e){var n=this,r=new Zt;if(this.f){var i=Promise.reject(new Mt(2,7,7001));return i.catch((function(){})),new Jt(i,(function(){return Promise.resolve()}),r)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?zt(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},e.uris=zt(e.uris);var a=(i=function(t,e,n){for(var r=Dt(void 0),i={},a=(t=h(t.a)).next();!a.done;i={Hd:i.Hd},a=t.next())i.Hd=a.value,r=r.$(function(t){return function(){return t.Hd(e,n)}}(i));return r.$(void 0,(function(t){if(t&&7001==t.code)throw t;throw new Mt(2,1,1006,t)}))}(this,t,e)).$((function(){return function t(e,n,r,i,a,o,s){var u=new vt(r.uris[a]),c=u.Ja,l=!1;c||(c=location.protocol,c=c.slice(0,-1),mt(u,c),r.uris[a]=u.toString());c=c.toLowerCase();var f=(c=Xt[c])?c.Ig:null;if(!f)return Lt(new Mt(2,1,1e3,u));var h;return jt(Pt(i)).$((function(){return e.f?Ut():(h=Date.now(),f(r.uris[a],r,n,(function(t,r,i){e.c&&1==n&&(e.c(t,r),l=!0,s.a=i)})))})).$((function(t){return null==t.timeMs&&(t.timeMs=Date.now()-h),{response:t,cg:l}}),(function(u){if(u&&7001==u.code)throw u;if(e.f)return Ut();if(u&&1==u.severity)return e.dispatchEvent(new H("retry",{error:u instanceof Mt?u:null})),a=(a+1)%r.uris.length,t(e,n,r,i,a,u,s);throw u||o}))}(n,t,e,new Nt(e.retryParameters,!1),0,null,r)})),o=a.$((function(e){return function(t,e,n){for(var r=Dt(void 0),i=(t=h(t.b)).next();!i.done;i=t.next())r=r.$(i.value.bind(null,e,n.response));return r.$((function(){return n}),(function(t){if(t&&7001==t.code)throw t;var e=2;throw t instanceof Mt&&(e=t.severity),new Mt(e,1,1007,t)}))}(n,t,e)})),s=Date.now(),u=0;i.promise.then((function(){u=Date.now()-s}),(function(){}));var c=0;return a.promise.then((function(){c=Date.now()}),(function(){})),i=new Jt((i=o.$((function(e){var r=Date.now()-c,i=e.response;return i.timeMs+=u,i.timeMs+=r,e.cg||!n.c||i.fromCache||1!=t||n.c(i.timeMs,i.data.byteLength),i}),(function(t){throw t&&(t.severity=2),t}))).promise,i.we,r),qt(this.g,i),i},Wt.prototype.request=Wt.prototype.request,Wt.NumBytesRemainingClass=Zt,w(Jt,Ot),Wt.PendingRequest=Jt,Jt.all=Ft,Jt.notAbortable=jt,Jt.completed=Dt,Jt.aborted=Ut,Jt.failed=Lt,V("shaka.util.IReleasable",Qt),Qt.prototype.release=function(){},V("shaka.util.EventManager",te),te.prototype.release=function(){this.wb(),this.a=null},te.prototype.release=te.prototype.release,te.prototype.m=function(t,e,n,r){this.a&&(t=new ee(t,e,n,r),this.a.push(e,t))},te.prototype.listen=te.prototype.m,te.prototype.sa=function(t,e,n,r){var i=this;this.m(t,e,(function r(a){i.ra(t,e,r),n(a)}),r)},te.prototype.listenOnce=te.prototype.sa,te.prototype.ra=function(t,e,n){if(this.a)for(var r=this.a.get(e)||[],i=(r=h(r)).next();!i.done;i=r.next())(i=i.value).target!=t||n!=i.listener&&n||(i.ra(),this.a.remove(e,i))},te.prototype.unlisten=te.prototype.ra,te.prototype.wb=function(){if(this.a){for(var t=this.a.getAll(),e=(t=h(t)).next();!e.done;e=t.next())e.value.ra();this.a.a={}}},te.prototype.removeAll=te.prototype.wb,ee.prototype.ra=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1},ee.prototype.unlisten=ee.prototype.ra;var ne=void 0;function re(t){if(t=new Uint8Array(t),new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(0,!0)+4!=t.byteLength)throw new RangeError("Malformed FairPlay init data");return new vt(t=be(t.subarray(4),!0)).Ia}function ie(t,e,n){function r(t){new DataView(a.buffer).setUint32(o,t.byteLength,!0),o+=4,i(t)}function i(t){a.set(t,o),o+=t.byteLength}if(!n||!n.byteLength)throw new Mt(2,6,6015);e="string"==typeof e?new Uint8Array(_e(e,!0)):new Uint8Array(e);var a=new Uint8Array(8+t.byteLength+e.byteLength+n.byteLength),o=0;return i(new Uint8Array(t)),r(e),r(new Uint8Array(n)),a}function ae(t){var e=new Map;return Object.keys(t).forEach((function(n){e.set(n,t[n])})),e}function oe(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}function se(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}function ue(t){var e=(t=t.split("."))[0];return t.pop(),[e,t.join(".")]}V("shaka.util.FairPlayUtils.defaultGetContentId",re),V("shaka.util.FairPlayUtils.initDataTransform",ie);var ce=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function le(){return!(!t.MediaSource||!MediaSource.isTypeSupported)}function fe(t){return""!=ve().canPlayType(t)}function he(){return!!navigator.vendor&&navigator.vendor.includes("Apple")}function de(){if(!he())return null;var t=navigator.userAgent.match(/Version\/(\d+)/);return t?parseInt(t[1],10):(t=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(t[1],10):null}function pe(t){return(navigator.userAgent||"").includes(t)}function ve(){return ye||(me||(me=new It((function(){ye=null}))),(ye=document.querySelector("video")||document.querySelector("audio"))||(ye=document.createElement("video")),me.R(1),ye)}var me=null,ye=null;function ge(t){if(!t)return"";239==(t=new Uint8Array(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=Te(t),t=escape(t);try{return decodeURIComponent(t)}catch(t){throw new Mt(2,2,2004)}}function be(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new Mt(2,2,2004);if(t instanceof ArrayBuffer)var r=t;else(n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),r=n.buffer;t=Math.floor(t.byteLength/2),n=new Uint16Array(t),r=new DataView(r);for(var i=0;i<t;i++)n[i]=r.getUint16(2*i,e);return Te(n)}function we(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return ge(e);if(254==e[0]&&255==e[1])return be(e.subarray(2),!1);if(255==e[0]&&254==e[1])return be(e.subarray(2),!0);var n=function(t,e){return t.byteLength<=e||32<=t[e]&&126>=t[e]}.bind(null,e);if(0==e[0]&&0==e[2])return be(t,!1);if(0==e[1]&&0==e[3])return be(t,!0);if(n(0)&&n(1)&&n(2)&&n(3))return ge(t);throw new Mt(2,2,2003)}function Ee(t){t=encodeURIComponent(t),t=unescape(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e.buffer}function _e(t,e){for(var n=new Uint8Array(2*t.length),r=new DataView(n.buffer),i=0;i<t.length;++i)r.setUint16(2*i,t.charCodeAt(i),e);return n.buffer}function Te(t){if(!xe)for(var e={size:65536};0<e.size;(e={size:e.size}).size/=2){try{new Uint8Array(e.size);var n=!0}catch(t){n=!1}if(n){xe=function(t){return function(e){for(var n="",r=0;r<e.length;r+=t.size)n+=String.fromCharCode.apply(null,e.subarray(r,r+t.size));return n}}(e);break}}return xe(t)}V("shaka.util.StringUtils.fromUTF8",ge),V("shaka.util.StringUtils.fromUTF16",be),V("shaka.util.StringUtils.fromBytesAutoDetect",we),V("shaka.util.StringUtils.toUTF8",Ee),V("shaka.util.StringUtils.toUTF16",_e);var xe=null,Se={Tc:function(e,n){var r=Te(e);return n=null==n||n,r=t.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}};function Ae(t){var e=this;this.D=t,this.w=new Set,this.j=this.s=null,this.M=!1,this.I=0,this.a=null,this.l=new te,this.b=new Map,this.v=[],this.u=new Rt,this.f=null,this.g=function(n){e.u.reject(n),t.onError(n)},this.ha=new Map,this.U=new Map,this.L=new It((function(){return function(t){var e=t.ha,n=t.U;n.clear(),e.forEach((function(t,e){return n.set(e,t)})),(e=Array.from(n.values())).length&&e.every((function(t){return"expired"==t}))&&t.g(new Mt(2,6,6014)),t.D.Lc(oe(n))}(e)})),this.c=!1,this.ba=new Rt,this.F=!1,this.H=[],this.ea=!1,this.Y=new It((function(){!function(t){t.b.forEach((function(e,n){var r=e.Ad,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.D.onExpirationUpdated(n.sessionId,i),e.Ad=i)}))}(e)})).Oa(1),this.u.catch((function(){}))}function ke(t,e,n){return t.v=n,t.F=0<n.length,Ce(t,e)}function Ce(e,n){var r=function(e){if(0==(e=ae(e.f.clearKeys)).size)return null;var n=[],r=[];e.forEach((function(t,e){var i=Se.gd(e),a=Se.gd(t);i={kty:"oct",kid:Se.Tc(i,!1),k:Se.Tc(a,!1)},n.push(i),r.push(i.kid)})),e=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:new Uint8Array(Ee(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}(e);if(r)for(var i=h(n),a=i.next();!a.done;a=i.next())a.value.drmInfos=[r];for((r=n.some((function(t){return 0<t.drmInfos.length})))||function(t,e){var n=[];e.forEach((function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var r=h(t),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}(n,a=ae(e.f.servers)),a=(i=h(n)).next();!a.done;a=i.next())for(var o=(a=h(a.value.drmInfos)).next();!o.done;o=a.next())He(o.value,ae(e.f.servers),ae(e.f.advanced||{}));return(a=function(t,e){for(var n=new Set,r=h(e),i=r.next();!i.done;i=r.next()){var a=h(i.value.drmInfos);for(i=a.next();!i.done;i=a.next())n.add(i.value)}for(r=h(n),i=r.next();!i.done;i=r.next())He(i.value,ae(t.f.servers),ae(t.f.advanced||{}));a=t.F?"required":"optional";var o=t.F?["persistent-license"]:["temporary"];for(r=new Map,n=h(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(n=h(e),i=n.next();!i.done;i=n.next()){i=i.value,a=i.audio,o=i.video;var s=a?se(a.mimeType,a.codecs):"",u=o?se(o.mimeType,o.codecs):"",c=h(i.drmInfos);for(i=c.next();!i.done;i=c.next()){i=i.value;var l=r.get(i.keySystem);l.drmInfos.push(i),i.distinctiveIdentifierRequired&&(l.distinctiveIdentifier="required"),i.persistentStateRequired&&(l.persistentState="required"),a&&l.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:s}),o&&l.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:u})}}return r}(e,n)).size?(a=Le(e,a),r?a:a.catch((function(){}))):(e.M=!0,Promise.resolve())}function Ie(t){return p((function e(){var n;return U(e,(function(e){switch(e.o){case 1:if(!(t.s&&t.a&&t.a.serverCertificate&&t.a.serverCertificate.length)){e.B(0);break}return A(e,3),x(e,t.s.setServerCertificate(t.a.serverCertificate),5);case 5:C(e,0);break;case 3:return n=I(e),e.return(Promise.reject(new Mt(2,6,6004,n.message)))}}))}))}function Ne(t){var e=t.a?t.a.initData:[];return e.forEach((function(e){return De(t,e.initDataType,e.initData)})),t.v.forEach((function(e){return Ue(t,e)})),e.length||t.v.length||t.u.resolve(),t.u}function Pe(t,e,n){for(var r=t.b.values(),i=(r=h(r)).next();!i.done;i=r.next())if(Se.Ra(n,i.value.initData))return;De(t,e,n)}function Me(t){return t?t.keySystem:""}function Re(t,e){return!!pe("Edge/")||t.w.has(e)}function Oe(t){return t=function(t,e){for(var n=[],r=h(t),i=r.next();!i.done;i=r.next())n.push(e(i.value));return n}(t=t.b.keys(),(function(t){return t.sessionId})),Array.from(t)}function Le(t,e){if(1==e.size&&e.has(""))return Promise.reject(new Mt(2,6,6e3));for(var n=h(e.values()),r=n.next();!r.done;r=n.next())0==(r=r.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var i=n=new Rt;return[!0,!1].forEach(function(t){var n=this;e.forEach((function(e,r){e.drmInfos.some((function(t){return!!t.licenseServerUri}))==t&&(i=i.catch(function(){if(!this.c)return navigator.requestMediaKeySystemAccess(r,[e])}.bind(n)))}))}.bind(t)),i=(i=i.catch((function(){return Promise.reject(new Mt(2,6,6001))}))).then(function(t){if(this.c)return Promise.reject();this.w.clear();var n=t.getConfiguration(),r=n.videoCapabilities||[],i=h(n.audioCapabilities||[]);for(n=i.next();!n.done;n=i.next())this.w.add(n.value.contentType);for(n=(r=h(r)).next();!n.done;n=r.next())this.w.add(n.value.contentType);r=t.keySystem,i=[];var a=[],o=[],s=[];return function(t,e,n,r,i){t.forEach((function(t){if(e.includes(t.licenseServerUri)||e.push(t.licenseServerUri),t.serverCertificate&&(n.some((function(e){return Se.Ra(e,t.serverCertificate)}))||n.push(t.serverCertificate)),t.initData&&t.initData.forEach((function(t){r.some((function(e){return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&Se.Ra(e.initData,t.initData)}))||r.push(t)})),t.keyIds)for(var a=0;a<t.keyIds.length;++a)i.includes(t.keyIds[a])||i.push(t.keyIds[a])}))}((n=e.get(t.keySystem)).drmInfos,i,a,o,s),this.a={keySystem:r,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:(n.audioCapabilities?n.audioCapabilities[0].robustness:"")||"",videoRobustness:(n.videoCapabilities?n.videoCapabilities[0].robustness:"")||"",serverCertificate:a[0],initData:o,keyIds:s},this.a.licenseServerUri?t.createMediaKeys():Promise.reject(new Mt(2,6,6012,this.a.keySystem))}.bind(t)).then(function(t){if(this.c)return Promise.reject();this.s=t,this.M=!0}.bind(t)).catch(function(t){if(!this.c)return this.a=null,this.w.clear(),t instanceof Mt?Promise.reject(t):Promise.reject(new Mt(2,6,6002,t.message))}.bind(t)),n.reject(),i}function Ue(t,e){try{var n=t.s.createSession("persistent-license")}catch(e){var r=new Mt(2,6,6005,e.message);return t.g(r),Promise.reject(r)}t.l.m(n,"message",t.Fe.bind(t)),t.l.m(n,"keystatuseschange",t.De.bind(t));var i={initData:null,loaded:!1,Ad:1/0,Pa:null};return t.b.set(n,i),n.load(e).then(function(t){return this.c?Promise.reject():t?(i.loaded=!0,Ke(this)&&this.u.resolve(),n):(this.b.delete(n),void this.g(new Mt(2,6,6013)))}.bind(t),function(t){this.c||(this.b.delete(n),this.g(new Mt(2,6,6005,t.message)))}.bind(t))}function De(t,e,n){try{var r=t.F?t.s.createSession("persistent-license"):t.s.createSession()}catch(e){return void t.g(new Mt(2,6,6005,e.message))}t.l.m(r,"message",t.Fe.bind(t)),t.l.m(r,"keystatuseschange",t.De.bind(t)),t.b.set(r,{initData:n,loaded:!1,Ad:1/0,Pa:null});try{n=t.f.initDataTransform(n,t.a)}catch(n){return e=n,n instanceof Mt||(e=new Mt(2,6,6016,n)),void t.g(e)}r.generateRequest(e,n.buffer).catch((function(e){if(!t.c){if(t.b.delete(r),e.errorCode&&e.errorCode.systemCode){var n=e.errorCode.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}t.g(new Mt(2,6,6006,e.message,e,n))}}))}function je(t,e){if(Me(e).startsWith("com.apple.fps")){var n=e.serverCertificate;t=ie(t,re(t),n)}return t}function Fe(t,e){var n=e.target,r=t.b.get(n),i=t.a.licenseServerUri,a=t.f.advanced[t.a.keySystem];"individualization-request"==e.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(i=$t([i],t.f.retryParameters)).body=e.message,i.method="POST",i.licenseRequestType=e.messageType,i.sessionId=n.sessionId,"com.microsoft.playready"!=t.a.keySystem&&"com.chromecast.playready"!=t.a.keySystem||function(t){var e=be(t.body,!0,!0);if(e.includes("PlayReadyKeyMessage")){for(var n=(e=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)t.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;t.body=Se.Ta(e.querySelector("Challenge").textContent).buffer}else t.headers["Content-Type"]="text/xml; charset=utf-8"}(i),t.a.keySystem.startsWith("com.apple.fps")&&t.f.fairPlayTransform&&function(t){var e=new Uint8Array(t.body);e="spc="+Se.Tc(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=Ee(e)}(i);var o=Date.now();t.D.Lb.request(2,i).promise.then(function(t){return this.c?Promise.reject():(this.a.keySystem.startsWith("com.apple.fps")&&this.f.fairPlayTransform&&function(t){try{var e=ge(t.data)}catch(t){return}"<ckc>"===(e=e.trim()).substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6));try{e=JSON.parse(e).ckc}catch(t){}t.data=Se.Ta(e).buffer}(t),this.I+=(Date.now()-o)/1e3,n.update(t.data).then(function(){var t=this;this.D.onEvent(new H("drmsessionupdate")),r&&(r.Pa&&r.Pa.resolve(),new It((function(){r.loaded=!0,Ke(t)&&t.u.resolve()})).R(qe))}.bind(this)))}.bind(t),function(t){this.c||(t=new Mt(2,6,6007,t),this.g(t),r&&r.Pa&&r.Pa.reject(t))}.bind(t)).catch(function(t){this.c||(t=new Mt(2,6,6008,t.message),this.g(t),r&&r.Pa&&r.Pa.reject(t))}.bind(t))}function Be(){var t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],e=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],n=new Map;return t="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map((function(t){return function(t){return p((function r(){var i,a,o;return U(r,(function(r){switch(r.o){case 1:return A(r,2),x(r,navigator.requestMediaKeySystemAccess(t,e),4);case 4:return i=r.A,o=!!(a=i.getConfiguration().sessionTypes)&&a.includes("persistent-license"),pe("Tizen 3")&&(o=!1),n.set(t,{persistentState:o}),x(r,i.createMediaKeys(),5);case 5:C(r,0);break;case 2:I(r),n.set(t,null),S(r)}}))}))}(t)})),Promise.all(t).then((function(){return oe(n)}))}function ze(t,e){var n=e.audio,r=e.video;if(n&&n.encrypted&&!Re(t,se(n.mimeType,n.codecs))||r&&r.encrypted&&!Re(t,se(r.mimeType,r.codecs)))return!1;var i=Me(t.a);return 0==e.drmInfos.length||e.drmInfos.some((function(t){return t.keySystem==i}))}function Ge(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=0;r<t.length;r++)for(var i=0;i<e.length;i++)if(t[r].keySystem==e[i].keySystem){var a=t[r];i=e[i];var o=[];o=(o=o.concat(a.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(a.keyIds)).concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:s});break}return n}function Ve(t){return p((function e(){var n;return U(e,(function(e){switch(e.o){case 1:return n=Array.from(t.b.keys()),t.b.clear(),x(e,Promise.all(n.map((function(t){return p((function e(){return U(e,(function(e){switch(e.o){case 1:return A(e,2),x(e,Promise.all([t.close(),t.closed]),4);case 4:C(e,0);break;case 2:I(e),S(e)}}))}))}))),0)}}))}))}function Ke(t){return Z(t=t.b.values(),(function(t){return t.loaded}))}function He(e,n,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(n.size&&(n=n.get(e.keySystem)||"",e.licenseServerUri=n),e.keyIds||(e.keyIds=[]),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate)),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))}V("shaka.util.Uint8ArrayUtils.toBase64",Se.Tc),Se.Ta=function(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n},V("shaka.util.Uint8ArrayUtils.fromBase64",Se.Ta),Se.gd=function(e){for(var n=new Uint8Array(e.length/2),r=0;r<e.length;r+=2)n[r/2]=t.parseInt(e.substr(r,2),16);return n},V("shaka.util.Uint8ArrayUtils.fromHex",Se.gd),Se.Uc=function(t){for(var e="",n=0;n<t.length;++n){var r=t[n].toString(16);1==r.length&&(r="0"+r),e+=r}return e},V("shaka.util.Uint8ArrayUtils.toHex",Se.Uc),Se.Ra=function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!1;return!0},V("shaka.util.Uint8ArrayUtils.equal",Se.Ra),Se.concat=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var r=n=0;r<e.length;++r)n+=e[r].length;n=new Uint8Array(n);for(var i=r=0;i<e.length;++i)n.set(e[i],r),r+=e[i].length;return n},V("shaka.util.Uint8ArrayUtils.concat",Se.concat),(r=Ae.prototype).destroy=function(){var t=this;return p((function e(){return U(e,(function(e){switch(e.o){case 1:return t.c?x(e,t.ba,0):(t.c=!0,x(e,function(t){return p((function e(){return U(e,(function(e){switch(e.o){case 1:return t.l.release(),t.l=null,t.u.reject(),t.Y.stop(),t.Y=null,t.L.stop(),t.L=null,x(e,Ve(t),2);case 2:if(!t.j){e.B(3);break}return A(e,4),x(e,t.j.setMediaKeys(null),6);case 6:C(e,5);break;case 4:I(e);case 5:t.j=null;case 3:t.a=null,t.w.clear(),t.s=null,t.v=[],t.f=null,t.g=null,t.D=null,S(e)}}))}))}(t),4));case 4:t.ba.resolve(),e.B(0)}}))}))},r.configure=function(t){this.f=t},r.ac=function(t){var e=this;if(!this.s)return this.l.sa(t,"encrypted",(function(){e.g(new Mt(2,6,6010))})),Promise.resolve();this.j=t,this.l.sa(this.j,"play",(function(){for(var t=0;t<e.H.length;t++)Fe(e,e.H[t]);e.ea=!0,e.H=[]})),"webkitCurrentPlaybackTargetIsWireless"in this.j&&this.l.m(this.j,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Ve(e)})),t=(t=this.j.setMediaKeys(this.s)).catch((function(t){return Promise.reject(new Mt(2,6,6003,t.message))}));var n=Ie(this);return Promise.all([t,n]).then((function(){if(e.c)return Promise.reject();Ne(e),e.a.initData.length||e.v.length||e.l.m(e.j,"encrypted",(function(t){return Pe(e,t.initDataType,new Uint8Array(t.initData))}))})).catch((function(t){if(!e.c)return Promise.reject(t)}))},r.dc=function(){for(var t=1/0,e=this.b.keys(),n=(e=h(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},r.Fe=function(t){this.j&&this.f.delayLicenseRequestUntilPlayed&&this.j.paused&&!this.ea?this.H.push(t):Fe(this,t)},r.De=function(t){t=t.target;var e=this.b.get(t),n=!1;t.keyStatuses.forEach(function(t,r){if("string"==typeof r){var i=r;r=t,t=i}if("com.microsoft.playready"==this.a.keySystem&&16==r.byteLength&&!pe("Tizen")){var a=(i=new DataView(r)).getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,a,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(e.loaded=!0),"expired"==t&&(n=!0),i=Se.Uc(new Uint8Array(r)),this.ha.set(i,t)}.bind(this));var r=t.expiration-Date.now();(0>r||n&&1e3>r)&&e&&!e.Pa&&(this.b.delete(t),t.close().catch((function(){}))),Ke(this)&&(this.u.resolve(),this.L.R(We))};var qe=5,We=.5;function Xe(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function Ye(){}function $e(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function Ze(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e+n>=t.start(0)}function Je(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,r=t.length-1;0<=r&&t.end(r)>e;--r)n+=t.end(r)-Math.max(t.start(r),e);return n}function Qe(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}Xe.prototype.init=function(t){var e=muxjs.mp4.probe;t=new Uint8Array(t),this.g=e.videoTrackIds(t),this.f=e.timescale(t),this.a.init()},Xe.prototype.b=function(t,e){var n=new Uint8Array(t);(n=this.a.parse(n,this.g,this.f))&&n.captions&&e(n.captions),this.a.clearParsedCaptions()},Xe.prototype.c=function(){this.a.resetCaptionStream()},Ye.prototype.init=function(){},Ye.prototype.b=function(){},Ye.prototype.c=function(){};var tn={uf:function(t,e){return t.reduce(function(t,e,n){return e.catch(t.bind(null,n))}.bind(null,e),Promise.reject())},Zc:function(t,e){return t.concat(e)},Jc:function(){},bb:function(t){return null!=t}};function en(t,e){if(0==e.length)return t;var n=e.map((function(t){return new vt(t)}));return t.map((function(t){return new vt(t)})).map((function(t){return n.map(t.resolve.bind(t))})).reduce(tn.Zc,[]).map((function(t){return t.toString()}))}function nn(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:e||[],keyIds:[]}}var rn={jb:"video",Yb:"audio",Ha:"text",sh:"image",qh:"application"},an=1/15;function on(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.l.bind(this)),this.a.on("done",this.j.bind(this))}function sn(e,n){return!(!t.muxjs||"mp2t"!=e.toLowerCase().split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(un(n,e)):MediaSource.isTypeSupported(un("audio",e))||MediaSource.isTypeSupported(un("video",e)))}function un(t,e){var n=e.replace(/mp2t/i,"mp4");"audio"==t&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n}function cn(t,e,n){this.startTime=t,this.direction=vn,this.endTime=e,this.payload=n,this.region=new Tn,this.position=null,this.positionAlign=ln,this.size=100,this.textAlign=fn,this.writingMode=mn,this.lineInterpretation=yn,this.line=null,this.lineHeight="",this.lineAlign=gn,this.displayAlign=dn,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=wn,this.fontStyle=En,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1}on.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},on.prototype.l=function(t){this.c=t.captions;var e=new Uint8Array(t.data.byteLength+t.initSegment.byteLength);e.set(t.initSegment,0),e.set(t.data,t.initSegment.byteLength),this.g.push(e)},on.prototype.j=function(){var t={data:Se.concat.apply(null,this.g),captions:this.c};this.b.resolve(t),this.f=!1},V("shaka.text.Cue",cn);var ln="auto";cn.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:ln};var fn="center",hn={LEFT:"left",RIGHT:"right",CENTER:fn,START:"start",END:"end"};cn.textAlign=hn;var dn="after",pn={BEFORE:"before",CENTER:"center",AFTER:dn};cn.displayAlign=pn;var vn="ltr";cn.direction={HORIZONTAL_LEFT_TO_RIGHT:vn,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var mn="horizontal-tb";cn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:mn,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var yn=0;cn.lineInterpretation={LINE_NUMBER:yn,PERCENTAGE:1};var gn="start",bn={CENTER:"center",START:gn,END:"end"};cn.lineAlign=bn;var wn=400;cn.fontWeight={NORMAL:wn,BOLD:700};var En="normal",_n={NORMAL:En,ITALIC:"italic",OBLIQUE:"oblique"};function Tn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=xn,this.scroll=Sn}cn.fontStyle=_n,cn.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},V("shaka.text.CueRegion",Tn);var xn=1;Tn.units={PX:0,PERCENTAGE:xn,LINES:2};var Sn="";function An(t){this.g=null,this.c=t,this.f=this.u=0,this.j=1/0,this.b=this.a=null,this.s="",this.l=new Map}Tn.scrollMode={NONE:Sn,UP:"up"};var kn={};function Cn(e){return!!(kn[e]||t.muxjs&&"application/cea-608"==e)}function In(t,e){"application/cea-608"!=e&&(t.g=new kn[e])}function Nn(t,e,n,r,i){for(var a=n+" "+r,o=new Map,s=(e=h(e)).next();!s.done;s=e.next()){var u=s.value;s=u.stream,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),u.startTime+=i,u.endTime+=i,u.startTime>=t.f&&u.startTime<t.j&&(u=new cn(u.startTime,u.endTime,u.text),o.get(s).get(a).push(u),s==t.s&&t.c.append([u]))}for(a=(i=h(o.keys())).next();!a.done;a=i.next())for(a=a.value,t.l.has(a)||t.l.set(a,new Map),s=(e=h(o.get(a).keys())).next();!s.done;s=e.next())s=s.value,u=o.get(a).get(s),t.l.get(a).set(s,u);t.a=null==t.a?Math.max(n,t.f):Math.min(t.a,Math.max(n,t.f)),t.b=Math.max(t.b,Math.min(r,t.j))}function Pn(t,e,n){this.f=t,this.g=n,this.b={},this.a=null,this.c={},this.l=new te,this.w=!1,this.s={},this.u=e,t=this.v=new Rt,e=new MediaSource,this.l.sa(e,"sourceopen",t.resolve),this.f.src=Mn(e),this.j=e}V("shaka.text.TextEngine.registerParser",(function(t,e){kn[t]=e})),V("shaka.text.TextEngine.unregisterParser",(function(t){delete kn[t]})),An.prototype.destroy=function(){return this.c=this.g=null,this.l.clear(),Promise.resolve()},An.prototype.md=function(t){try{return this.g.parseMedia(new Uint8Array(t),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new Mt(2,2,2009,t)}},An.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.c||!this.c.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))};var Mn=t.URL.createObjectURL;function Rn(t){var e=se(t.mimeType,t.codecs),n=function(t){var e=[t.mimeType];return ce.forEach((function(n,r){var i=t[r];i&&e.push(n+'="'+i+'"')})),e.join(";")}(t);return Cn(e)||MediaSource.isTypeSupported(n)||sn(e,t.type)}function On(t,e){t.a||(t.a=new An(t.g)),In(t.a,e)}function Ln(t){return!t.j||"ended"==t.j.readyState}function Un(t,e){if("text"==e)var n=t.a.a;else n=!(n=jn(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function Dn(t,e){return"text"==e?t.a.b:$e(jn(t,e))}function jn(t,e){try{return t.b[e].buffered}catch(t){return null}}function Fn(e,n,r,i,a,o){return"text"==n?function(t,e,n,r){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==n||null==r)this.g.parseInit(new Uint8Array(e));else{var t={periodStart:this.u,segmentStart:n,segmentEnd:r};t=this.g.parseMedia(new Uint8Array(e),t).filter(function(t){return t.startTime>=this.f&&t.startTime<this.j}.bind(this)),this.c.append(t),null==this.a&&(this.a=Math.max(n,this.f)),this.b=Math.min(r,this.j)}}.bind(t))}(e.a,r,i,a):e.s[n]?function(t,e){t.f=!0,t.b=new Rt,t.g=[],t.c=[];var n=new Uint8Array(e);return t.a.push(n),t.a.flush(),t.f&&t.b.reject(new Mt(2,3,3018)),t.b}(e.s[n],r).then(function(t){return this.a||On(this,"text/vtt"),t.captions&&t.captions.length&&Nn(this.a,t.captions,i,a,this.b.video.timestampOffset),Gn(this,n,this.Ye.bind(this,n,t.data.buffer))}.bind(e)):(o&&t.muxjs&&(e.a||On(e,"text/vtt"),null==i&&null==a?e.u.init(r):e.u.b(r,(function(t){t.length&&Nn(e.a,t,i,a,e.b.video.timestampOffset)}))),Gn(e,n,e.Ye.bind(e,n,r)))}function Bn(t,e){var n=Dn(t,"video")||0;!function(t,e,n){if(t.s=e,e=t.l.get(e))for(var r=h(e.keys()),i=r.next();!i.done;i=r.next())(i=e.get(i.value).filter((function(t){return t.endTime<=n})))&&t.c.append(i)}(t.a,e,n)}function zn(t,e){return"text"==e?t.a?(t.u.c(),t.a.remove(0,1/0)):Promise.resolve():Gn(t,e,t.Ze.bind(t,e,0,t.j.duration))}function Gn(t,e,n){if(t.w)return Promise.reject();if(n={start:n,p:new Rt},t.c[e].push(n),1==t.c[e].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Mt(2,3,3017,e)):n.p.reject(new Mt(2,3,3015,r)),Kn(t,e)}return n.p}function Vn(t,e){if(t.w)return Promise.reject();var n,r=[];for(n in t.b){var i=new Rt,a={start:function(t){t.resolve()}.bind(null,i),p:i};t.c[n].push(a),r.push(i),1==t.c[n].length&&a.start()}return Promise.all(r).then(function(){try{e()}catch(e){var t=Promise.reject(new Mt(2,3,3015,e))}for(var n in this.b)Kn(this,n);return t}.bind(t),function(t){throw t}.bind(t))}function Kn(t,e){t.c[e].shift();var n=t.c[e][0];if(n)try{n.start()}catch(r){n.p.reject(new Mt(2,3,3015,r)),Kn(t,e)}}function Hn(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;return!(i&&i.width&&i.height&&(!r(i.width,e.minWidth,Math.min(e.maxWidth,n.width))||!r(i.height,e.minHeight,Math.min(e.maxHeight,n.height))||!r(i.width*i.height,e.minPixels,e.maxPixels))||t&&t.frameRate&&!r(t.frameRate,e.minFrameRate,e.maxFrameRate)||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function qn(t,e,n){var r=!1;return t.forEach((function(t){var i=t.allowedByApplication;t.allowedByApplication=Hn(t,e,n),i!=t.allowedByApplication&&(r=!0)})),r}function Wn(t,e,n,r){r.variants=r.variants.filter((function(r){if(t&&t.M&&!ze(t,r))return!1;var i=r.audio;return r=r.video,!(i&&!Rn(i)||r&&!Rn(r)||i&&e&&!Xn(i,e)||r&&n&&!Xn(r,n))})),r.textStreams=r.textStreams.filter((function(t){return Cn(se(t.mimeType,t.codecs))}))}function Xn(t,e){return t.mimeType==e.mimeType&&t.codecs.split(".")[0]==e.codecs.split(".")[0]}function Yn(t){var e=t.audio,n=t.video,r=e?e.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=[];n&&o.push(n.mimeType),e&&o.push(e.mimeType),o=o[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;return e&&e.roles.forEach((function(t){return u.add(t)})),n&&n.roles.forEach((function(t){return u.add(t)})),t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:o,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:t.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.pixelAspectRatio=n.pixelAspectRatio||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioSamplingRate=e.audioSamplingRate,t.audioBandwidth=e.bandwidth||null,t.label=e.label,t.audioRoles=e.roles),t}function $n(t){return{id:t.id,active:!1,type:"text",bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId}}function Zn(t){return t.__shaka_id||(t.__shaka_id=Jn++),t.__shaka_id}(r=Pn.prototype).destroy=function(){var t=this;this.w=!0;var e,n=[];for(e in this.c){var r=this.c[e],i=r[0];for(this.c[e]=r.slice(0,1),i&&n.push(i.p.catch(tn.Jc)),i=1;i<r.length;++i)r[i].p.reject()}for(var a in this.a&&n.push(this.a.destroy()),this.g&&n.push(this.g.destroy()),this.s)n.push(this.s[a].destroy());return Promise.all(n).then((function(){t.l&&(t.l.release(),t.l=null),t.f&&(t.f.removeAttribute("src"),t.f.load(),t.f=null),t.j=null,t.a=null,t.g=null,t.b={},t.s={},t.u=null,t.c={}}))},r.init=function(t,e){var n=this;return p((function r(){var i;return U(r,(function(r){switch(r.o){case 1:return i=rn,x(r,n.v,2);case 2:t.forEach((function(t,r){var a=se(t.mimeType,t.codecs);r==i.Ha?On(n,a):(!e&&MediaSource.isTypeSupported(a)||!sn(a,r)||(n.s[r]=new on,a=un(r,a)),a=n.j.addSourceBuffer(a),n.l.m(a,"error",n.$g.bind(n,r)),n.l.m(a,"updateend",n.Pb.bind(n,r)),n.b[r]=a,n.c[r]=[])})),S(r)}}))}))},r.hd=function(t){if(t.total=Qe(this.f.buffered),t.audio=Qe(jn(this,"audio")),t.video=Qe(jn(this,"video")),t.text=[],this.a){var e=this.a.a,n=this.a.b;null!=e&&null!=n&&t.text.push({start:e,end:n})}},r.remove=function(t,e,n){return"text"==t?this.a.remove(e,n):Gn(this,t,this.Ze.bind(this,t,e,n))},r.flush=function(t){return"text"==t?Promise.resolve():Gn(this,t,this.zf.bind(this,t))},r.endOfStream=function(t){return Vn(this,function(){Ln(this)||(t?this.j.endOfStream(t):this.j.endOfStream())}.bind(this))},r.Na=function(t){return Vn(this,function(){this.j.duration=t}.bind(this))},r.ka=function(){return this.j.duration},r.Ye=function(t,e){this.b[t].appendBuffer(e)},r.Ze=function(t,e,n){n<=e?this.Pb(t):this.b[t].remove(e,n)},r.mf=function(t){var e=this.b[t].appendWindowStart,n=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=n,this.Pb(t)},r.zf=function(t){this.f.currentTime-=.001,this.Pb(t)},r.Zg=function(t,e){0>e&&(e+=.001),this.b[t].timestampOffset=e,this.Pb(t)},r.Wg=function(t,e,n){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=n,this.b[t].appendWindowStart=e,this.Pb(t)},r.$g=function(t){this.c[t][0].p.reject(new Mt(2,3,3014,this.f.error?this.f.error.code:0))},r.Pb=function(t){var e=this.c[t][0];e&&(e.p.resolve(),Kn(this,t))};var Jn=0;function Qn(t){return{id:Zn(t),active:!1,type:"",bandwidth:0,language:et(t.language),label:t.label,kind:t.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function tr(t){return t.allowedByApplication&&t.allowedByKeySystem}function er(t,e){for(var n=t.filter((function(t){return t.audio&&t.audio.channelsCount})),r=new Map,i=(n=h(n)).next();!i.done;i=n.next()){var a=(i=i.value).audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return 0==(n=Array.from(r.keys())).length?t:(i=n.filter((function(t){return t<=e}))).length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n))}function nr(t,e,n){var r=t,i=t.filter((function(t){return t.primary}));i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter((function(t){return t.language==a})),e){var o=it(et(e),t.map((function(t){return t.language})));o&&(r=t.filter((function(t){return et(t.language)==o})))}if(n){if((t=rr(r,n)).length)return t}else if((t=r.filter((function(t){return 0==t.roles.length}))).length)return t;return(t=r.map((function(t){return t.roles})).reduce(tn.Zc,[])).length?rr(r,t[0]):r}function rr(t,e){return t.filter((function(t){return t.roles.includes(e)}))}function ir(t,e,n){for(var r=0;r<n.length;r++)if(n[r].audio==t&&n[r].video==e)return n[r];return null}function ar(){this.j=null,this.g=!1,this.b=new dt,this.c=[],this.l=!1,this.a=this.f=null}function or(t,e){return t&&(e=e.filter((function(e){return Hn(e,t,{width:1/0,height:1/0})}))),e.sort((function(t,e){return t.bandwidth-e.bandwidth}))}function sr(t,e){this.a=t,this.b=e}function ur(t,e){var n=new sr(2,6),r=fr,i=r.a,a=n.b-i.b;(0<(n.a-i.a||a)?r.c:r.b)(r.a,n,t,e)}function cr(t,e,n,r){W([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function lr(t,e,n,r){q([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(""))}V("shaka.abr.SimpleAbrManager",ar),ar.prototype.stop=function(){this.j=null,this.g=!1,this.c=[],this.f=null},ar.prototype.stop=ar.prototype.stop,ar.prototype.init=function(t){this.j=t},ar.prototype.init=ar.prototype.init,ar.prototype.chooseVariant=function(){var t=or(this.a.restrictions,this.c),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!t.length&&(t=[(t=or(null,this.c))[0]]);for(var n=t[0]||null,r=0;r<t.length;++r){var i=t[r],a=(t[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=i.bandwidth/this.a.bandwidthDowngradeTarget&&e<=a&&(n=i)}return this.f=Date.now(),n},ar.prototype.chooseVariant=ar.prototype.chooseVariant,ar.prototype.enable=function(){this.g=!0},ar.prototype.enable=ar.prototype.enable,ar.prototype.disable=function(){this.g=!1},ar.prototype.disable=ar.prototype.disable,ar.prototype.segmentDownloaded=function(t,e){var n=this.b;if(!(16e3>e)){var r=8e3*e/t,i=t/1e3;n.a+=e,ft(n.b,i,r),ft(n.c,i,r)}if(null!=this.f&&this.g)t:{if(this.l){if(Date.now()-this.f<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.l=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.j(n)}},ar.prototype.segmentDownloaded=ar.prototype.segmentDownloaded,ar.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},ar.prototype.getBandwidthEstimate=ar.prototype.getBandwidthEstimate,ar.prototype.setVariants=function(t){this.c=t},ar.prototype.setVariants=ar.prototype.setVariants,ar.prototype.configure=function(t){this.a=t},ar.prototype.configure=ar.prototype.configure,sr.prototype.toString=function(){return"v"+this.a+"."+this.b};var fr=null,hr="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),dr="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),pr=["loop","playbackRate"],vr=["pause","play"],mr="abrstatuschanged adaptation buffering drmsessionupdate emsg error expirationupdated largegap loading manifestparsed onstatechange onstateidle streaming textchanged texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading variantchanged".split(" "),yr={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,usingEmbeddedTextTrack:2,getLoadMode:10},gr={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},br=[["getConfiguration","configure"]],wr=[["isTextTrackVisible","setTextTrackVisibility"]],Er="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),_r=["attach","detach","load","unload"];function Tr(t){return JSON.stringify(t,(function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof H){var n,r={};for(n in e){var i=e[n];i&&"object"==typeof i?"detail"==n&&(r[n]=i):n in Event||(r[n]=i)}return r}if(e instanceof TimeRanges)for(r={__type__:"TimeRanges",length:e.length,start:[],end:[]},n=0;n<e.length;++n)r.start.push(e.start(n)),r.end.push(e.end(n));else r=e instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(e)}:"number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return r}}))}function xr(t){return JSON.parse(t,(function(t,e){return"NaN"==e?NaN:"-Infinity"==e?-1/0:"Infinity"==e?1/0:e&&"object"==typeof e&&"TimeRanges"==e.__type__?function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e):e&&"object"==typeof e&&"Uint8Array"==e.__type__?new Uint8Array(e.entries):e}))}function Sr(t,e,n,r,i,a){this.M=t,this.f=new It(e),this.L=n,this.s=!1,this.H=r,this.I=i,this.D=a,this.b=this.j=!1,this.F="",this.l=null,this.u=this.Ae.bind(this),this.v=this.rg.bind(this),this.a={video:{},player:{}},this.w=0,this.c={},this.g=null}var Ar=!1,kr=null;function Cr(t){var e=kr;e.removeUpdateListener(t.u),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.v)}function Ir(t){for(var e in t.c){var n=t.c[e];delete t.c[e],n.reject(new Mt(1,7,7e3))}}function Nr(t){t=Tr(t),kr.sendMessage("urn:x-cast:com.google.shaka.v2",t,(function(){}),X)}function Pr(t,e,n){var r=this;$.call(this),this.c=t,this.b=e,this.l=this.g=this.f=this.s=this.j=null,(this.u=n)&&(this.a=new Sr(n,(function(){return Rr(r)}),(function(){return Or(r)}),(function(t,e){return Ur(r,t,e)}),(function(){return Lr(r)}),(function(){return Mr(r)}))),function(t){for(var e in t.a&&t.a.init(),t.l=new te,hr.forEach(function(t){this.l.m(this.c,t,this.oh.bind(this))}.bind(t)),mr.forEach(function(t){this.l.m(this.b,t,this.Hg.bind(this))}.bind(t)),t.j={},t.c)Object.defineProperty(t.j,e,{configurable:!1,enumerable:!0,get:t.nh.bind(t,e),set:t.ph.bind(t,e)});for(var n in t.s={},t.b)Object.defineProperty(t.s,n,{configurable:!1,enumerable:!0,get:t.Ie.bind(t,n)});t.f=new $,t.f.vc=t.j,t.g=new $,t.g.vc=t.s}(this)}function Mr(t){var e={video:{},player:{},playerAfterLoad:{},manifest:t.b.Dc(),startTime:null};return t.c.pause(),pr.forEach(function(t){e.video[t]=this.c[t]}.bind(t)),t.c.ended||(e.startTime=t.c.currentTime),br.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.player[n]=t}.bind(t)),wr.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.playerAfterLoad[n]=t}.bind(t)),e}function Rr(t){t.dispatchEvent(new H("caststatuschanged"))}function Or(t){t.f.dispatchEvent(new H(t.j.paused?"pause":"play"))}function Lr(t){br.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t));var e=t.a.get("player","getAssetUri")(),n=t.a.get("video","ended"),r=Promise.resolve(),i=t.c.autoplay,a=null;n||(a=t.a.get("video","currentTime")),e&&(t.c.autoplay=!1,r=t.b.load(e,a));var o={};pr.forEach(function(t){o[t]=this.a.get("video",t)}.bind(t)),r.then((function(){t.c&&(pr.forEach(function(t){this.c[t]=o[t]}.bind(t)),wr.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t)),t.c.autoplay=i,e&&t.c.play())}),(function(e){t.b.dispatchEvent(new H("error",{detail:e}))}))}function Ur(t,e,n){t.a.aa()&&("video"==e?t.f.dispatchEvent(n):"player"==e&&t.g.dispatchEvent(n))}function Dr(t,e,n,r){var i=this;$.call(this),this.a=t,this.b=e,this.c=new te,this.F={video:t,player:e},this.v=n||function(){},this.H=r||function(t){return t},this.w=!1,this.j=!0,this.g=0,this.u=!1,this.s=!0,this.l=this.f=null,this.D=new It((function(){Fr(i)})),function(t){var e=cast.receiver.CastReceiverManager.getInstance();e.onSenderConnected=t.Ee.bind(t),e.onSenderDisconnected=t.Ee.bind(t),e.onSystemVolumeChanged=t.yf.bind(t),t.l=e.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.l.onMessage=t.lg.bind(t),t.f=e.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.f.onMessage=t.Ag.bind(t),e.start(),hr.forEach(function(t){this.c.m(this.a,t,this.Ke.bind(this,"video"))}.bind(t)),mr.forEach(function(t){this.c.m(this.b,t,this.Ke.bind(this,"player"))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.b.Nd(3840,2160):t.b.Nd(1920,1080),t.c.m(t.a,"loadeddata",function(){this.u=!0}.bind(t)),t.c.m(t.b,"loading",function(){this.j=!1,jr(this)}.bind(t)),t.c.m(t.a,"playing",function(){this.j=!1,jr(this)}.bind(t)),t.c.m(t.a,"pause",function(){jr(this)}.bind(t)),t.c.m(t.b,"unloading",function(){this.j=!0,jr(this)}.bind(t)),t.c.m(t.a,"ended",function(){var t=this;new It((function(){t.a&&t.a.ended&&(t.j=!0,jr(t))})).R(5)}.bind(t))}(this)}function jr(t){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new H("caststatuschanged")),Br(this)||Vr(this,0))}.bind(t))}function Fr(t){t.D.R(.5);var e={video:{},player:{}};if(dr.forEach(function(t){e.video[t]=this.a[t]}.bind(t)),t.b.V())for(var n in gr)0==t.g%gr[n]&&(e.player[n]=t.b[n]());for(var r in yr)0==t.g%yr[r]&&(e.player[r]=t.b[r]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),t.u&&(t.g+=1),Gr(t,{type:"update",update:e},t.f),Br(t)}function Br(t){return!(!t.s||!t.a.duration&&!t.b.V())&&(zr(t),t.s=!1,!0)}function zr(t){var e={contentId:t.b.Dc(),streamType:t.b.V()?"LIVE":"BUFFERED",duration:t.a.duration,contentType:""};Vr(t,0,e)}function Gr(t,e,n,r){t.w&&(t=Tr(e),r?n.getCastChannel(r).send(t):n.broadcast(t))}function Vr(t,e,n){var r=t.a.playbackRate,i=Kr;r={mediaSessionId:0,playbackRate:r,playerState:i=t.j?i.IDLE:t.b.Ib()?i.ef:t.a.paused?i.hf:i.jf,currentTime:t.a.currentTime,supportedMediaCommands:15,volume:{level:t.a.volume,muted:t.a.muted}},n&&(r.media=n),Gr(t,{requestId:e,type:"MEDIA_STATUS",status:[r]},t.l)}(r=Sr.prototype).destroy=function(){return Ir(this),kr&&Cr(this),this.f&&(this.f.stop(),this.f=null),this.I=this.H=null,this.b=this.j=!1,this.v=this.u=this.g=this.c=this.a=this.l=null,Promise.resolve()},r.aa=function(){return this.b},r.Rc=function(){return this.F},r.init=function(){if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){delete t.__onGCastApiAvailable,this.j=!0,this.f.Za();var e=new chrome.cast.SessionRequest(this.M);e=new chrome.cast.ApiConfig(e,this.Be.bind(this),this.yg.bind(this),"origin_scoped"),chrome.cast.initialize(e,(function(){}),(function(){})),Ar&&this.f.R(.02),(e=kr)&&e.status!=chrome.cast.SessionStatus.STOPPED?this.Be(e):kr=null}else t.__onGCastApiAvailable=function(t){t&&this.init()}.bind(this)},r.Ld=function(t){this.l=t,this.b&&Nr({type:"appData",appData:this.l})},r.cast=function(t){return this.j?Ar?this.b?Promise.reject(new Mt(1,8,8002)):(this.g=new Rt,chrome.cast.requestSession(this.Cd.bind(this,t),this.ze.bind(this)),this.g):Promise.reject(new Mt(1,8,8001)):Promise.reject(new Mt(1,8,8e3))},r.cc=function(){this.b&&(Ir(this),kr&&(Cr(this),kr.stop((function(){}),(function(){})),kr=null))},r.get=function(t,e){if("video"==t){if(vr.includes(e))return this.Ne.bind(this,t,e)}else if("player"==t){if(gr[e]&&!this.get("player","isLive")())return function(){};if(Er.includes(e))return this.Ne.bind(this,t,e);if(_r.includes(e))return this.Ng.bind(this,t,e);if(yr[e])return this.Je.bind(this,t,e)}return this.Je(t,e)},r.set=function(t,e,n){this.a[t][e]=n,Nr({type:"set",targetName:t,property:e,value:n})},r.Cd=function(t,e){kr=e,e.addUpdateListener(this.u),e.addMessageListener("urn:x-cast:com.google.shaka.v2",this.v),this.Ae(),Nr({type:"init",initState:t,appData:this.l}),this.g.resolve()},r.ze=function(t){var e=8003;switch(t.code){case"cancel":e=8004;break;case"timeout":e=8005;break;case"receiver_unavailable":e=8006}this.g.reject(new Mt(2,8,e,t))},r.Je=function(t,e){return this.a[t][e]},r.Ne=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];Nr({type:"call",targetName:t,methodName:e,args:r})},r.Ng=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new Rt;var a=this.w.toString();return this.w++,this.c[a]=i,Nr({type:"asyncCall",targetName:t,methodName:e,args:r,id:a}),i},r.Be=function(t){var e=this.D();this.g=new Rt,this.s=!0,this.Cd(e,t)},r.yg=function(t){Ar="available"==t,this.f.Za()},r.Ae=function(){var t=!!kr&&"connected"==kr.status;if(this.b&&!t){for(var e in this.I(),this.a)this.a[e]={};Ir(this)}this.F=(this.b=t)?kr.receiver.friendlyName:"",this.f.Za()},r.rg=function(t,e){var n=xr(e);switch(n.type){case"event":var r=n.event;this.H(n.targetName,new H(r.type,r));break;case"update":for(var i in r=n.update)for(var a in n=this.a[i]||{},r[i])n[a]=r[i][a];this.s&&(this.L(),this.s=!1);break;case"asyncComplete":if(i=n.id,n=n.error,a=this.c[i],delete this.c[i],a)if(n){for(r in i=new Mt(n.severity,n.category,n.code),n)i[r]=n[r];a.reject(i)}else a.resolve()}},K(Pr,$),V("shaka.cast.CastProxy",Pr),Pr.prototype.destroy=function(t){return t&&this.a&&this.a.cc(),this.l&&(this.l.release(),this.l=null),t=[],this.b&&(t.push(this.b.destroy()),this.b=null),this.a&&(t.push(this.a.destroy()),this.a=null),this.s=this.j=this.c=null,Promise.all(t)},Pr.prototype.destroy=Pr.prototype.destroy,Pr.prototype.hc=function(){return this.j},Pr.prototype.getVideo=Pr.prototype.hc,Pr.prototype.Ua=function(){return this.s},Pr.prototype.getPlayer=Pr.prototype.Ua,Pr.prototype.ae=function(){return!!this.a&&(this.a.j&&Ar)},Pr.prototype.canCast=Pr.prototype.ae,Pr.prototype.aa=function(){return!!this.a&&this.a.aa()},Pr.prototype.isCasting=Pr.prototype.aa,Pr.prototype.Rc=function(){return this.a?this.a.Rc():""},Pr.prototype.receiverName=Pr.prototype.Rc,Pr.prototype.cast=function(){if(!this.a)throw new Mt(1,8,8007);var t=Mr(this);return this.a.cast(t).then(function(){if(this.b)return this.b.Yd()}.bind(this))},Pr.prototype.cast=Pr.prototype.cast,Pr.prototype.Ld=function(t){this.a&&this.a.Ld(t)},Pr.prototype.setAppData=Pr.prototype.Ld,Pr.prototype.$e=function(){if(this.a){var t=this.a;if(t.b){var e=t.D();chrome.cast.requestSession(t.Cd.bind(t,e),t.ze.bind(t))}}},Pr.prototype.suggestDisconnect=Pr.prototype.$e,Pr.prototype.fe=function(t){var e=this;return p((function n(){return U(n,(function(n){switch(n.o){case 1:if(t==e.u)return n.return();if(e.u=t,!e.a){n.B(2);break}return e.a.cc(),x(n,e.a.destroy(),3);case 3:e.a=null;case 2:e.a=new Sr(t,(function(){return Rr(e)}),(function(){return Or(e)}),(function(t,n){return Ur(e,t,n)}),(function(){return Lr(e)}),(function(){return Mr(e)})),e.a.init(),S(n)}}))}))},Pr.prototype.changeReceiverId=Pr.prototype.fe,Pr.prototype.cc=function(){this.a&&this.a.cc()},Pr.prototype.forceDisconnect=Pr.prototype.cc,(r=Pr.prototype).nh=function(t){if("addEventListener"==t)return this.f.addEventListener.bind(this.f);if("removeEventListener"==t)return this.f.removeEventListener.bind(this.f);if(this.a&&this.a.aa()&&0==Object.keys(this.a.a.video).length){var e=this.c[t];if("function"!=typeof e)return e}return this.a&&this.a.aa()?this.a.get("video",t):("function"==typeof(t=this.c[t])&&(t=t.bind(this.c)),t)},r.ph=function(t,e){this.a&&this.a.aa()?this.a.set("video",t,e):this.c[t]=e},r.oh=function(t){this.a&&this.a.aa()||this.f.dispatchEvent(new H(t.type,t))},r.Ie=function(t){if("addEventListener"==t)return this.g.addEventListener.bind(this.g);if("removeEventListener"==t)return this.g.removeEventListener.bind(this.g);if("getMediaElement"==t)return function(){return this.j}.bind(this);if("getSharedConfiguration"==t)return this.a?this.a.get("player","getConfiguration"):this.b.getConfiguration();if("getNetworkingEngine"==t)return this.b.ec.bind(this.b);if(this.a&&this.a.aa()){if("getManifest"==t||"drmInfo"==t)return function(){return W(t+"() does not work while casting!"),null};if("getManifestUri"==t)return ur("getManifestUri",'Please use "getAssetUri" instead.'),this.Ie("getAssetUri");if("attach"==t||"detach"==t)return function(){return W(t+"() does not work while casting!"),Promise.resolve()}}return this.a&&this.a.aa()&&0==Object.keys(this.a.a.video).length&&yr[t]||!this.a||!this.a.aa()?this.b[t].bind(this.b):this.a.get("player",t)},r.Hg=function(t){this.a&&this.a.aa()||this.g.dispatchEvent(t)},K(Dr,$),V("shaka.cast.CastReceiver",Dr),Dr.prototype.isConnected=function(){return this.w},Dr.prototype.isConnected=Dr.prototype.isConnected,Dr.prototype.fg=function(){return this.j},Dr.prototype.isIdle=Dr.prototype.fg,Dr.prototype.destroy=function(){var t=this;return p((function e(){var n;return U(e,(function(e){switch(e.o){case 1:return t.c&&(t.c.release(),t.c=null),n=[],t.b&&(n.push(t.b.destroy()),t.b=null),t.D&&(t.D.stop(),t.D=null),t.a=null,t.F=null,t.v=null,t.w=!1,t.j=!0,t.f=null,t.l=null,x(e,Promise.all(n),2);case 2:cast.receiver.CastReceiverManager.getInstance().stop(),S(e)}}))}))},Dr.prototype.destroy=Dr.prototype.destroy,(r=Dr.prototype).Ee=function(){this.g=0,this.s=!0,this.w=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,jr(this)},r.Ke=function(t,e){this.b&&(Fr(this),Gr(this,{type:"event",targetName:t,event:e},this.f))},r.yf=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Gr(this,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},this.f),Gr(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},r.Ag=function(t){var e=xr(t.data);switch(e.type){case"init":this.g=0,this.u=!1,this.s=!0,function(t,e,n){for(var r in e.player)t.b[r](e.player[r]);t.v(n),n=Promise.resolve();var i=t.a.autoplay;e.manifest&&(t.a.autoplay=!1,n=t.b.load(e.manifest,e.startTime)),n.then((function(){if(t.b){for(var n in e.video)t.a[n]=e.video[n];for(var r in e.playerAfterLoad)t.b[r](e.playerAfterLoad[r]);t.a.autoplay=i,e.manifest&&(t.a.play(),Vr(t,0))}}),(function(e){t.b.dispatchEvent(new H("error",{detail:e}))}))}(this,e.initState,e.appData),Fr(this);break;case"appData":this.v(e.appData);break;case"set":var n=e.targetName,r=e.property;if(e=e.value,"video"==n){var i=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){i.setSystemVolumeLevel(e);break}if("muted"==r){i.setSystemVolumeMuted(e);break}}this.F[n][r]=e;break;case"call":(n=this.F[e.targetName])[e.methodName].apply(n,e.args);break;case"asyncCall":n=e.targetName,r=e.methodName,"player"==n&&"load"==r&&(this.g=0,this.u=!1),i=e.id,t=t.senderId;var a=this.F[n];e=a[r].apply(a,e.args),"player"==n&&"load"==r&&(e=e.then(function(){this.s=!0}.bind(this))),e.then(this.Te.bind(this,t,i,null),this.Te.bind(this,t,i))}},r.lg=function(t){var e=xr(t.data);switch(e.type){case"PLAY":this.a.play(),Vr(this,0);break;case"PAUSE":this.a.pause(),Vr(this,0);break;case"SEEK":t=e.currentTime;var n=e.resumeState;null!=t&&(this.a.currentTime=Number(t)),n&&"PLAYBACK_START"==n?(this.a.play(),Vr(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),Vr(this,0));break;case"STOP":this.b.Yd().then(function(){this.b&&Vr(this,0)}.bind(this));break;case"GET_STATUS":Vr(this,Number(e.requestId));break;case"VOLUME":t=(n=e.volume).level,n=n.muted;var r=this.a.volume,i=this.a.muted;null!=t&&(this.a.volume=Number(t)),null!=n&&(this.a.muted=n),r==this.a.volume&&i==this.a.muted||Vr(this,0);break;case"LOAD":this.g=0,this.s=this.u=!1,t=e.media,n=e.currentTime,r=this.H(t.contentId),i=e.autoplay||!0,this.v(t.customData),i&&(this.a.autoplay=!0),this.b.load(r,n).then(function(){this.b&&zr(this)}.bind(this)).catch(function(t){var n="LOAD_FAILED";7==t.category&&7e3==t.code&&(n="LOAD_CANCELLED"),Gr(this,{requestId:Number(e.requestId),type:n},this.l)}.bind(this));break;default:Gr(this,{requestId:Number(e.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.l)}},r.Te=function(t,e,n){this.b&&Gr(this,{type:"asyncComplete",id:e,error:n},this.f,t)};var Kr={IDLE:"IDLE",jf:"PLAYING",ef:"BUFFERING",hf:"PAUSED"};function Hr(t,e){this.O=t,this.b=e==qr,this.a=0}V("shaka.util.DataViewReader",Hr);var qr=1;function Wr(){throw new Mt(2,3,3e3)}function Xr(){this.c=[],this.b=[],this.a=!1}function Yr(t){for(var e=null!=t.flags?12:8;t.reader.Ka()&&!t.parser.a;)t.parser.Nc(t.start+e,t.reader,t.partialOkay)}function $r(t){for(var e=null!=t.flags?12:8,n=t.reader.J();0<n&&!t.parser.a;--n)t.parser.Nc(t.start+e,t.reader,t.partialOkay)}function Zr(t){return function(e){t(e.reader.vb(e.reader.O.byteLength-e.reader.qa()))}}function Jr(t){for(var e=0,n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e}function Qr(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function ti(t){var e=this;this.b=[],this.a=[],this.data=[],(new Xr).K("moov",Yr).va("pssh",(function(t){if(!(1<t.version)){var n=t.reader.O;if(n=new Uint8Array(n.buffer,n.byteOffset-12,t.size),e.data.push(n),e.b.push(Se.Uc(t.reader.vb(16))),0<t.version){n=t.reader.J();for(var r=0;r<n;++r){var i=Se.Uc(t.reader.vb(16));e.a.push(i)}}}})).parse(t)}Hr.Endianness={rh:0,uh:qr},Hr.prototype.Ka=function(){return this.a<this.O.byteLength},Hr.prototype.hasMoreData=Hr.prototype.Ka,Hr.prototype.qa=function(){return this.a},Hr.prototype.getPosition=Hr.prototype.qa,Hr.prototype.Jf=function(){return this.O.byteLength},Hr.prototype.getLength=Hr.prototype.Jf,Hr.prototype.Aa=function(){try{var t=this.O.getUint8(this.a);return this.a+=1,t}catch(t){Wr()}},Hr.prototype.readUint8=Hr.prototype.Aa,Hr.prototype.nc=function(){try{var t=this.O.getUint16(this.a,this.b);return this.a+=2,t}catch(t){Wr()}},Hr.prototype.readUint16=Hr.prototype.nc,Hr.prototype.J=function(){try{var t=this.O.getUint32(this.a,this.b);return this.a+=4,t}catch(t){Wr()}},Hr.prototype.readUint32=Hr.prototype.J,Hr.prototype.Me=function(){try{var t=this.O.getInt32(this.a,this.b);return this.a+=4,t}catch(t){Wr()}},Hr.prototype.readInt32=Hr.prototype.Me,Hr.prototype.Tb=function(){try{if(this.b)var t=this.O.getUint32(this.a,!0),e=this.O.getUint32(this.a+4,!0);else e=this.O.getUint32(this.a,!1),t=this.O.getUint32(this.a+4,!1)}catch(t){Wr()}if(2097151<e)throw new Mt(2,3,3001);return this.a+=8,e*Math.pow(2,32)+t},Hr.prototype.readUint64=Hr.prototype.Tb,Hr.prototype.vb=function(t){this.a+t>this.O.byteLength&&Wr();var e=new Uint8Array(this.O.buffer,this.O.byteOffset+this.a,t);return this.a+=t,e},Hr.prototype.readBytes=Hr.prototype.vb,Hr.prototype.S=function(t){this.a+t>this.O.byteLength&&Wr(),this.a+=t},Hr.prototype.skip=Hr.prototype.S,Hr.prototype.Oe=function(t){this.a<t&&Wr(),this.a-=t},Hr.prototype.rewind=Hr.prototype.Oe,Hr.prototype.seek=function(t){(0>t||t>this.O.byteLength)&&Wr(),this.a=t},Hr.prototype.seek=Hr.prototype.seek,Hr.prototype.Ed=function(){for(var t=this.a;this.Ka()&&0!=this.O.getUint8(this.a);)this.a+=1;return t=new Uint8Array(this.O.buffer,this.O.byteOffset+t,this.a-t),this.a+=1,ge(t)},Hr.prototype.readTerminatedString=Hr.prototype.Ed,V("shaka.util.Mp4Parser",Xr),Xr.prototype.K=function(t,e){var n=Jr(t);return this.c[n]=0,this.b[n]=e,this},Xr.prototype.box=Xr.prototype.K,Xr.prototype.va=function(t,e){var n=Jr(t);return this.c[n]=1,this.b[n]=e,this},Xr.prototype.fullBox=Xr.prototype.va,Xr.prototype.stop=function(){this.a=!0},Xr.prototype.stop=Xr.prototype.stop,Xr.prototype.parse=function(t,e){var n=new Uint8Array(t);for(n=new Hr(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.Ka()&&!this.a;)this.Nc(0,n,e)},Xr.prototype.parse=Xr.prototype.parse,Xr.prototype.Nc=function(t,e,n){var r=e.qa(),i=e.J(),a=e.J();switch(i){case 0:i=e.O.byteLength-r;break;case 1:i=e.Tb()}var o=this.b[a];if(o){var s=null,u=null;1==this.c[a]&&(s=(u=e.J())>>>24,u&=16777215),a=r+i,n&&a>e.O.byteLength&&(a=e.O.byteLength),a-=e.qa(),e=0<a?e.vb(a):new Uint8Array(0),o({parser:this,partialOkay:n||!1,version:s,flags:u,reader:e=new Hr(new DataView(e.buffer,e.byteOffset,e.byteLength),0),size:i,start:r+t})}else e.S(Math.min(r+i-e.qa(),e.O.byteLength-e.qa()))},Xr.prototype.parseNext=Xr.prototype.Nc,Xr.children=Yr,Xr.sampleDescription=$r,Xr.allData=Zr,Xr.typeToString=Qr,(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");var ei={Cc:function(t,e){var n=ei.W(t,e);return 1!=n.length?null:n[0]},ed:function(t,e,n){return 1!=(t=ei.je(t,e,n)).length?null:t[0]},W:function(t,e){return Array.prototype.filter.call(t.childNodes,(function(t){return t instanceof Element&&t.tagName==e}))},je:function(t,e,n){return Array.prototype.filter.call(t.childNodes,(function(t){return t instanceof Element&&t.localName==n&&t.namespaceURI==e}))},getAttributeNS:function(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null},Ec:function(t){return Array.prototype.every.call(t.childNodes,(function(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE}))?t.textContent.trim():null},N:function(t,e,n,r){r=void 0===r?null:r;var i=null;return null!=(t=t.getAttribute(e))&&(i=n(t)),null==i?r:i},Eg:function(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null},Xa:function(t){return t&&(t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null},Pc:function(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null},parseInt:function(t){return 0==(t=Number(t))%1?t:null},Oc:function(t){return 0==(t=Number(t))%1&&0<t?t:null},Qb:function(t){return 0==(t=Number(t))%1&&0<=t?t:null},parseFloat:function(t){return t=Number(t),isNaN(t)?null:t},wf:function(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1])/Number(e[2]):Number(t),isNaN(t)?null:t},He:function(t,e){var n=new DOMParser;try{var r=n.parseFromString(t,"text/xml")}catch(t){}if(r&&r.documentElement.tagName==e)var i=r.documentElement;return i&&0<i.getElementsByTagName("parsererror").length?null:i},Ge:function(t,e){try{var n=ge(t);return ei.He(n,e)}catch(t){}}},ni=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime");function ri(t,e,n){var r=function(t){for(var e=[],n=(t=h(t)).next();!n.done;n=t.next())(n=oi(n.value))&&e.push(n);return e}(t),i=null;t=[];var a=[],o=new Set(r.map((function(t){return t.keyId})));if(o.delete(null),1<o.size)throw new Mt(2,4,4010);if(n||(a=r.filter((function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.Pe||(i=t.init||i,!1)}))).length&&(0==(t=function(t,e,n){for(var r=[],i=(n=h(n)).next();!i.done;i=n.next()){i=i.value;var a=ni.get(i.Pe);if(a){var o;if(o=ei.ed(i.node,"urn:microsoft:playready","pro")){o=Se.Ta(o.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),u=o.length,c=s.length+16+u,l=new ArrayBuffer(c),f=new Uint8Array(l);l=new DataView(l);var d=0;l.setUint32(d,c),d+=4,l.setUint32(d,1886614376),d+=4,l.setUint32(d,0),d+=4,f.set(s,d),d+=s.length,l.setUint32(d,u),d+=4,f.set(o,d),o=[{initData:f,initDataType:"cenc",keyId:i.keyId}]}else o=null;o=nn(a,i.init||t||o),(a=ai.get(a))&&(o.licenseServerUri=a(i)),r.push(o)}else for(i=h(i=e(i.node)||[]),a=i.next();!a.done;a=i.next())r.push(a.value)}return r}(i,e,a)).length&&(t=[nn("",i)])),r.length&&(n||!a.length))for(t=[],n=(e=h(ni.values())).next();!n.done;n=e.next())"org.w3.clearkey"!=(n=n.value)&&t.push(nn(n,i));if(o=Array.from(o)[0]||null)for(n=(e=h(t)).next();!n.done;n=e.next())for(r=(n=h(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=o;return{ge:o,vh:i,drmInfos:t,ke:!0}}var ii,ai=(new Map).set("com.widevine.alpha",(function(t){return(t=ei.ed(t.node,"urn:microsoft","laurl"))&&t.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(t){return(t=ei.ed(t.node,"urn:microsoft:playready","pro"))&&(t=function(t){var e=0,n=new DataView(t).getUint32(e,!0);if(n!==t.byteLength)return[];e+=6,n=[];for(var r=new DataView(t);e<t.byteLength-1;){var i=r.getUint16(e,!0);e+=2;var a=r.getUint16(e,!0);e+=2;var o=new Uint8Array(t,e,a);n.push({type:i,value:o}),e+=a}return n}((t=Se.Ta(t.textContent)).buffer).filter((function(t){return 1===t.type}))[0])?(t=be(t.value,!0),(t=ei.He(t,"WRMHEADER"))?function(t){return(t=t.querySelector("DATA > LA_URL"))?t.textContent:""}(t):""):""}));function oi(t){var e=t.getAttribute("schemeIdUri"),n=ei.getAttributeNS(t,"urn:mpeg:cenc:2013","default_KID"),r=ei.je(t,"urn:mpeg:cenc:2013","pssh").map(ei.Ec);if(!e)return null;if(e=e.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Mt(2,4,4009);var i=[];try{i=r.map((function(t){return{initDataType:"cenc",initData:Se.Ta(t),keyId:null}}))}catch(t){throw new Mt(2,4,4007)}return{node:t,Pe:e,keyId:n,init:0<i.length?i:null}}function si(e,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(e,n,r,i){if("$$"==e)return"$";var a=o[n];if(null==a)return e;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":e=a.toString();break;case"o":e=a.toString(8);break;case"x":e=a.toString(16);break;case"X":e=a.toString(16).toUpperCase();break;default:e=a.toString()}return r=t.parseInt(r,10)||1,Array(Math.max(0,r-e.length)+1).join("0")+e}))}function ui(t,e){var n=ci(t,e,"timescale"),r=1;n&&(r=ei.Oc(n)||1),n=ci(t,e,"duration"),(n=ei.Oc(n||""))&&(n/=r);var i=ci(t,e,"startNumber"),a=Number(ci(t,e,"presentationTimeOffset"))||0,o=ei.Qb(i||"");null!=i&&null!=o||(o=1);var s=li(t,e,"SegmentTimeline");if(i=null,s){i=r;var u=t.Z.duration||1/0;s=ei.W(s,"S");for(var c=[],l=0,f=0;f<s.length;++f){var h=s[f],d=ei.N(h,"t",ei.Qb),p=ei.N(h,"d",ei.Qb);if(h=ei.N(h,"r",ei.parseInt),null!=d&&(d-=a),!p)break;if(d=null!=d?d:l,0>(h=h||0))if(f+1<s.length){if(null==(h=ei.N(s[f+1],"t",ei.Qb)))break;if(d>=h)break;h=Math.ceil((h-d)/p)-1}else{if(1/0==u)break;if(d/i>=u)break;h=Math.ceil((u*i-d)/p)-1}0<c.length&&d!=l&&(c[c.length-1].end=d/i);for(var v=0;v<=h;++v)l=d+p,c.push({start:d/i,end:l/i,kh:d}),d=l}i=c}return{timescale:r,ma:n,xb:o,Ba:a/r||0,Zd:a,T:i}}function ci(t,e,n){return[e(t.G),e(t.na),e(t.za)].filter(tn.bb).map((function(t){return t.getAttribute(n)})).reduce((function(t,e){return t||e}))}function li(t,e,n){return[e(t.G),e(t.na),e(t.za)].filter(tn.bb).map((function(t){return ei.Cc(t,n)})).reduce((function(t,e){return t||e}))}function fi(t,e,n,r,i,a){if(a=void 0===a?0:a,ei.getAttributeNS(t,"http://www.w3.org/1999/xlink","href")){var o=function(t,e,n,r,i,a){for(var o=ei.getAttributeNS(t,"http://www.w3.org/1999/xlink","href"),s=ei.getAttributeNS(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=0;u<t.attributes.length;u++){var c=t.attributes[u];"http://www.w3.org/1999/xlink"==c.namespaceURI&&(t.removeAttributeNS(c.namespaceURI,c.localName),--u)}if(5<=a)return Lt(new Mt(2,4,4028));if("onLoad"!=s)return Lt(new Mt(2,4,4027));var l=en([r],[o]);return i.request(0,$t(l,e)).$((function(r){if(!(r=ei.Ge(r.data,t.tagName)))return Lt(new Mt(2,4,4001,o));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),t.appendChild(s)}for(s=0;s<r.attributes.length;s++){var u=r.attributes[s].nodeName,c=r.getAttribute(u);t.setAttribute(u,c)}return fi(t,e,n,l[0],i,a+1)}))}(t,e,n,r,i,a);return n&&(o=o.$(void 0,(function(){return fi(t,e,n,r,i,a)}))),o}o=[];for(var s=0;s<t.childNodes.length;s++){var u=t.childNodes[s];u instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==ei.getAttributeNS(u,"http://www.w3.org/1999/xlink","href")?(t.removeChild(u),--s):"SegmentTimeline"!=u.tagName&&o.push(fi(u,e,n,r,i,a)))}return Ft(o).$((function(){return t}))}function hi(t,e,n){this.c=t,this.b=e,this.a=n}function di(t,e,n,r,i,a){this.position=t,this.startTime=e,this.endTime=n,this.c=r,this.b=i,this.a=a}function pi(t,e,n,r){var i,a=(new Xr).va("sidx",(function(t){i=function(t,e,n,r){var i=[];r.reader.S(4);var a=r.reader.J();if(0==a)throw new Mt(2,3,3005);if(0==r.version)var o=r.reader.J(),s=r.reader.J();else o=r.reader.Tb(),s=r.reader.Tb();r.reader.S(2);var u=r.reader.nc();for(t=t+r.size+s,s=0;s<u;s++){var c=r.reader.J(),l=(2147483648&c)>>>31;c&=2147483647;var f=r.reader.J();if(r.reader.S(4),1==l)throw new Mt(2,3,3006);i.push(new di(i.length,o/a-e,(o+f)/a-e,(function(){return n}),t,t+c-1)),o+=f,t+=c}return r.parser.stop(),i}(e,r,n,t)}));if(t&&a.parse(t),i)return i;throw new Mt(2,3,3004)}function vi(t){this.a=t}function mi(t,e){for(;t.a.length&&t.a[t.a.length-1].startTime>=e;)t.a.pop();for(;t.a.length&&0>=t.a[0].endTime;)t.a.shift();if(0!=t.a.length){var n=t.a[t.a.length-1];t.a[t.a.length-1]=new di(n.position,n.startTime,e,n.c,n.b,n.a)}}function yi(t){this.b=t,this.a=new Hr(t,0),ii||(ii=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function gi(t){var e=bi(t);if(7<e.length)throw new Mt(2,3,3002);for(var n=0,r=0;r<e.length;r++)n=256*n+e[r];e=n,n=bi(t);t:{r=Se.Ra;for(var i=0;i<ii.length;i++)if(r(n,ii[i])){r=!0;break t}r=!1}if(r)n=t.b.byteLength-t.a.qa();else{if(8==n.length&&224&n[1])throw new Mt(2,3,3001);for(r=n[0]&(1<<8-n.length)-1,i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=t.a.qa()+n<=t.b.byteLength?n:t.b.byteLength-t.a.qa(),r=new DataView(t.b.buffer,t.b.byteOffset+t.a.qa(),n),t.a.S(n),new wi(e,r)}function bi(t){var e,n=t.a.Aa();for(e=1;8>=e&&!(n&1<<8-e);e++);if(8<e)throw new Mt(2,3,3002);var r=new Uint8Array(e);for(r[0]=n,n=1;n<e;n++)r[n]=t.a.Aa();return r}function wi(t,e){this.id=t,this.a=e}function Ei(t){if(8<t.a.byteLength)throw new Mt(2,3,3002);if(8==t.a.byteLength&&224&t.a.getUint8(0))throw new Mt(2,3,3001);for(var e=0,n=0;n<t.a.byteLength;n++){e=256*e+t.a.getUint8(n)}return e}function _i(){}function Ti(t){var e=new yi(t.a);if(179!=(t=gi(e)).id)throw new Mt(2,3,3013);if(t=Ei(t),183!=(e=gi(e)).id)throw new Mt(2,3,3012);e=new yi(e.a);for(var n=0;e.Ka();){var r=gi(e);if(241==r.id){n=Ei(r);break}}return{lh:t,Mg:n}}function xi(t,e){var n=li(t,e,"Initialization");if(!n)return null;var r=t.G.Ca,i=n.getAttribute("sourceURL");i&&(r=en(t.G.Ca,[i])),i=0;var a=null;return(n=ei.N(n,"range",ei.Pc))&&(i=n.start,a=n.end),new hi((function(){return r}),i,a)}function Si(t,e,n,r,i,a,o,s){var u=t.presentationTimeline,c=!t.Db||!t.Z.qd,l=t.Z.start,f=t.Z.duration,h=e,d=null;return{createSegmentIndex:function(){var t=[h(r,i,a),"webm"==o?h(n.c(),n.b,n.a):null];return h=null,Promise.all(t).then((function(t){var e=t[0];t=t[1]||null,e="mp4"==o?pi(e,i,r,s):(new _i).parse(e,t,r,s),u.Mb(e,l),d=new vi(e),c&&mi(d,f)}))},findSegmentPosition:function(t){return d.find(t)},getSegmentReference:function(t){return d.get(t)}}}function Ai(t){return t.pc}function ki(t,e){var n=xi(t,Ci),r=function(t){return[t.G.gb,t.na.gb,t.za.gb].filter(tn.bb).map((function(t){return ei.W(t,"SegmentURL")})).reduce((function(t,e){return 0<t.length?t:e})).map((function(e){return e.getAttribute("indexRange")&&!t.oe&&(t.oe=!0),{ig:e.getAttribute("media"),start:(e=ei.N(e,"mediaRange",ei.Pc,{start:0,end:null})).start,end:e.end}}))}(t),i=ui(t,Ci),a=i.xb;0==a&&(a=1);var o=0;if(i.ma?o=i.ma*(a-1):i.T&&0<i.T.length&&(o=i.T[0].start),!(r={ma:i.ma,startTime:o,xb:a,Ba:i.Ba,T:i.T,Kb:r}).ma&&!r.T&&1<r.Kb.length)throw new Mt(2,4,4002);if(!r.ma&&!t.Z.duration&&!r.T&&1==r.Kb.length)throw new Mt(2,4,4002);if(r.T&&0==r.T.length)throw new Mt(2,4,4002);return a=i=null,t.za.id&&t.G.id&&(i=e[a=t.za.id+","+t.G.id]),o=function(t,e,n,r){var i=r.Kb.length;r.T&&r.T.length!=r.Kb.length&&(i=Math.min(r.T.length,r.Kb.length));for(var a=[],o=r.startTime,s=0;s<i;s++){var u,c=r.Kb[s],l=en(n,[c.ig]);u=null!=r.ma?o+r.ma:r.T?r.T[s].end:o+t,a.push(new di(s+e,o,u,function(t){return t}.bind(null,l),c.start,c.end)),o=u}return a}(t.Z.duration,r.xb,t.G.Ca,r),i?(i.vd(o),a=t.presentationTimeline.gc(),i.cd(a-t.Z.start)):(t.presentationTimeline.Mb(o,t.Z.start),i=new vi(o),a&&t.Db&&(e[a]=i)),t.Db&&t.Z.qd||mi(i,t.Z.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:n,Ba:r.Ba}}function Ci(t){return t.gb}function Ii(t,e,n,r){var i=function(t){var e=ci(t,Ni,"initialization");if(!e)return null;var n=t.G.id,r=t.bandwidth||null,i=t.G.Ca;return new hi((function(){var t=si(e,n,null,r,null);return en(i,[t])}),0,null)}(t),a=ui(t,Ni),o=ci(t,Ni,"media"),s=ci(t,Ni,"index");if(o=(a={ma:a.ma,timescale:a.timescale,xb:a.xb,Ba:a.Ba,Zd:a.Zd,T:a.T,ud:o,jc:s}).jc?1:0,o+=a.T?1:0,0==(o+=a.ma?1:0))throw new Mt(2,4,4002);if(1!=o&&(a.jc&&(a.T=null),a.ma=null),!a.jc&&!a.ud)throw new Mt(2,4,4002);if(a.jc){if("mp4"!=(n=t.G.mimeType.split("/")[1])&&"webm"!=n)throw new Mt(2,4,4006);if("webm"==n&&!i)throw new Mt(2,4,4005);r=si(a.jc,t.G.id,null,t.bandwidth||null,null),t=Si(t,e,i,r=en(t.G.Ca,[r]),0,null,n,a.Ba)}else a.ma?(r||(t.presentationTimeline.xd(a.ma),t.presentationTimeline.yd(t.Z.start)),t=function(t,e){var n=t.Z.duration,r=e.ma,i=e.xb,a=e.timescale,o=e.ud,s=t.bandwidth||null,u=t.G.id,c=t.G.Ca;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0>t||n&&t>=n?null:Math.floor(t/r)},getSegmentReference:function(t){var e=t*r,l=e+r;return n&&(l=Math.min(l,n)),0>l||n&&e>=n?null:new di(t,e,l,(function(){var n=si(o,u,t+i,s,e*a);return en(c,[n])}),0,null)}}}(t,a)):(o=e=null,t.za.id&&t.G.id&&(e=n[o=t.za.id+","+t.G.id]),s=function(t,e){for(var n=[],r=0;r<e.T.length;r++){var i=r+e.xb;n.push(new di(i,e.T[r].start,e.T[r].end,function(t,e,n,r,i,a){return en(r,[t=si(t,e,i,n,a)]).map((function(t){return t.toString()}))}.bind(null,e.ud,t.G.id,t.bandwidth||null,t.G.Ca,i,e.T[r].kh+e.Zd),0,null))}return n}(t,a),r=!t.Db||!t.Z.qd,e?(r&&mi(new vi(s),t.Z.duration),e.vd(s),n=t.presentationTimeline.gc(),e.cd(n-t.Z.start)):(t.presentationTimeline.Mb(s,t.Z.start),e=new vi(s),o&&t.Db&&(n[o]=e)),r&&mi(e,t.Z.duration),t={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e)});return{createSegmentIndex:t.createSegmentIndex,findSegmentPosition:t.findSegmentPosition,getSegmentReference:t.getSegmentReference,initSegmentReference:i,Ba:a.Ba}}function Ni(t){return t.rc}V("shaka.media.InitSegmentReference",hi),hi.prototype.ad=function(){return this.c()},hi.prototype.createUris=hi.prototype.ad,hi.prototype.ld=function(){return this.b},hi.prototype.getStartByte=hi.prototype.ld,hi.prototype.jd=function(){return this.a},hi.prototype.getEndByte=hi.prototype.jd,V("shaka.media.SegmentReference",di),di.prototype.qa=function(){return this.position},di.prototype.getPosition=di.prototype.qa,di.prototype.md=function(){return this.startTime},di.prototype.getStartTime=di.prototype.md,di.prototype.Hf=function(){return this.endTime},di.prototype.getEndTime=di.prototype.Hf,di.prototype.ad=function(){return this.c()},di.prototype.createUris=di.prototype.ad,di.prototype.ld=function(){return this.b},di.prototype.getStartByte=di.prototype.ld,di.prototype.jd=function(){return this.a},di.prototype.getEndByte=di.prototype.jd,V("shaka.media.SegmentIndex",vi),vi.prototype.destroy=function(){return this.a=null,Promise.resolve()},vi.prototype.destroy=vi.prototype.destroy,vi.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var n=this.a[e];if(t>=n.startTime&&t<n.endTime)return n.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},vi.prototype.find=vi.prototype.find,vi.prototype.get=function(t){return 0==this.a.length?null:0>(t-=this.a[0].position)||t>=this.a.length?null:this.a[t]},vi.prototype.get=vi.prototype.get,vi.prototype.offset=function(t){for(var e=0;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t},vi.prototype.offset=vi.prototype.offset,vi.prototype.vd=function(t){for(var e=[],n=0,r=0;n<this.a.length&&r<t.length;){var i=this.a[n],a=t[r];i.startTime<a.startTime?(e.push(i),n++):(i.startTime>a.startTime?0==n&&e.push(a):(.1<Math.abs(i.endTime-a.endTime)?e.push(new di(i.position,a.startTime,a.endTime,a.c,a.b,a.a)):e.push(i),n++),r++)}for(;n<this.a.length;)e.push(this.a[n++]);if(e.length)for(n=e[e.length-1].position+1;r<t.length;)i=new di(n++,(i=t[r++]).startTime,i.endTime,i.c,i.b,i.a),e.push(i);else e=t;this.a=e},vi.prototype.merge=vi.prototype.vd,vi.prototype.cd=function(t){for(var e=0;e<this.a.length;++e)if(this.a[e].endTime>t)return void this.a.splice(0,e);this.a=[]},vi.prototype.evict=vi.prototype.cd,yi.prototype.Ka=function(){return this.a.Ka()},_i.prototype.parse=function(t,e,n,r){var i;if(440786851!=gi(e=new yi(new DataView(e))).id)throw new Mt(2,3,3008);var a=gi(e);if(408125543!=a.id)throw new Mt(2,3,3009);for(e=a.a.byteOffset,a=new yi(a.a),i=null;a.Ka();){var o=gi(a);if(357149030==o.id){i=o;break}}if(!i)throw new Mt(2,3,3010);for(a=new yi(i.a),i=1e6,o=null;a.Ka();){var s=gi(a);if(2807729==s.id)i=Ei(s);else if(17545==s.id)if(4==(o=s).a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new Mt(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new Mt(2,3,3011);if(i=o*(a=i/1e9),475249515!=(t=gi(new yi(new DataView(t)))).id)throw new Mt(2,3,3007);return function(t,e,n,r,i,a){function o(){return i}var s=[];t=new yi(t.a);for(var u=null,c=null;t.Ka();){var l=gi(t);if(187==l.id){var f=Ti(l);f&&(l=n*f.lh,f=e+f.Mg,null!=u&&s.push(new di(s.length,u-a,l-a,o,c,f-1)),u=l,c=f)}}return null!=u&&s.push(new di(s.length,u-a,r-a,o,c,null)),s}(t,e,a,i,n,r)};var Pi={Rb:{},mc:{},Gd:function(t,e){Pi.mc[t]=e}};function Mi(t,e,n){this.f=t,this.Qc=e,this.j=this.g=1/0,this.a=1,this.b=this.c=null,this.s=0,this.u=!0,this.l=0,this.v=void 0===n||n}function Ri(t,e,n,r){return t=$t(t,r),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function Oi(){var t=this;this.b=this.a=null,this.f=[],this.c=null,this.s=[],this.j=1,this.u={},this.v=0,this.w=new lt(5),this.l=new It((function(){!function(t){p((function e(){var n,r;return U(e,(function(e){switch(e.o){case 1:return n=0,A(e,2),x(e,Li(t),4);case 4:n=e.A,C(e,3);break;case 2:r=I(e),t.b&&(r.severity=1,t.b.onError(r));case 3:if(!t.b)return e.return();Fi(t,n),S(e)}}))}))}(t)})),this.g=new Ht}function Li(t){var e=Date.now(),n=t.b.networkingEngine.request(0,$t(t.f,t.a.retryParameters));return qt(t.g,n),n.promise.then((function(e){if(t.b)return e.uri&&!t.f.includes(e.uri)&&t.f.unshift(e.uri),function(t,e,n){if(!(e=ei.Ge(e,"MPD")))throw new Mt(2,4,4001,n);return e=fi(e,t.a.retryParameters,t.a.dash.xlinkFailGracefully,n,t.b.networkingEngine),qt(t.g,e),e.promise.then((function(e){return function(t,e,n){return p((function r(){var i,a,o,s,u,c,l,f,h,d,p,v,m,y,g,b,w,E,_,T,A,k,C,I;return U(r,(function(r){switch(r.o){case 1:s=tn,c=[n],0<(l=(u=ei).W(e,"Location").map(u.Ec).filter(s.bb)).length&&(f=en(c,l),c=t.f=f),h=u.W(e,"BaseURL").map(u.Ec),d=en(c,h),p=t.a.dash.ignoreMinBufferTime,v=0,p||(v=u.N(e,"minBufferTime",u.Xa)),t.v=u.N(e,"minimumUpdatePeriod",u.Xa,-1),m=u.N(e,"availabilityStartTime",u.Eg),y=u.N(e,"timeShiftBufferDepth",u.Xa),g=u.N(e,"maxSegmentDuration",u.Xa),b=e.getAttribute("type")||"static",w=t.a.dash.ignoreSuggestedPresentationDelay,E=null,w||(E=u.N(e,"suggestedPresentationDelay",u.Xa)),t.c?_=t.c.presentationTimeline:(T=Math.max(t.a.dash.defaultPresentationDelay,1.5*v),_=new Mi(m,null!=E?E:T,t.a.dash.autoCorrectDrift));for(var N={Db:"static"!=b,presentationTimeline:_,za:null,Z:null,na:null,G:null,bandwidth:0,oe:!1},P=d,M=ei.N(e,"mediaPresentationDuration",ei.Xa),R=[],O=0,L=ei.W(e,"Period"),U=0;U<L.length;U++){var D=L[U];O=ei.N(D,"start",ei.Xa,O);var j=ei.N(D,"duration",ei.Xa),F=null;if(U!=L.length-1){var B=ei.N(L[U+1],"start",ei.Xa);null!=B&&(F=B-O)}else null!=M&&(F=M-O);if(null==F&&(F=j),D=Ui(t,N,P,{start:O,duration:F,node:D,qd:null==F||U==L.length-1}),R.push(D),j=N.za.id,t.s.includes(j)||(t.s.push(j),t.c&&(t.b.filterNewPeriod(D),t.c.periods.push(D))),null==F){O=null;break}O+=F}if(null==t.c&&t.b.filterAllPeriods(R),null!=M?(i=R,a=M,o=!1):(i=R,a=O,o=!0),A=a,k=i,_.sc("static"==b),"static"!=b&&o||_.Na(A||1/0),_.V()&&!isNaN(t.a.availabilityWindowOverride)&&(y=t.a.availabilityWindowOverride),null==y&&(y=1/0),_.Qd(y),_.xd(g||1),t.c){r.B(0);break}if(t.c={presentationTimeline:_,periods:k,offlineSessionIds:[],minBufferTime:v||0},!_.cf()){r.B(0);break}return C=u.W(e,"UTCTiming"),x(r,function(t,e,n){n=n.map((function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}}));var r=t.a.dash.clockSyncUri;return!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),tn.uf(n,function(t){var n=t.scheme;switch(t=t.value,n){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return zi(this,e,t,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return zi(this,e,t,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return n=Date.parse(t),isNaN(n)?0:n-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return W("NTP UTCTiming scheme is not supported"),Promise.reject();default:return W("Unrecognized scheme in UTCTiming element",n),Promise.reject()}}.bind(t)).catch((function(){return W("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))}(t,d,C),4);case 4:if(I=r.A,!t.b)return r.return();_.Ue(I),S(r)}}))}))}(t,e,n)}))}(t,e.data,e.uri)})).then((function(){var n=(Date.now()-e)/1e3;return ft(t.w,1,n),n}))}function Ui(t,e,n,r){if(e.za=Bi(r.node,null,n),e.Z=r,e.za.id||(e.za.id="__shaka_period_"+r.start),ei.W(r.node,"EventStream").forEach(t.Fg.bind(t,r.start,r.duration)),n=ei.W(r.node,"AdaptationSet").map(t.Dg.bind(t,e)).filter(tn.bb),e.Db){e=[];for(var i=h(n),a=i.next();!a.done;a=i.next())for(var o=(a=h(a.value.Pg)).next();!o.done;o=a.next())e.push(o.value);if(e.length!=new Set(e).size)throw new Mt(2,4,4018)}var s=n.filter((function(t){return!t.Wd}));if(n.filter((function(t){return t.Wd})).forEach((function(t){var e=t.streams[0],n=t.Wd;s.forEach((function(t){t.id==n&&t.streams.forEach((function(t){t.trickModeVideo=e}))}))})),e=Di(s,"video"),i=Di(s,"audio"),!e.length&&!i.length)throw new Mt(2,4,4004);for(n=t.a.disableAudio,i.length&&!n||(i=[null]),n=t.a.disableVideo,e.length&&!n||(e=[null]),n=[],a=0;a<i.length;a++)for(o=0;o<e.length;o++)ji(t,i[a],e[o],n);if(e=[],!t.a.disableText)for(t=Di(s,"text"),i=0;i<t.length;i++)e.push.apply(e,t[i].streams);return{startTime:r.start,textStreams:e,variants:n}}function Di(t,e){return t.filter((function(t){return t.contentType==e}))}function ji(t,e,n,r){if(e||n)if(e&&n){var i=e.drmInfos,a=n.drmInfos;if(!i.length||!a.length||0<Ge(i,a).length){a=Ge(e.drmInfos,n.drmInfos);for(var o=0;o<e.streams.length;o++)for(var s=0;s<n.streams.length;s++)i=(n.streams[s].bandwidth||0)+(e.streams[o].bandwidth||0),i={id:t.j++,language:e.language,primary:e.td||n.td,audio:e.streams[o],video:n.streams[s],bandwidth:i,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}else for(a=e||n,o=0;o<a.streams.length;o++)i=a.streams[o].bandwidth||0,i={id:t.j++,language:a.language||"und",primary:a.td,audio:e?a.streams[o]:null,video:n?a.streams[o]:null,bandwidth:i,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Fi(t,e){0>t.v||t.l.R(Math.max(3,t.v-e,ht(t.w)))}function Bi(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,zd:null,audioSamplingRate:null},n=n||e.Ca;var r=ei.Qb,i=ei.wf,a=ei.W(t,"BaseURL").map(ei.Ec),o=t.getAttribute("contentType")||e.contentType,s=t.getAttribute("mimeType")||e.mimeType,u=t.getAttribute("codecs")||e.codecs;i=ei.N(t,"frameRate",i)||e.frameRate;for(var c=t.getAttribute("par")||e.pixelAspectRatio,l=ei.W(t,"InbandEventStream"),f=e.emsgSchemeIdUris.slice(),d=(l=h(l)).next();!d.done;d=l.next())d=d.value.getAttribute("schemeIdUri"),f.includes(d)||f.push(d);return l=function(t){for(var e=0;e<t.length;++e){var n=t[e],r=n.getAttribute("schemeIdUri");if(r&&(n=n.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(r=parseInt(n,10)))continue;return r;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(r=parseInt(n,16)){for(t=0;r;)1&r&&++t,r>>=1;return t}}}return null}(l=ei.W(t,"AudioChannelConfiguration"))||e.zd,d=ei.N(t,"audioSamplingRate",r)||e.audioSamplingRate,o||(o=Gi(s,u)),{Ca:en(n,a),pc:ei.Cc(t,"SegmentBase")||e.pc,gb:ei.Cc(t,"SegmentList")||e.gb,rc:ei.Cc(t,"SegmentTemplate")||e.rc,width:ei.N(t,"width",r)||e.width,height:ei.N(t,"height",r)||e.height,contentType:o,mimeType:s,codecs:u,frameRate:i,pixelAspectRatio:c,emsgSchemeIdUris:f,id:t.getAttribute("id"),zd:l,audioSamplingRate:d}}function zi(t,e,n,r){return(e=$t(e=en(e,[n]),t.a.retryParameters)).method=r,e=t.b.networkingEngine.request(4,e),qt(t.g,e),e.promise.then((function(t){if("HEAD"==r){if(!t.headers||!t.headers.date)return 0;t=t.headers.date}else t=ge(t.data);return t=Date.parse(t),isNaN(t)?0:t-Date.now()}))}function Gi(t,e){return Cn(se(t,e))?"text":t.split("/")[0]}function Vi(t,e,n,r){this.b=t,this.type=e,this.a=n,this.segments=r||null}function Ki(t,e,n,r){this.id=t,this.name=e,this.a=n,this.value=void 0===r?null:r}function Hi(t,e){this.name=t,this.value=e}function qi(t,e,n){return(t=t.getAttribute(e))?t.value:n||null}function Wi(t,e){this.b=e,this.a=t}V("shaka.media.ManifestParser.registerParserByExtension",Pi.Gd),Pi.Ub=function(t,e){Pi.Rb[t]=e},V("shaka.media.ManifestParser.registerParserByMime",Pi.Ub),Pi.Jg=function(){var t={};if(le()){for(var e in Pi.Rb)t[e]=!0;for(var n in Pi.mc)t[n]=!0}e={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var r=(n=h(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!r.done;r=n.next())t[r=r.value]=le()?!!Pi.Rb[r]:fe(r);for(var i in e)t[i]=le()?!!Pi.mc[i]:fe(e[i]);return t},Pi.create=function(t,e,n,r){return p((function i(){var a,o;return U(i,(function(i){switch(i.o){case 1:return A(i,2),x(i,Pi.If(t,e,n,r),4);case 4:return a=i.A,i.return(new a);case 2:throw(o=I(i)).severity=2,o}}))}))},Pi.If=function(t,e,n,r){return p((function i(){var a,o,s,u,c;return U(i,(function(i){switch(i.o){case 1:if(a=Pi,r&&(o=a.Rb[r.toLowerCase()]))return i.return(o);if((s=a.getExtension(t))&&(u=a.mc[s]))return i.return(u);if(r){i.B(2);break}return x(i,a.Tf(t,e,n),3);case 3:if((r=i.A)&&(c=Pi.Rb[r]))return i.return(c);case 2:throw new Mt(2,4,4e3,t)}}))}))},Pi.Tf=function(t,e,n){return p((function r(){var i,a,o;return U(r,(function(r){switch(r.o){case 1:return(i=$t([t],n)).method="HEAD",x(r,e.request(0,i).promise,2);case 2:return a=r.A,o=a.headers["content-type"],r.return(o?o.toLowerCase().split(";").shift():"")}}))}))},Pi.getExtension=function(t){return 1==(t=new vt(t).ya.split("/").pop().split(".")).length?"":t.pop().toLowerCase()},Pi.isSupported=function(t,e){return!!le()&&(e in Pi.Rb||Pi.getExtension(t)in Pi.mc)},V("shaka.media.PresentationTimeline",Mi),Mi.prototype.ka=function(){return this.g},Mi.prototype.getDuration=Mi.prototype.ka,Mi.prototype.Rf=function(){return this.a},Mi.prototype.getMaxSegmentDuration=Mi.prototype.Rf,Mi.prototype.Na=function(t){this.g=t},Mi.prototype.setDuration=Mi.prototype.Na,Mi.prototype.Wf=function(){return this.f},Mi.prototype.getPresentationStartTime=Mi.prototype.Wf,Mi.prototype.Ue=function(t){this.s=t},Mi.prototype.setClockOffset=Mi.prototype.Ue,Mi.prototype.sc=function(t){this.u=t},Mi.prototype.setStatic=Mi.prototype.sc,Mi.prototype.Qd=function(t){this.j=t},Mi.prototype.setSegmentAvailabilityDuration=Mi.prototype.Qd,Mi.prototype.Xg=function(t){this.Qc=t},Mi.prototype.setDelay=Mi.prototype.Xg,Mi.prototype.Gf=function(){return this.Qc},Mi.prototype.getDelay=Mi.prototype.Gf,Mi.prototype.Mb=function(t,e){if(0!=t.length){var n=t[t.length-1].endTime+e;this.yd(t[0].startTime+e),this.a=t.reduce((function(t,e){return Math.max(t,e.endTime-e.startTime)}),this.a),this.b=Math.max(this.b,n),null!=this.f&&this.v&&(this.f=(Date.now()+this.s)/1e3-this.b-this.a)}},Mi.prototype.notifySegments=Mi.prototype.Mb,Mi.prototype.yd=function(t){this.c=null==this.c?t:Math.min(this.c,t)},Mi.prototype.notifyMinSegmentStartTime=Mi.prototype.yd,Mi.prototype.xd=function(t){this.a=Math.max(this.a,t)},Mi.prototype.notifyMaxSegmentDuration=Mi.prototype.xd,Mi.prototype.offset=function(t){null!=this.c&&(this.c+=t),null!=this.b&&(this.b+=t)},Mi.prototype.offset=Mi.prototype.offset,Mi.prototype.V=function(){return 1/0==this.g&&!this.u},Mi.prototype.isLive=Mi.prototype.V,Mi.prototype.tb=function(){return 1/0!=this.g&&!this.u},Mi.prototype.isInProgress=Mi.prototype.tb,Mi.prototype.gc=function(){if(1/0==this.j)return this.l;var t=this.Gb()-this.j;return Math.max(this.l,t)},Mi.prototype.getSegmentAvailabilityStart=Mi.prototype.gc,Mi.prototype.Xe=function(t){this.l=t},Mi.prototype.setUserSeekStart=Mi.prototype.Xe,Mi.prototype.Gb=function(){return this.V()||this.tb()?Math.min(Math.max(0,(Date.now()+this.s)/1e3-this.a-this.f),this.g):this.g},Mi.prototype.getSegmentAvailabilityEnd=Mi.prototype.Gb,Mi.prototype.fc=function(t){var e=Math.max(this.c,this.l);if(1/0==this.j)return e;var n=this.Gb()-this.j;return t=Math.min(n+t,this.Va()),Math.max(e,t)},Mi.prototype.getSafeSeekRangeStart=Mi.prototype.fc,Mi.prototype.Fb=function(){return this.fc(0)},Mi.prototype.getSeekRangeStart=Mi.prototype.Fb,Mi.prototype.Va=function(){var t=this.V()||this.tb()?this.Qc:0;return Math.max(0,this.Gb()-t)},Mi.prototype.getSeekRangeEnd=Mi.prototype.Va,Mi.prototype.cf=function(){return null!=this.f&&null==this.b},Mi.prototype.usingPresentationStartTime=Mi.prototype.cf,V("shaka.dash.DashParser",Oi),(r=Oi.prototype).configure=function(t){this.a=t},r.start=function(t,e){var n=this;return p((function r(){var i;return U(r,(function(r){switch(r.o){case 1:return n.f=[t],n.b=e,x(r,Li(n),2);case 2:if(i=r.A,n.b&&Fi(n,i),!n.b)throw new Mt(2,7,7001);return r.return(n.c)}}))}))},r.stop=function(){return this.a=this.b=null,this.f=[],this.c=null,this.s=[],this.u={},null!=this.l&&(this.l.stop(),this.l=null),this.g.destroy()},r.update=function(){Li(this).catch(function(t){this.b&&this.b.onError(t)}.bind(this))},r.onExpirationUpdated=function(){},r.Dg=function(t,e){if(t.na=Bi(e,t.za,null),"image"==t.na.contentType)return null;var n=!1,r=ei.W(e,"Role"),i=r.map((function(t){return t.getAttribute("value")})).filter(tn.bb),a=void 0,o="text"==t.na.contentType;o&&(a="subtitle");for(var s=0;s<r.length;s++){var u=r[s].getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(u=r[s].getAttribute("value"),u){case"main":n=!0;break;case"caption":case"subtitle":a=u}}var c=null,l=!1;ei.W(e,"EssentialProperty").forEach((function(t){"http://dashif.org/guidelines/trickmode"==t.getAttribute("schemeIdUri")?c=t.getAttribute("value"):l=!0})),s=ei.W(e,"Accessibility");var f=new Map;for(r={},u=(s=h(s)).next();!u.done;r={bc:r.bc},u=s.next()){var d=u.value;u=d.getAttribute("schemeIdUri"),d=d.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==u||"urn:scte:dash:cc:cea-708:2015"==u?(r.bc=1,null!=d?d.split(";").forEach(function(t){return function(e){if(e.includes("=")){var n=(e=e.split("="))[0].startsWith("CC")?e[0]:"CC"+e[0];e=e[1].split(",")[0].split(":").pop()}else n="CC"+t.bc,t.bc+=2;f.set(n,et(e))}}(r)):f.set("CC1","und")):"urn:mpeg:dash:role:2011"==u&&null!=d&&(i.push(d),"captions"==d&&(a="caption"))}if(l)return null;var p=ri(r=ei.W(e,"ContentProtection"),this.a.dash.customScheme,this.a.dash.ignoreDrmInfo);if(r=et(e.getAttribute("lang")||"und"),s=e.getAttribute("label"),(u=ei.W(e,"Label"))&&u.length&&((u=u[0]).textContent&&(s=u.textContent)),0==(i=(u=ei.W(e,"Representation")).map(this.Gg.bind(this,t,p,a,r,s,n,i,f)).filter((function(t){return!!t}))).length){if(this.a.dash.ignoreEmptyAdaptationSet||o)return null;throw new Mt(2,4,4003)}return t.na.contentType&&"application"!=t.na.contentType||(t.na.contentType=Gi(i[0].mimeType,i[0].codecs),i.forEach((function(e){e.type=t.na.contentType}))),i.forEach((function(t){p.drmInfos.forEach((function(e){t.keyId&&e.keyIds.push(t.keyId)}))})),o=u.map((function(t){return t.getAttribute("id")})).filter(tn.bb),{id:t.na.id||"__fake__"+this.j++,contentType:t.na.contentType,language:r,td:n,streams:i,drmInfos:p.drmInfos,Wd:c,Pg:o}},r.Gg=function(t,e,n,r,i,a,o,s,u){if(t.G=Bi(u,t.na,null),!function(t){var e=t.pc?1:0;return e+=t.gb?1:0,0==(e+=t.rc?1:0)?"text"==t.contentType||"application"==t.contentType:(1!=e&&(t.pc&&(t.gb=null),t.rc=null),!0)}(t.G))return null;t.bandwidth=ei.N(u,"bandwidth",ei.Oc)||0;var c=t.G.contentType;c="text"==c||"application"==c;try{var l=this.Qg.bind(this);if(t.G.pc)var f=function(t,e){var n=Number(ci(t,Ai,"presentationTimeOffset"))||0,r=ci(t,Ai,"timescale"),i=1;r&&(i=ei.Oc(r)||1),n=n/i||0,r=xi(t,Ai);var a=t.G.contentType;if(i=t.G.mimeType.split("/")[1],"text"!=a&&"mp4"!=i&&"webm"!=i)throw new Mt(2,4,4006);if("webm"==i&&!r)throw new Mt(2,4,4005);a=li(t,Ai,"RepresentationIndex");var o=ci(t,Ai,"indexRange"),s=t.G.Ca;if(o=ei.Pc(o||""),a){var u=a.getAttribute("sourceURL");u&&(s=en(t.G.Ca,[u])),o=ei.N(a,"range",ei.Pc,o)}if(!o)throw new Mt(2,4,4002);return{createSegmentIndex:(i=Si(t,e,r,s,o.start,o.end,i,n)).createSegmentIndex,findSegmentPosition:i.findSegmentPosition,getSegmentReference:i.getSegmentReference,initSegmentReference:r,Ba:n}}(t,l);else if(t.G.gb)f=ki(t,this.u);else if(t.G.rc)f=Ii(t,l,this.u,!!this.c);else{var h=t.G.Ca,d=t.Z.duration||0;f={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0<=t&&t<d?1:null},getSegmentReference:function(t){return 1!=t?null:new di(1,0,d,(function(){return h}),0,null)},initSegmentReference:null,Ba:0}}}catch(t){if(c&&4002==t.code)return null;throw t}return u=function(t,e,n,r){var i=ri(t,e,r);if(n.ke)t=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,e=0==i.drmInfos.length,(0==n.drmInfos.length||t&&!e)&&(n.drmInfos=i.drmInfos),n.ke=!1;else if(0<i.drmInfos.length&&(n.drmInfos=n.drmInfos.filter((function(t){return i.drmInfos.some((function(e){return e.keySystem==t.keySystem}))})),0==n.drmInfos.length))throw new Mt(2,4,4008);return i.ge||n.ge}(u=ei.W(u,"ContentProtection"),this.a.dash.customScheme,e,this.a.dash.ignoreDrmInfo),{id:this.j++,originalId:t.G.id,createSegmentIndex:f.createSegmentIndex,findSegmentPosition:f.findSegmentPosition,getSegmentReference:f.getSegmentReference,initSegmentReference:f.initSegmentReference,presentationTimeOffset:f.Ba,mimeType:t.G.mimeType,codecs:t.G.codecs,frameRate:t.G.frameRate,pixelAspectRatio:t.G.pixelAspectRatio,bandwidth:t.bandwidth,width:t.G.width,height:t.G.height,kind:n,encrypted:0<e.drmInfos.length,keyId:u,language:r,label:i,type:t.na.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:t.G.emsgSchemeIdUris,roles:o,channelsCount:t.G.zd,audioSamplingRate:t.G.audioSamplingRate,closedCaptions:s}},r.Fg=function(t,e,n){var r=ei.Qb,i=n.getAttribute("schemeIdUri")||"",a=n.getAttribute("value")||"",o=ei.N(n,"timescale",r)||1;ei.W(n,"Event").forEach(function(n){var s=ei.N(n,"presentationTime",r)||0,u=ei.N(n,"duration",r)||0;u=(s=s/o+t)+u/o,null!=e&&(s=Math.min(s,t+e),u=Math.min(u,t+e)),n={schemeIdUri:i,value:a,startTime:s,endTime:u,id:n.getAttribute("id")||"",eventElement:n},this.b.onTimelineRegionAdded(n)}.bind(this))},r.Qg=function(t,e,n){return t=Ri(t,e,n,this.a.retryParameters),t=this.b.networkingEngine.request(1,t),qt(this.g,t),t.promise.then((function(t){return t.data}))},Pi.Gd("mpd",Oi),Pi.Ub("application/dash+xml",Oi),Pi.Ub("video/vnd.mpeg.dash.mpd",Oi),Ki.prototype.toString=function(){var t="#"+this.name,e=this.a?this.a.map((function(t){return t.name+"="+(isNaN(Number(t.value))?'"'+t.value+'"':t.value)})):[];return this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t},Ki.prototype.getAttribute=function(t){var e=this.a.filter((function(e){return e.name==t}));return e.length?e[0]:null};var Xi={Eb:function(t,e){return t.filter((function(t){return t.name==e}))},pb:function(t,e){var n=Xi.Eb(t,e);return n.length?n[0]:null},fd:function(t,e,n){return t.filter((function(t){var r=t.getAttribute("TYPE");return t=t.getAttribute("GROUP-ID"),r.value==e&&t.value==n}))},$c:function(t,e){return en([t],[e])[0]},pd:function(t){return/^#(?!EXT)/m.test(t)}};function Yi(t){this.b=t,this.a=0}function $i(t){Zi(t,/[ \t]+/gm)}function Zi(t,e){e.lastIndex=t.a;var n=e.exec(t.b);return n=null==n?null:{position:n.index,length:n[0].length,Tg:n},t.a==t.b.length||null==n||n.position!=t.a?null:(t.a+=n.length,n.Tg)}function Ji(t){return t.a==t.b.length?null:(t=Zi(t,/[^ \t\n]*/gm))?t[0]:null}function Qi(){this.a=0}function ta(t,e,n){var r=(e=(e=ge(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new Mt(2,4,4015);e=0;for(var i=1;i<r.length;i++)if(!Xi.pd(r[i])){var a=na(t,r[i]);if(--t.a,ra.includes(a.name)){e=1;break}"EXT-X-STREAM-INF"==a.name&&(i+=1)}for(i=[],a=1;a<r.length;)if(Xi.pd(r[a]))a+=1;else{var o=na(t,r[a]);if(ia.includes(o.name)){if(1!=e)throw new Mt(2,4,4017);return new Vi(n,e,i,t=ea(t,n,r=r.splice(a,r.length-a),i))}i.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new Hi("URI",r[a])),a+=1)}return new Vi(n,e,i)}function ea(t,e,n,r){var i=[],a=[];return n.forEach((function(n){if(/^(#EXT)/.test(n))n=na(t,n),ra.includes(n.name)?r.push(n):a.push(n);else{if(Xi.pd(n))return[];n=Xi.$c(e,n.trim()),i.push(new Wi(n,a)),a=[]}})),i}function na(t,e){var n=t.a++,r=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new Mt(2,4,4016,e);var i,a=r[1],o=r[2];if(r=[],o){var s;(s=Zi(o=new Yi(o),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=Zi(o,u);)r.push(new Hi(s[1],s[2]||s[3]))}return new Ki(n,a,r,i)}var ra="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),ia="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function aa(t){try{var e=aa.parse(t);return Dt({uri:t,Dd:t,data:e.data,headers:{"content-type":e.contentType}})}catch(t){return Lt(t)}}function oa(){var t=this;this.a=this.f=null,this.Y=1,this.F=new Map,this.M=new Set,this.b=new Map,this.c=null,this.w="",this.v=new Qi,this.L=0,this.j=new It((function(){!function(t){p((function e(){var n,r;return U(e,(function(e){switch(e.o){case 1:return t.f?(A(e,2),x(e,t.update(),4)):e.return();case 4:n=t.L,t.j.R(n),C(e,0);break;case 2:if(r=I(e),!t.f)return e.return();r.severity=1,t.f.onError(r),t.j.R(.1),S(e)}}))}))}(t)})),this.g=Aa,this.u=null,this.D=0,this.H=1/0,this.l=new Ht,this.I=[],this.s=new Map,this.U=!1}function sa(t,e){return p((function n(){var r,i,a,o,s,u,c,l,f,h;return U(n,(function(n){switch(n.o){case 1:return r=Xi,i=ka,a=e.nf,x(n,xa(t,$t([a],t.a.retryParameters),0),2);case 2:if(o=n.A,1!=(s=ta(t.v,o.data,o.uri)).type)throw new Mt(2,4,4017);return c=(u=r.pb(s.a,"EXT-X-MEDIA-SEQUENCE"))?Number(u.value):0,l=e.stream,x(n,va(t,e.Vc,s,c,l.mimeType,l.codecs),3);case 3:f=n.A,e.qc.a=f,h=f[f.length-1],r.pb(s.a,"EXT-X-ENDLIST")&&(Ta(t,i.kb),t.c.Na(h.endTime)),S(n)}}))}))}function ua(t){t.forEach((function(t){if(t){var e=t.stream.codecs.split(",");e=e.filter((function(t){return"mp4a.40.34"!=t})),t.stream.codecs=e.join(",")}}))}function ca(t,e,n,r,i){return{id:t.Y++,language:e?e.language:"und",primary:!!e&&e.primary||!!n&&n.primary,audio:e,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function la(t,e,n){return p((function r(){var i,a,o,s,u,c,l,f,h;return U(r,(function(r){switch(r.o){case 1:if(i=ga(e,"URI"),t.b.has(i))return r.return(t.b.get(i));if(a=ga(e,"TYPE").toLowerCase(),o=rn,"subtitles"==a&&(a=o.Ha),s=et(qi(e,"LANGUAGE","und")),u=qi(e,"NAME"),c=e.getAttribute("DEFAULT"),l=e.getAttribute("AUTOSELECT"),f=qi(e,"CHANNELS"),"audio"==a)if(f){var d=f.split("/")[0];d=parseInt(d,10)}else d=null;else d=null;return x(r,fa(t,i,n,a,s,!!c||!!l,u,d,null),2);case 2:return h=r.A,t.b.has(i)?r.return(t.b.get(i)):null==h?r.return(null):(t.F.set(e.id,h),t.b.set(i,h),r.return(h))}}))}))}function fa(t,e,n,r,i,a,o,s,u){return p((function c(){var l,f,d,v,m,y,g,b,w,E,_,T,S,k,N,P,M,R,O,L,D,j,F,B,z,G;return U(c,(function(c){switch(c.o){case 1:return f=(l=Xi).$c(t.w,e),x(c,xa(t,$t([f],t.a.retryParameters),0),2);case 2:if(d=c.A,f=d.uri,1!=(v=ta(t.v,d.data,f)).type)throw new Mt(2,4,4017);m=[],v.segments.forEach((function(t){t=l.Eb(t.b,"EXT-X-KEY"),m.push.apply(m,t)})),y=!1,g=[],b=null;for(var V=h(m),K=V.next();!K.done;K=V.next())if(w=K.value,"NONE"!=(E=ga(w,"METHOD"))){if(y=!0,"AES-128"==E)return t.U=!0,c.return(null);_=ga(w,"KEYFORMAT"),(S=(T=Sa[_])?T(w):null)&&(S.keyIds.length&&(b=S.keyIds[0]),g.push(S))}if(y&&!g.length)throw new Mt(2,4,4026);return function(t,e){var n=ka,r=Xi.pb(e.a,"EXT-X-PLAYLIST-TYPE"),i=Xi.pb(e.a,"EXT-X-ENDLIST");i=r&&"VOD"==r.value||i,r=r&&"EVENT"==r.value&&!i,r=!i&&!r,i?Ta(t,n.kb):(Ta(t,r?n.$d:n.gf),n=ba(e.a,"EXT-X-TARGETDURATION"),n=Number(n.value),t.D=Math.max(n,t.D),t.H=Math.min(n,t.H))}(t,v),k=function(t,e){if(1==e.length)return e[0];var n=ya(t,e);if(null!=n)return n;throw new Mt(2,4,4025,e)}(r,n),x(c,function(t,e,n,r){return p((function i(){var a,o,s,u,c,l,f,h,d;return U(i,(function(i){switch(i.o){case 1:return a=rn,o=r.segments[0].a,s=new vt(o),u=s.ya.split(".").pop(),c=_a[e],(l=c[u])?i.return(l):e==a.Ha?n&&"vtt"!=n?i.return("application/mp4"):i.return("text/vtt"):((f=$t([o],t.a.retryParameters)).method="HEAD",x(i,xa(t,f,1),2));case 2:if(h=i.A,!(d=h.headers["content-type"]))throw new Mt(2,4,4021,u);return i.return(d.split(";")[0])}}))}))}(t,r,k,v),3);case 3:return N=c.A,Ea.includes(N)&&(k=""),M=(P=l.pb(v.a,"EXT-X-MEDIA-SEQUENCE"))?Number(P.value):0,A(c,4),x(c,va(t,e,v,M,N,k),6);case 6:R=c.A,C(c,5);break;case 4:if(4035==(O=I(c)).code)return W("Skipping unsupported HLS stream",N,e),c.return(null);throw O;case 5:return L=R[0].startTime,D=R[R.length-1].endTime,j=D-L,F=new vi(R),B=ha(v),z=void 0,"text"==r&&(z="subtitle"),G={id:t.Y++,originalId:o,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:F.find.bind(F),getSegmentReference:F.get.bind(F),initSegmentReference:B,presentationTimeOffset:0,mimeType:N,codecs:k,kind:z,encrypted:y,keyId:b,language:i,label:o,type:r,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s,audioSamplingRate:null,closedCaptions:u},c.return({stream:G,qc:F,drmInfos:g,Vc:e,nf:f,wd:L,wh:D,duration:j})}}))}))}function ha(t){var e=Xi.Eb(t.a,"EXT-X-MAP");if(!e.length)return null;if(1<e.length)throw new Mt(2,4,4020);var n=ga(e=e[0],"URI"),r=Xi.$c(t.b,n);return t=0,n=null,(e=qi(e,"BYTERANGE"))&&(t=e.split("@"),e=Number(t[0]),n=(t=Number(t[1]))+e-1),new hi((function(){return[r]}),t,n)}function da(t,e,n,r){var i=e.b,a=e.a;e=ba(i,"EXTINF").value.split(","),e=r+Number(e[0]);var o=0,s=null;return(i=Xi.pb(i,"EXT-X-BYTERANGE"))&&(o=i.value.split("@"),i=Number(o[0]),s=(o=o[1]?Number(o[1]):t.a+1)+i-1),new di(n,r,e,(function(){return[a]}),o,s)}function pa(t){t.c&&(t.I.forEach((function(e){t.c.Mb(e,0)})),t.I=[])}function va(t,e,n,r,i,a){return p((function o(){var s,u,c,l,f,h,d,v,m,y;return U(o,(function(o){switch(o.o){case 1:return s=n.segments,u=[],c=s[0].a,l=da(null,s[0],r,0),f=ha(n),x(o,function(t,e,n,r,i,a){return p((function o(){var s,u,c,l,f,h,d,p,v;return U(o,(function(o){switch(o.o){case 1:if(t.u&&(s=t.b.get(e),u=s.qc,c=u.get(r.position)))return o.return(c.startTime);if(Ea.includes(i))throw W("Raw formats are not yet supported.  Skipping "+i),new Mt(1,4,4035);if("video/webm"==i)throw W("WebM in HLS is not yet supported.  Skipping."),new Mt(1,4,4035);if("video/mp4"!=i&&"audio/mp4"!=i){o.B(2);break}return l=[ma(t,r)],n&&l.push(ma(t,n)),x(o,Promise.all(l),3);case 3:return f=o.A,h=f[0],d=f[1]||f[0],o.return(function(t,e,n,r){var i=0;if((new Xr).K("moov",Yr).K("trak",Yr).K("mdia",Yr).va("mdhd",(function(t){t.reader.S(0==t.version?8:16),i=t.reader.J(),t.parser.stop()})).parse(r,!0),!i)throw new Mt(2,4,4030,t,e);var a=0,o=!1;if((new Xr).K("moof",Yr).K("traf",Yr).va("tfdt",(function(t){a=(0==t.version?t.reader.J():t.reader.Tb())/i,o=!0,t.parser.stop()})).parse(n,!0),!o)throw new Mt(2,4,4030,t,e);return a}(e,h.uri,h.data,d.data));case 2:if("video/mp2t"!=i){o.B(4);break}return x(o,ma(t,r),5);case 5:return p=o.A,o.return(function(t,e,n){function r(){throw new Mt(2,4,4030,t,e)}n=new Hr(new DataView(n),0);for(var i=0,a=0;;){if(i=n.qa(),71!=(a=n.Aa())&&r(),16384&n.nc()||r(),0!=(a=(48&n.Aa())>>4)&&2!=a||r(),3==a&&(a=n.Aa(),n.S(a)),1==n.J()>>8)return n.S(3),0!=(i=n.Aa()>>6)&&1!=i||r(),0==n.Aa()&&r(),i=n.Aa(),a=n.nc(),n=n.nc(),(1073741824*((14&i)>>1)+((65534&a)<<14|(65534&n)>>1))/9e4;n.seek(i+188),71!=(a=n.Aa())&&(n.seek(i+192),a=n.Aa()),71!=a&&(n.seek(i+204),a=n.Aa()),71!=a&&r(),n.Oe(1)}}(e,p.uri,p.data));case 4:if("application/mp4"!=i&&!i.startsWith("text/")){o.B(6);break}return x(o,ma(t,r),7);case 7:return v=o.A,o.return(function(t,e,n){return Cn(t=se(t,e))?(In(e=new An(null),t),e.md(n)):0}(i,a,v.data));case 6:throw new Mt(2,4,4030,e)}}))}))}(t,e,f,l,i,a),2);case 2:h=o.A,c.split("/").pop();for(var g=0;g<s.length;++g)d=s[g],v=u[u.length-1],m=0==g?h:v.endTime,y=da(v,d,r+g,m),u.push(y);return t.I.push(u),pa(t),o.return(u)}}))}))}function ma(t,e){return p((function n(){var r,i,a,o,s,u;return U(n,(function(n){switch(n.o){case 1:return r=1,i=Ri(e.c(),e.b,e.b+2048-1,t.a.retryParameters),a=Ri(e.c(),e.b,e.a,t.a.retryParameters),A(n,2),x(n,xa(t,i,r),4);case 4:return o=n.A,n.return(o);case 2:if(7001==(s=I(n)).code)throw s;return W("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),x(n,xa(t,a,r),5);case 5:return u=n.A,n.return(u)}}))}))}function ya(t,e){for(var n=wa[t],r=0;r<n.length;r++)for(var i=0;i<e.length;i++)if(n[r].test(e[i].trim()))return e[i].trim();return"text"==t?"":null}function ga(t,e){var n=t.getAttribute(e);if(!n)throw new Mt(2,4,4023,e);return n.value}function ba(t,e){var n=Xi.pb(t,e);if(!n)throw new Mt(2,4,4024,e);return n}V("shaka.net.DataUriPlugin",aa),aa.parse=function(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw new Mt(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw new Mt(2,1,1004,e);var r=n[0];n=t.decodeURIComponent(n.slice(1).join(","));var i=null;if(1<(r=r.split(";")).length&&(i=r[1]),"base64"==i)e=Se.Ta(n).buffer;else{if(i)throw new Mt(2,1,1005,e);e=Ee(n)}return{data:e,contentType:r[0]}},Yt("data",aa),V("shaka.hls.HlsParser",oa),(r=oa.prototype).configure=function(t){this.a=t},r.start=function(t,e){var n=this;return p((function r(){var i,a;return U(r,(function(r){switch(r.o){case 1:return n.f=e,x(r,xa(n,$t([t],n.a.retryParameters),0),2);case 2:return i=r.A,n.w=i.uri,x(r,function(t,e){return p((function n(){var r,i,a,o,s,u,c,l,f,d,v;return U(n,(function(n){switch(n.o){case 1:if(0!=(r=ta(t.v,e,t.w)).type)throw new Mt(2,4,4022);return x(n,function(t,e){return p((function n(){var r,i,a,o,s,u,c,l,f,d,v,m;return U(n,(function(n){switch(n.o){case 1:return r=Xi,i=tn,a=e.a,o=r.Eb(e.a,"EXT-X-MEDIA"),s=o.filter(function(t){return"SUBTITLES"==ga(t,"TYPE")}.bind(t)),u=s.map(function(t){var e=this;return p((function n(){var r;return U(n,(function(n){switch(n.o){case 1:return e.a.disableText?n.return(null):(A(n,2),x(n,function(t,e){return p((function n(){var r;return U(n,(function(n){switch(n.o){case 1:return ga(e,"TYPE"),x(n,la(t,e,[]),2);case 2:return r=n.A,n.return(r.stream)}}))}))}(e,t),4));case 4:return n.return(n.A);case 2:if(r=I(n),e.a.hls.ignoreTextStreamFailures)return n.return(null);throw r}}))}))}.bind(t)),c=o.filter((function(t){return"CLOSED-CAPTIONS"==ga(t,"TYPE")})),function(t,e){for(var n=h(e),r=n.next();!r.done;r=n.next()){ga(r=r.value,"TYPE");var i=qi(r,"LANGUAGE")||"und";i=et(i);var a=ga(r,"GROUP-ID");r=ga(r,"INSTREAM-ID"),t.s.get(a)||t.s.set(a,new Map),t.s.get(a).set(r,i)}}(t,c),x(n,Promise.all(u),2);case 2:return l=n.A,f=r.Eb(a,"EXT-X-STREAM-INF"),d=f.map(function(t){return function(t,e,n){return p((function r(){var i,a,o,s,u,c,l,f,d,v,m,y,g,b,w,E,_,T,S,A,k,C,I,N,P,M,R;return U(r,(function(r){switch(r.o){case 1:return i=rn,a=Xi,o=qi(e,"CODECS","avc1.42E01E,mp4a.40.2"),s=function(t){for(var e=new Set,n=[],r=(t=h(t)).next();!r.done;r=t.next()){var i=ue(r=r.value)[0];e.has(i)||(n.push(r),e.add(i))}return n}(o.split(/\s*,\s*/)),u=e.getAttribute("RESOLUTION"),l=c=null,f=qi(e,"FRAME-RATE"),d=Number(ga(e,"BANDWIDTH")),u&&(v=u.value.split("x"),c=v[0],l=v[1]),m=(m=(m=a.Eb(n.a,"EXT-X-MEDIA")).filter((function(t){return"CLOSED-CAPTIONS"!=ga(t,"TYPE")}))).filter((function(t){var e=qi(t,"URI")||"";return"SUBTITLES"==(qi(t,"TYPE")||"")||""!=e})),y=qi(e,"AUDIO"),g=qi(e,"VIDEO"),y?m=a.fd(m,"AUDIO",y):g&&(m=a.fd(m,"VIDEO",g)),(b=ya(i.Ha,s))&&((w=qi(e,"SUBTITLES"))&&((E=a.fd(m,"SUBTITLES",w)).length&&(_=t.F.get(E[0].id))&&(_.stream.codecs=b)),Vt(s,b)),T=m.map(function(t){return la(this,t,s)}.bind(t)),S=[],A=[],x(r,Promise.all(T),2);case 2:if(C=(C=r.A).filter((function(t){return null!=t})),y?S=C:g&&(A=C),N=!1,S.length||A.length?S.length?(M=ga(e,"URI"),R=S[0].Vc,M==R?(I=i.Yb,N=!0):I=i.jb):I=i.Yb:1==s.length?(P=ya(i.jb,s),I=u||f||P?i.jb:i.Yb):(I=i.jb,s=[s.join(",")]),N){r.B(3);break}return x(r,function(t,e,n,r){return p((function i(){var a,o,s,u,c;return U(i,(function(i){switch(i.o){case 1:return a=rn,o=ga(e,"URI"),t.b.has(o)?i.return(t.b.get(o)):(s=qi(e,"CLOSED-CAPTIONS"),u=null,r==a.jb&&s&&"NONE"!=s&&(u=t.s.get(s)),x(i,fa(t,o,n,r,"und",!1,null,null,u),2));case 2:return null==(c=i.A)?i.return(null):t.b.has(o)?i.return(t.b.get(o)):(t.b.set(o,c),i.return(c))}}))}))}(t,e,s,I),4);case 4:k=r.A;case 3:if(k)k.stream.type==i.Yb?S=[k]:A=[k];else if(null===k)return r.return([]);return A&&ua(A),S&&ua(S),r.return(function(t,e,n,r,i,a,o){n.forEach(function(t){(t=t.stream)&&(t.width=Number(i)||void 0,t.height=Number(a)||void 0,t.frameRate=Number(o)||void 0)}.bind(t));var s=!!t.a&&t.a.disableAudio;e.length&&!s||(e=[null]);s=!!t.a&&t.a.disableVideo,(!n.length||s)&&(n=[null]);s=[];for(var u=(e=h(e)).next();!u.done;u=e.next()){u=u.value;for(var c=h(n),l=c.next();!l.done;l=c.next()){var f=l.value;l=u?u.stream:null;var d=f?f.stream:null,p=u?u.drmInfos:null,v=f?f.drmInfos:null;f=(f?f.Vc:"")+" - "+(u?u.Vc:"");var m=void 0;if(l&&d){if(p.length&&v.length&&!(0<Ge(p,v).length))continue;m=Ge(p,v)}else l?m=p:d&&(m=v);t.M.has(f)||(l=ca(t,l,d,r,m),s.push(l),t.M.add(f))}}return s}(t,S,A,d,c,l,f))}}))}))}(this,t,e)}.bind(t)),x(n,Promise.all(d),3);case 3:return v=n.A,m=(m=v.reduce(i.Zc,[])).filter((function(t){return null!=t})),n.return({startTime:0,variants:m,textStreams:l.filter((function(t){return null!=t}))})}}))}))}(t,r),2);case 2:if(i=n.A,!t.f)throw new Mt(2,7,7001);if(t.U&&0==i.variants.length)throw new Mt(2,4,4034);t.f.filterAllPeriods([i]),a=1/0,o=0,s=1/0;for(var m=h(t.b.values()),y=m.next();!y.done;y=m.next())u=y.value,a=Math.min(a,u.wd),o=Math.max(o,u.wd),"text"!=u.stream.type&&(s=Math.min(s,u.duration));if(t.g!=ka.kb?(t.c=new Mi(0,3*t.D),t.c.sc(!1)):(t.c=new Mi(null,0),t.c.sc(!0)),pa(t),t.g!=ka.kb){for(t.L=t.H,c=ka,t.g==c.$d&&(l=t.c.Qc,isNaN(t.a.availabilityWindowOverride)||(l=t.a.availabilityWindowOverride),t.c.Qd(l)),f=0;95443.7176888889<=o;)f+=95443.7176888889,o-=95443.7176888889;if(f)for(y=(m=h(t.b.values())).next();!y.done;y=m.next())95443.7176888889>(d=y.value).wd&&(d.stream.presentationTimeOffset=-f,d.qc.offset(f))}else for(t.c.Na(s),t.c.offset(-a),y=(m=h(t.b.values())).next();!y.done;y=m.next())(v=y.value).stream.presentationTimeOffset=a,v.qc.offset(-a),mi(v.qc,s);t.u={presentationTimeline:t.c,periods:[i],offlineSessionIds:[],minBufferTime:0},S(n)}}))}))}(n,i.data),3);case 3:return 0<(a=n.L)&&n.j.R(a),r.return(n.u)}}))}))},r.stop=function(){this.j&&(this.j.stop(),this.j=null);var t=[];return this.l&&(t.push(this.l.destroy()),this.l=null),this.a=this.f=null,this.F.clear(),this.M.clear(),this.b.clear(),this.u=null,Promise.all(t)},r.update=function(){if(this.g!=ka.kb){for(var t=[],e=h(this.b.values()),n=e.next();!n.done;n=e.next())t.push(sa(this,n.value));return Promise.all(t)}},r.onExpirationUpdated=function(){};var wa={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Ea=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],_a={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function Ta(t,e){t.g=e,t.c&&t.c.sc(t.g==ka.kb),t.g!=ka.kb||t.j.stop()}function xa(t,e,n){if(!t.l)throw new Mt(2,7,7001);return e=t.f.networkingEngine.request(n,e),qt(t.l,e),e.promise}var Sa={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=ga(t,"METHOD");return ur("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227"),["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].includes(e)?(e=ga(t,"URI"),e=aa.parse(e),e=nn("com.widevine.alpha",[{initDataType:"cenc",initData:e=new Uint8Array(e.data)}]),(t=qi(t,"KEYID"))&&(e.keyIds=[t.substr(2).toLowerCase()]),e):null}},Aa="VOD",ka={kb:Aa,gf:"EVENT",$d:"LIVE"};function Ca(){this.a=new Map}function Ia(t,e,n){Na(t,e).text=n}function Na(t,e){return t.a.has(e)||t.a.set(e,new Pa),t.a.get(e)}function Pa(){this.text=this.variant=null}function Ma(t,e){this.a=t,this.b=new Set([t]);for(var n=h(e=e||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function Ra(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var r=e.audio;n=!(n.channelsCount==r.channelsCount&&Oa(n,r)&&La(n.roles,r.roles))}return!n&&(n=t.video&&e.video)&&(n=!(Oa(n=t.video,r=e.video)&&La(n.roles,r.roles))),!n}function Oa(t,e){if(t.mimeType!=e.mimeType)return!1;var n=t.codecs.split(",").map((function(t){return ue(t)[0]})),r=e.codecs.split(",").map((function(t){return ue(t)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function La(t,e){var n=new Set(t),r=new Set(e);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=h(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function Ua(t){this.a=t,this.b=new Da(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0,"")}function Da(t,e,n,r,i){this.f=t,this.c=e,this.a=n,this.b=void 0===r?"":r,this.g=void 0===i?"":i}function ja(){this.a=za,this.b=(new Map).set(za,2).set(Ba,1)}function Fa(t,e,n){t.b.set(za,n).set(Ba,e)}Pi.Gd("m3u8",oa),Pi.Ub("application/x-mpegurl",oa),Pi.Ub("application/vnd.apple.mpegurl",oa),Ma.prototype.add=function(t){return!!Ra(this.a,t)&&(this.b.add(t),!0)},Ma.prototype.values=function(){return this.b.values()},Ua.prototype.create=function(t){var e=this,n=t.filter((function(t){return Ra(e.a,t)}));return n.length?new Ma(n[0],n):this.b.create(t)},Da.prototype.create=function(t){var e=[];e=function(t,e){var n=it(et(e),t.map((function(t){return rt(t)})));return n?t.filter((function(t){return n==rt(t)})):[]}(t,this.f);var n=t.filter((function(t){return t.primary}));for(e=e.length?e:n.length?n:t,this.c&&((t=function(t,e,n){return t.filter((function(t){if(n){var r=t[n];return r&&r.roles.includes(e)}return r=t.audio,t=t.video,r&&0<=r.roles.indexOf(e)||t&&0<=t.roles.indexOf(e)}))}(e,this.c,this.g)).length&&(e=t)),this.a&&((t=er(e,this.a)).length&&(e=t)),this.b&&((t=function(t,e){return t.filter((function(t){return!!t.audio&&t.audio.label.toLowerCase()==e.toLowerCase()}))}(e,this.b)).length&&(e=t)),t=new Ma(e[0]),n=(e=h(e)).next();!n.done;n=e.next())n=n.value,Ra(t.a,n)&&t.add(n);return t};var Ba=0,za=1;function Ga(t,e){this.g=t,this.j=Ka(t),this.a=t.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.l=e,this.c=function(){}}function Va(t){this.a=t}function Ka(t){if(t.a.paused||0==t.a.playbackRate||null==t.a.buffered)var e=!1;else t:{e=t.a.buffered,t=t.a.currentTime;for(var n=0;n<e.length;n++){var r=e.start(n),i=e.end(n);if(!(t<r||t>i-.5)){e=!0;break t}}e=!1}return e}function Ha(t,e,n,r,i){var a=this;this.a=t,this.w=e,this.v=n,this.s=i,this.f=new te,this.l=!1,this.u=t.readyState,this.c=!1,this.b=r,this.j=!1,this.f.m(t,"waiting",(function(){return qa(a)})),this.g=new It((function(){qa(a)})).Oa(.25)}function qa(t){if(0!=t.a.readyState){if(t.a.seeking){if(!t.l)return}else t.l=!1;if(!t.a.paused){t.a.readyState!=t.u&&(t.c=!1,t.u=t.a.readyState);var e=t.v.smallGapLimit,n=t.a.currentTime,r=t.a.buffered;t:{if(r&&r.length&&!(1==r.length&&1e-6>r.end(0)-r.start(0)))for(var i=pe("Edge/")||pe("Trident/")||pe("Tizen")||pe("CrKey")?.5:.1,a=0;a<r.length;a++)if(r.start(a)>n&&(0==a||r.end(a-1)-n<=i)){i=a;break t}i=null}if(null==i)t.b&&(n=Ka(r=(t=t.b).g),i=r.a.currentTime,a=Date.now()/1e3,t.a==i&&t.j==n||(t.f=a,t.a=i,t.j=n,t.b=!1),(i=a-t.f)>=t.l&&n&&!t.b&&(t.c(t.a,i),t.b=!0,t.a=r.a.currentTime));else if(0!=i||t.j){a=r.start(i);var o=t.w.Va();if(!(a>=o)){e=(o=a-n)<=e;var s=!1;.001>o||(e||t.c||(t.c=!0,(n=new H("largegap",{currentTime:n,gapSize:o})).cancelable=!0,t.s(n),t.v.jumpLargeGaps&&!n.defaultPrevented&&(s=!0)),!e&&!s)||(0!=i&&r.end(i-1),t.a.currentTime=a)}}}}}function Wa(t){var e=this;this.c=t,this.a=new Set,this.b=new It((function(){Xa(e,!1)})).Oa(.25)}function Xa(t,e){for(var n=h(t.a),r=n.next();!r.done;r=n.next())r.value.g(t.c.currentTime,e)}function Ya(t){for(var e=[],n=(t=h(t)).next();!n.done;n=t.next())for(var r=(n=h(n.value.variants)).next();!r.done;r=n.next())e.push(r.value);return e}function $a(t,e){for(var n=null,r=h(t),i=r.next();!i.done;i=r.next())e>=(i=i.value).startTime&&(n=i);return n}function Za(t){this.c=t,this.a=null,this.b=function(){}}function Ja(t){var e=this;this.a=t,this.f=!1,this.c=this.a.Fc(),this.b=new It((function(){e.a.se(.25*e.c)}))}function Qa(t){t.b.stop();var e=t.f?0:t.c;if(0<=e)try{return void(t.a.Fc()!=e&&t.a.Od(e))}catch(t){}t.b.Oa(.25),0!=t.a.Fc()&&t.a.Od(0)}function to(t,e,n){this.a=t,this.f=e,this.g=n,this.j=!1,this.b=new te,this.c=new ao(t),0<t.readyState?ro(this,n):no(this,n)}function eo(t){return t.j?t.a.currentTime:t.g}function no(t,e){t.g=e,t.b.ra(t.a,"loadedmetadata"),t.b.sa(t.a,"loadedmetadata",(function(){ro(t,e)}))}function ro(t,e){.001>Math.abs(t.a.currentTime-e)?io(t):(t.b.sa(t.a,"seeking",(function(){io(t)})),oo(t.c,0==t.a.currentTime?e:t.a.currentTime))}function io(t){t.j=!0,t.b.m(t.a,"seeking",(function(){return t.f()}))}function ao(t){var e=this;this.b=t,this.j=10,this.g=this.f=this.c=0,this.a=new It((function(){0>=e.c?e.a.stop():e.b.currentTime!=e.f?e.a.stop():(e.b.currentTime=e.g,e.c--)}))}function oo(t,e){t.f=t.b.currentTime,t.g=e,t.c=t.j,t.b.currentTime=e,t.a.Oa(.1)}function so(t){function e(){null==n.c?n.f=!0:(n.b.sa(n.a,"seeking",(function(){n.f=!0})),n.a.currentTime=Math.max(0,n.a.currentTime+n.c))}var n=this;this.a=t,this.f=!1,this.c=null,this.b=new te,0==this.a.readyState?this.b.sa(this.a,"loadeddata",e):e()}function uo(t,e,n,r,i,a){var o=this;this.b=t,this.a=e.presentationTimeline,this.D=e.minBufferTime||0,this.g=n,this.w=i,this.s=null,this.f=new Ha(t,e.presentationTimeline,n,function(t,e){if(!e.stallEnabled)return null;var n=e.stallSkip,r=new Ga(new Va(t),e.stallThreshold);return function(t,e){t.c=e}(r,(function(){t.currentTime+=n})),r}(t,n),a),this.c=new to(t,(function(){var t=o.f;t.l=!0,t.j=!1,t.c=!1;var e=eo(o.c);return t=lo(o,e),.001<Math.abs(t-e)&&(e=(new Date).getTime()/1e3,!o.s||o.s<e-1)?(o.s=e,0<(e=o.c).a.readyState?oo(e.c,t):no(e,t),t=void 0):(o.w(),t=void 0),t}),function(t,e){return null==e?e=1/0>t.a.ka()?t.a.Fb():t.a.Va():0>e&&(e=t.a.Va()+e),co(t,fo(t,e))}(this,r)),this.l=new It((function(){if(0!=o.b.readyState&&!o.b.paused){var t=o.b.currentTime,e=o.a.Fb(),n=o.a.Va();3>n-e&&(e=n-3),t<e&&(t=lo(o,t),o.b.currentTime=t)}})).Oa(.25)}function co(t,e){var n=t.a.ka();return e>=n?n-t.g.durationBackoff:e}function lo(t,e){var n=Ze.bind(null,t.b.buffered),r=Math.max(t.D,t.g.rebufferingGoal),i=t.g.safeSeekOffset,a=t.a.Fb(),o=t.a.Va(),s=t.a.ka();3>o-a&&(a=o-3);var u=t.a.fc(r),c=t.a.fc(i);return r=t.a.fc(r+i),e>=s?co(t,e):e>o?o:e<a?n(c)?c:r:e>=u||n(e)?e:r}function fo(t,e){var n=t.a.Fb();return e<n?n:e>(n=t.a.Va())?n:e}function ho(){this.b=function(){},this.a=new Set}function po(t){var e=this;this.j=t,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.l=[{Ab:null,zb:mo,sb:function(t,n){return e.a(t,n)}},{Ab:vo,zb:mo,sb:function(t,n){return e.a(t,n)}},{Ab:yo,zb:mo,sb:function(t,n){return e.a(t,n)}},{Ab:mo,zb:vo,sb:function(t,n){return e.b(t,n)}},{Ab:mo,zb:yo,sb:function(t,n){return e.b(t,n)}},{Ab:vo,zb:yo,sb:function(t,n){return e.c(t,n)}},{Ab:yo,zb:vo,sb:function(t,n){return e.c(t,n)}}]}Ga.prototype.release=function(){this.g=null,this.c=function(){}},Ha.prototype.release=function(){this.f&&(this.f.release(),this.f=null),null!=this.g&&(this.g.stop(),this.g=null),this.b&&(this.b.release(),this.b=null),this.a=this.w=this.s=null},Ha.prototype.Bd=function(){this.j=!0,qa(this)},Wa.prototype.release=function(){this.b.stop();for(var t=h(this.a),e=t.next();!e.done;e=t.next())e.value.release();this.a.clear()},Za.prototype.release=function(){this.a=this.c=null,this.b=function(){}},Za.prototype.g=function(t){var e=this.a,n=this.c.periods;e!=(t=$a(n,t)||n[0])&&this.b(t),this.a=t},Ja.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},Ja.prototype.set=function(t){this.c=t,Qa(this)},to.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.f=function(){},this.a=null},ao.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},so.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},so.prototype.u=function(t){this.c=this.f?this.c:t},so.prototype.j=function(){return(this.f?this.a.currentTime:this.c)||0},so.prototype.v=function(){},uo.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.f&&(this.f.release(),this.f=null),this.l&&(this.l.stop(),this.l=null),this.b=this.c=this.a=this.g=null,this.w=function(){}},uo.prototype.u=function(t){var e=this.c;0<e.a.readyState?oo(e.c,t):no(e,t)},uo.prototype.j=function(){var t=eo(this.c);return 0<this.b.readyState&&!this.b.paused?fo(this,t):t},uo.prototype.v=function(){this.f.Bd()},ho.prototype.release=function(){this.b=function(){},this.a.clear()},po.prototype.release=function(){this.j=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},po.prototype.g=function(t,e){for(var n=h(this.j.a),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.f.get(r),a=t<r.startTime?vo:t>r.endTime?yo:mo;this.f.set(r,a);for(var o=h(this.l),s=o.next();!s.done;s=o.next())(s=s.value).Ab==i&&s.zb==a&&s.sb(r,e)}};var vo=1,mo=2,yo=3;function go(t,e){this.a=e,this.c=t,this.g=null,this.s=1,this.w=Promise.resolve(),this.j=[],this.l=new Map,this.b=new Map,this.v=!1,this.H=null,this.F=this.f=this.u=!1,this.D=0}function bo(t){return Eo(t,"audio")}function wo(t){return Eo(t,"video")}function Eo(t,e){var n=t.b.get(e);return n?n.fb||n.stream:null}function _o(t,e){return p((function n(){var r,i,a,o,s,u,c,l,f;return U(n,(function(n){switch(n.o){case 1:return r=rn,x(n,zn(t.a.P,r.Ha),2);case 2:return t.D++,t.F=!1,i=t.D,a=t.a.P,o=new Map,s=new Set,o.set(r.Ha,e),s.add(e),x(n,a.init(o,!1),3);case 3:return t.f?n.return():x(n,No(t,s),4);case 4:if(t.f)return n.return();u=t.a.P.g.isTextVisible()||t.g.alwaysStreamText,t.D!=i||t.b.has(r.Ha)||t.F||!u||(c=t.a.qb(),l=Do(t,c),f=Co(e,l,0),t.b.set(r.Ha,f),zo(t,f,0)),S(n)}}))}))}function To(t,e){var n=t.b.get("video");if(n){var r=n.stream;if(r)if(e){var i=r.trickModeVideo;i&&!n.fb&&(So(t,i,!1,0,!1),n.fb=r)}else(r=n.fb)&&(n.fb=null,So(t,r,!0,0,!1))}}function xo(t,e,n,r){e.video&&So(t,e.video,n,r,!1),e.audio&&So(t,e.audio,n,r,!1)}function So(t,e,n,r,i){var a=t.b.get(e.type);if(!a&&"text"==e.type&&t.g.ignoreTextStreamFailures)_o(t,e);else if(a){var o=jo(t,e),s=Array.from(t.b.values()).every((function(t){return t.xa==a.xa}));n&&o!=a.xa&&s?t.b.forEach((function(e){Ao(t,e)})):(a.fb&&(e.trickModeVideo?(a.fb=e,e=e.trickModeVideo):a.fb=null),(s=t.j[o])&&s.Vb&&(s=t.l.get(e.id))&&s.Vb&&(a.stream!=e||i)&&("text"==e.type&&On(t.a.P,se(e.mimeType,e.codecs)),a.stream=e,a.Ic=!0,function(t,e,n){if(!e.lc)return!1;var r=t.a.qb(),i=Dn(t.a.P,e.type);if(null==(n=(n=Ro(t,e,r,i,n))&&n.a?n.a-n.b:null))return!1;var a=e.stream.initSegmentReference;return a&&(n+=(a.a?a.a-a.b:null)||0),a=t.a.getBandwidthEstimate(),8*n/a<i-r-Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal)||e.lc.b.a>n}(t,a,o)&&a.lc.abort(),n&&(a.mb?a.Wc=!0:a.eb?(a.ib=!0,a.Ac=r,a.Wc=!0):(Go(a),Bo(t,a,!0,r).catch((function(e){t.a&&t.a.onError(e)}))))))}}function Ao(t,e){e.mb||e.ib||(e.eb?(e.ib=!0,e.Ac=0):null==Un(t.a.P,e.type)?null==e.$a&&zo(t,e,0):(Go(e),Bo(t,e,!1,0).catch((function(e){t.a&&t.a.onError(e)}))))}function ko(t,e,n,r,i){return p((function a(){var o,s,u,c,l,f,h;return U(a,(function(a){switch(a.o){case 1:return o=t.a.qb(),s=Do(t,o),u=rn,c=new Map,l=new Set,e&&(c.set(u.Yb,e),l.add(e)),n&&(c.set(u.jb,n),l.add(n)),r&&(c.set(u.Ha,r),l.add(r)),f=t.a.P,h=t.g.forceTransmuxTS,x(a,f.init(c,h),2);case 2:return t.f?a.return():(function(t){var e=t.c.presentationTimeline.ka();1/0>e?t.a.P.Na(e):t.a.P.Na(Math.pow(2,32))}(t),x(a,No(t,l),3));case 3:if(t.f)return a.return();c.forEach((function(e,n){if(!t.b.has(n)){var r=Co(e,s,i);t.b.set(n,r),zo(t,r,0)}})),S(a)}}))}))}function Co(t,e,n){return{stream:t,type:t.type,Jb:null,Wa:null,fb:null,Ic:!0,xa:e,endOfStream:!1,eb:!1,$a:null,ib:!1,Ac:0,Wc:!1,mb:!1,Fd:!1,ic:!1,Id:n||0,lc:null}}function Io(t,e){var n=t.j[e];if(n)return n.promise;n={promise:new Rt,Vb:!1},t.j[e]=n;for(var r=new Set,i=h(t.c.periods[e].variants),a=i.next();!a.done;a=i.next())(a=a.value).video&&r.add(a.video),a.video&&a.video.trickModeVideo&&r.add(a.video.trickModeVideo),a.audio&&r.add(a.audio);for(a=(i=h(t.c.periods[e].textStreams)).next();!a.done;a=i.next())r.add(a.value);return t.w=t.w.then(function(){if(!this.f)return No(this,r)}.bind(t)).then(function(){this.f||(this.j[e].promise.resolve(),this.j[e].Vb=!0)}.bind(t)).catch(function(t){this.f||(this.j[e].promise.catch((function(){})),this.j[e].promise.reject(),delete this.j[e],this.a.onError(t))}.bind(t)),n.promise}function No(t,e){return p((function n(){var r,i,a,o,s,u,c;return U(n,(function(n){switch(n.o){case 1:r=[];for(var l=h(e),f=l.next();!f.done;f=l.next())i=f.value,(a=t.l.get(i.id))?r.push(a.promise):(t.l.set(i.id,{promise:new Rt,Vb:!1}),r.push(i.createSegmentIndex()));return A(n,2),x(n,Promise.all(r),4);case 4:if(t.f)return n.return();C(n,3);break;case 2:if(o=I(n),t.f)return n.return();for(f=(n=h(e)).next();!f.done;f=n.next())s=f.value,t.l.get(s.id).promise.catch((function(){})),t.l.get(s.id).promise.reject(),t.l.delete(s.id);throw o;case 3:for(f=(l=h(e)).next();!f.done;f=l.next())u=f.value,(c=t.l.get(u.id)).Vb||(c.promise.resolve(),c.Vb=!0);S(n)}}))}))}function Po(t,e){if(!t.f&&!e.eb&&null!=e.$a&&!e.mb)if(e.$a=null,e.ib)Bo(t,e,e.Wc,e.Ac);else{try{var n=function(t,e){if(Lo(e))return Bn(t.a.P,e.stream.originalId||""),null;var n=t.a.qb(),r=Mo(t,e,n),i=jo(t,e.stream),a=Do(t,r),o=function(t,e,n){return"text"==e?null==(t=t.a).b||t.b<n?0:t.b-Math.max(n,t.a):Je(t=jn(t,e),n)}(t.a.P,e.type,n),s=Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal,t.g.bufferingGoal)*t.s;if(r>=t.c.presentationTimeline.ka())return e.endOfStream=!0,"video"==e.type&&(r=t.b.get("text"))&&"application/cea-608"==r.stream.mimeType&&(r.endOfStream=!0),null;if(e.endOfStream=!1,e.xa=a,a!=i)return null;if(o>=s)return.5;if(a=Dn(t.a.P,e.type),!(a=Ro(t,e,n,a,i)))return 1;var u=1/0;return Array.from(t.b.values()).forEach((function(e){Lo(e)||(e=Mo(t,e,n),u=Math.min(u,e))})),r>=u+t.c.presentationTimeline.a?1:(e.Id=0,function(t,e,n,r,i){var a=t.c.periods[r],o=e.stream,s=t.c.presentationTimeline.ka(),u=t.c.periods[r+1];r=function(t,e,n,r,i){return e.Ic?(n=function(t,e,n,r,i){return"text"==e?(t.a.u=n,(t=t.a).f=r,t.j=i,Promise.resolve()):Promise.all([Gn(t,e,t.mf.bind(t,e)),Gn(t,e,t.Zg.bind(t,e,n)),Gn(t,e,t.Wg.bind(t,e,r,i))])}(t.a.P,e.type,t.c.periods[n].startTime-e.stream.presentationTimeOffset,r,i),e.stream.initSegmentReference?(t=Fo(t,e,e.stream.initSegmentReference).then(function(t){if(!this.f)return Fn(this.a.P,e.type,t,null,null,e.stream.closedCaptions&&0<e.stream.closedCaptions.size)}.bind(t)).catch((function(t){return e.Ic=!0,Promise.reject(t)})),Promise.all([n,t])):n):Promise.resolve()}(t,e,r,Math.max(0,a.startTime-.1),u?u.startTime+.01:s),e.eb=!0,e.Ic=!1,s=Fo(t,e,i),Promise.all([r,s]).then(function(t){if(!this.f&&!this.u)return function(t,e,n,r,i,a,o){var s=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Xr).va("emsg",t.I.bind(t,r,a,i.emsgSchemeIdUris)).parse(o),function(t,e,n){var r=Math.max(t.g.bufferBehind,t.c.presentationTimeline.a),i=Un(t.a.P,e.type);return null==i?Promise.resolve():0>=(n=n-i-r)?Promise.resolve():t.a.P.remove(e.type,i,i+n).then(function(){}.bind(t))}(t,e,n).then(function(){if(!this.f)return Fn(this.a.P,e.type,o,a.startTime+r.startTime,a.endTime+r.startTime,s)}.bind(t)).then(function(){if(!this.f)return e.Jb=i,e.Wa=a,Promise.resolve()}.bind(t))}(this,e,n,a,o,i,t[1])}.bind(t)).then(function(){this.f||this.u||(e.eb=!1,e.Fd=!1,e.ib||this.a.Bd(),zo(this,e,0),function(t,e){if(!t.v){var n=Array.from(t.b.values());if(1==n.length&&"text"==n[0].type||(t.v=n.every((function(t){return"text"==t.type||!t.ib&&!t.mb&&t.Wa}))),t.v){for(n=jo(t,e),t.j[n]||Io(t,n).then(function(){this.f||this.a.xe()}.bind(t)).catch(tn.Jc),n=0;n<t.c.periods.length;++n)Io(t,n).catch(tn.Jc);t.a.Bg&&t.a.Bg()}}}(this,o))}.bind(t)).catch(function(t){this.f||this.u||(e.eb=!1,"text"==e.type&&this.g.ignoreTextStreamFailures?this.b.delete("text"):7001==t.code?(e.eb=!1,e.$a=null,zo(this,e,0)):3017==t.code?function(t,e,n){if(!Array.from(t.b.values()).some((function(t){return t!=e&&t.Fd}))){var r=Math.round(100*t.s);if(20<r)t.s-=.2;else{if(!(4<r))return e.ic=!0,t.u=!0,void t.a.onError(n);t.s-=.04}e.Fd=!0}zo(t,e,4)}(this,e,t):(e.ic=!0,t.severity=2,Vo(this,t)))}.bind(t))}(t,e,n,i,a),null)}(t,e);null!=n&&(zo(t,e,n),e.ic=!1)}catch(e){return void Vo(t,e)}n=Array.from(t.b.values()),function(t,e){var n=jo(t,e.stream);if(e.xa!=n){var r=e.xa,i=Array.from(t.b.values());i.every((function(t){return t.xa==r||Lo(t)}))&&i.every(Uo)&&Io(t,r).then(function(){if(!this.f&&i.every(function(t){var e=Uo(t),n=jo(this,t.stream);return!!Lo(t)||e&&t.xa==r&&n!=r}.bind(this))){var t=this.c.periods[r],e=this.a.ye(t),n=new Map;e.variant&&e.variant.video&&n.set("video",e.variant.video),e.variant&&e.variant.audio&&n.set("audio",e.variant.audio),e.text&&n.set("text",e.text);for(var a=(e=h(this.b.keys())).next();!a.done;a=e.next())if(a=a.value,!n.has(a)&&"text"!=a)return void this.a.onError(new Mt(2,5,5005));for(a=(e=h(Array.from(n.keys()))).next();!a.done;a=e.next())if(a=a.value,!this.b.has(a)){if("text"!=a)return void this.a.onError(new Mt(2,5,5005));ko(this,null,null,n.get("text"),t.startTime),n.delete(a)}for(a=(e=h(Array.from(this.b.keys()))).next();!a.done;a=e.next()){a=a.value;var o=this.b.get(a),s=n.get(a);if(s){var u=Lo(o);u&&(o.xa=r,o.Id=t.startTime),So(this,s,!1,0,!1),u&&Lo(o)||zo(this,this.b.get(a),0)}else this.b.delete(a)}this.a.xe()}}.bind(t)).catch(tn.Jc)}}(t,e),t.v&&n.every((function(t){return t.endOfStream}))&&t.a.P.endOfStream().then(function(){if(!this.f){var t=this.a.P.ka();0!=t&&t<this.c.presentationTimeline.ka()&&this.c.presentationTimeline.Na(t)}}.bind(t))}}function Mo(t,e,n){return e.Jb&&e.Wa?(n=jo(t,e.Jb),t.c.periods[n].startTime+e.Wa.endTime):Math.max(n,e.Id)}function Ro(t,e,n,r,i){if(e.Wa&&e.stream==e.Jb)return Oo(t,e,i,e.Wa.position+1);if(e.Wa?(n=jo(t,e.Jb),n=e.stream.findSegmentPosition(Math.max(0,t.c.periods[n].startTime+e.Wa.endTime-t.c.periods[i].startTime))):n=e.stream.findSegmentPosition(Math.max(0,(r||n)-t.c.periods[i].startTime)),null==n)return null;var a=null;return null==r&&(a=Oo(t,e,i,Math.max(0,n-1))),a||Oo(t,e,i,n)}function Oo(t,e,n,r){return n=t.c.periods[n],(e=e.stream.getSegmentReference(r))?(t=(r=t.c.presentationTimeline).gc(),r=r.Gb(),n.startTime+e.endTime<t||n.startTime+e.startTime>r?null:e):null}function Lo(t){return t&&"text"==t.type&&"application/cea-608"==t.stream.mimeType}function Uo(t){return!t.eb&&null==t.$a&&!t.ib&&!t.mb}function Do(t,e){var n=$a(t.c.periods,e+an);return n?t.c.periods.indexOf(n):0}function jo(t,e){for(var n=t.c.periods,r=0;r<n.length;r++){for(var i=n[r],a=new Set,o=h(i.variants),s=o.next();!s.done;s=o.next())(s=s.value).audio&&a.add(s.audio),s.video&&a.add(s.video),s.video&&s.video.trickModeVideo&&a.add(s.video.trickModeVideo);for(o=(i=h(i.textStreams)).next();!o.done;o=i.next())a.add(o.value);if(a.has(e))return r}return-1}function Fo(t,e,n){return n=Ri(n.c(),n.b,n.a,t.g.retryParameters),t=t.a.Lb.request(1,n),e.lc=t,t.promise.then((function(t){return e.lc=null,t.data}))}function Bo(t,e,n,r){return p((function i(){var a,o,s;return U(i,(function(i){switch(i.o){case 1:return e.ib=!1,e.Wc=!1,e.Ac=0,e.mb=!0,r?(o=t.a.qb(),s=t.a.P.ka(),a=t.a.P.remove(e.type,o+r,s)):a=zn(t.a.P,e.type).then(function(){if(!this.f&&n)return this.a.P.flush(e.type)}.bind(t)),x(i,a,2);case 2:if(t.f)return i.return();e.Jb=null,e.Wa=null,e.mb=!1,e.endOfStream=!1,zo(t,e,0),S(i)}}))}))}function zo(t,e,n){e.$a=new Ct((function(){return p((function n(){var r;return U(n,(function(n){switch(n.o){case 1:return A(n,2),x(n,Po(t,e),4);case 4:C(n,0);break;case 2:r=I(n),t.a&&t.a.onError(r),S(n)}}))}))})).R(n)}function Go(t){null!=t.$a&&(t.$a.stop(),t.$a=null)}function Vo(t,e){Pt(t.H).then(function(){this.f||(this.a.onError(e),e.handled||this.g.failureCallback(e))}.bind(t))}function Ko(t,e,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,Dd:r,data:e,headers:t,fromCache:!!t["x-shaka-from-cache"]};i=null;try{i=we(e)}catch(t){}throw new Mt(401==n||403==n?2:1,1,1001,r,n,i,t,a)}function Ho(t,e,n,r){var i=new Ho.b;ae(e.headers).forEach((function(t,e){i.append(e,t)}));var a=new Ho.a,o={ce:!1,bf:!1};if(t=new Ot(t=Ho.s(t,n,{body:e.body||void 0,headers:i,method:e.method,signal:a.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},o,r),(function(){return o.ce=!0,a.abort(),Promise.resolve()})),e=e.retryParameters.timeout){var s=new It((function(){o.bf=!0,a.abort()}));s.R(e/1e3),t.finally((function(){s.stop()}))}return t}function qo(t,e,n,r){var i=new qo.f,a=Date.now(),o=0;return new Ot(new Promise((function(s,u){for(var c in i.open(e.method,t,!0),i.responseType="arraybuffer",i.timeout=e.retryParameters.timeout,i.withCredentials=e.allowCrossSiteCredentials,i.onabort=function(){u(new Mt(1,1,7001,t,n))},i.onload=function(e){for(var r=(e=e.target).getAllResponseHeaders().trim().split("\r\n"),i={},a=(r=h(r)).next();!a.done;a=r.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=Ko(i,e.response,e.status,t,e.responseURL,n);s(o)}catch(t){u(t)}},i.onerror=function(e){u(new Mt(1,1,1002,t,e,n))},i.ontimeout=function(){u(new Mt(1,1,1003,t,n))},i.onprogress=function(t){var e=Date.now();(100<e-a||t.lengthComputable&&t.loaded==t.total)&&(r(e-a,t.loaded-o,t.total-t.loaded),o=t.loaded,a=e)},e.headers)i.setRequestHeader(c.toLowerCase(),e.headers[c]);i.send(e.body)})),(function(){return i.abort(),Promise.resolve()}))}function Wo(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function Xo(t,e,n){this.j=t,this.b=new Map,this.c=!1,this.g=e,this.f=n,this.a=new Wo}function Yo(t,e,n,r,i,a){var o=function(t,e){t.b+=e;var n=t.g;return t.g++,t.c.set(n,e),n}(t.a,r);r=t.b.get(e)||Promise.resolve(),t.b.set(e,r.then((function(){return p((function e(){var r,s,u;return U(e,(function(e){switch(e.o){case 1:return x(e,function(t,e){return p((function n(){var r;return U(n,(function(n){switch(n.o){case 1:return x(n,t.j.request(1,e).promise,2);case 2:return r=n.A,n.return(r.data)}}))}))}(t,n),2);case 2:if(r=e.A,t.c)throw new Mt(2,9,7001);if(i){s=new Uint8Array(r);for(var c=h(new ti(s).data),l=c.next();!l.done;l=c.next())u=l.value,t.f(u)}return t.a.close(o,r.byteLength),c=t.a,t.g(0==c.b?0:c.f/c.b,t.a.a),e.return(a(r))}}))}))})))}function $o(t,e){var n=this;this.c=t,this.b=t.objectStore(e),this.a=new Rt,t.onabort=function(t){t.preventDefault(),n.a.reject()},t.onerror=function(t){t.preventDefault(),n.a.reject()},t.oncomplete=function(){n.a.resolve()}}function Zo(t,e){return new Promise((function(n,r){var i=t.b.openCursor();i.onerror=r,i.onsuccess=function(t){if(!(t=t.target.result))return n();e(t.key,t.value,t),t.continue()}}))}function Jo(t){this.b=t,this.a=[]}function Qo(t,e){return es(t,e,"readonly")}function ts(t,e){return es(t,e,"readwrite")}function es(t,e,n){var r=new $o(n=t.b.transaction([e],n),e);return t.a.push(r),r.promise().then((function(){Vt(t.a,r)}),(function(){Vt(t.a,r)})),r}function ns(t){this.a=new Jo(t)}function rs(){this.a=new Map}function is(t,e,n){if(!(t=t.a.get(e)))throw new Mt(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells().get(n)))throw new Mt(2,9,9013,"Could not find cell with name "+n);return e}function as(t,e){os.set(t,e)}go.prototype.destroy=function(){for(var t=h(this.b.values()),e=t.next();!e.done;e=t.next())Go(e.value);return this.b.clear(),this.l.clear(),this.g=this.j=this.w=this.c=this.a=null,this.f=!0,Promise.resolve()},go.prototype.configure=function(t){this.g=t,this.H=new Nt({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},go.prototype.start=function(){var t=this;return p((function e(){var n,r,i;return U(e,(function(e){switch(e.o){case 1:return n=t.a.qb(),r=Do(t,n),(i=t.a.ye(t.c.periods[r])).variant||i.text?x(e,ko(t,i.variant?i.variant.audio:null,i.variant?i.variant.video:null,i.text,n),2):e.return(new Mt(2,5,5005));case 2:if(t.f)return e.return();t.a&&t.a.ng&&t.a.ng(),S(e)}}))}))},go.prototype.I=function(t,e,n,r){var i=r.reader.Ed(),a=r.reader.Ed(),o=r.reader.J(),s=r.reader.J(),u=r.reader.J(),c=r.reader.J();r=r.reader.vb(r.reader.O.byteLength-r.reader.qa()),t=t.startTime+e.startTime+s/o,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.a.pg():this.a.onEvent(new H("emsg",{detail:{startTime:t,endTime:t+u/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:s,eventDuration:u,id:c,messageData:r}})))},V("shaka.net.HttpFetchPlugin",Ho),Ho.s=function(t,e,n,r,i){return p((function a(){var o,s,u,c,l,f,h,d,v,m,y,g;return U(a,(function(a){switch(a.o){case 1:return o=Ho.g,s=Ho.c,f=l=0,h=Date.now(),A(a,2),x(a,o(t,n),4);case 4:return u=a.A,d=u.clone().body.getReader(),m=(v=u.headers.get("Content-Length"))?parseInt(v,10):0,new s({start:function(t){!function e(){return p((function n(){var r,a;return U(n,(function(n){switch(n.o){case 1:return A(n,2),x(n,d.read(),4);case 4:r=n.A,C(n,3);break;case 2:return I(n),n.return();case 3:r.done||(l+=r.value.byteLength),(100<(a=Date.now())-h||r.done)&&(i(a-h,l-f,m-l),f=l,h=a),r.done?t.close():(t.enqueue(r.value),e()),S(n)}}))}))}()}}),x(a,u.arrayBuffer(),5);case 5:c=a.A,C(a,3);break;case 2:if(y=I(a),r.ce)throw new Mt(1,1,7001,t,e);if(r.bf)throw new Mt(1,1,1003,t,e);throw new Mt(1,1,1002,t,y,e);case 3:return g={},u.headers.forEach((function(t,e){g[e.trim()]=t})),a.return(Ko(g,c,u.status,t,u.url,e))}}))}))},Ho.isSupported=function(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(t){return!1}return!(!t.fetch||!t.AbortController)},Ho.isSupported=Ho.isSupported,Ho.g=t.fetch,Ho.a=t.AbortController,Ho.c=t.ReadableStream,Ho.b=t.Headers,Ho.isSupported()&&(Yt("http",Ho,2),Yt("https",Ho,2)),V("shaka.net.HttpXHRPlugin",qo),qo.f=t.XMLHttpRequest,Yt("http",qo,1),Yt("https",qo,1),Wo.prototype.close=function(t,e){if(this.c.has(t)){var n=this.c.get(t);this.c.delete(t),this.f+=n,this.a+=e}},Xo.prototype.destroy=function(){return this.c=!0,Promise.all(this.b.values()).then((function(){}),(function(){}))},$o.prototype.abort=function(){try{this.c.abort()}catch(t){}return this.a.catch((function(){}))},$o.prototype.store=function(){return this.b},$o.prototype.promise=function(){return this.a},Jo.prototype.destroy=function(){return Promise.all(this.a.map((function(t){return t.abort()})))},ns.prototype.destroy=function(){return this.a.destroy()},ns.prototype.getAll=function(){var t=this;return p((function e(){var n,r;return U(e,(function(e){switch(e.o){case 1:return n=Qo(t.a,"session-ids"),r=[],x(e,Zo(n,(function(t,e){r.push(e)})),2);case 2:return x(e,n.promise(),3);case 3:return e.return(r)}}))}))},ns.prototype.add=function(t){for(var e=ts(this.a,"session-ids"),n=e.store(),r=(t=h(t)).next();!r.done;r=t.next())n.add(r.value);return e.promise()},ns.prototype.remove=function(t){var e=this;return p((function n(){var r;return U(n,(function(n){switch(n.o){case 1:return x(n,Zo(r=ts(e.a,"session-ids"),(function(e,n,r){0<=t.indexOf(n.sessionId)&&r.delete()})),2);case 2:return x(n,r.promise(),0)}}))}))},rs.prototype.destroy=function(){for(var t=[],e=h(this.a.values()),n=e.next();!n.done;n=e.next())t.push(n.value.destroy());return this.a.clear(),Promise.all(t)},rs.prototype.init=function(){var t=this;os.forEach((function(e,n){var r=e();r&&t.a.set(n,r)}));for(var e=[],n=h(this.a.values()),r=n.next();!r.done;r=n.next())e.push(r.value.init());return Promise.all(e)},rs.prototype.erase=function(){var t=this;return p((function e(){var n,r;return U(e,(function(e){switch(e.o){case 1:return n=Array.from(t.a.values()),(r=0<n.length)||os.forEach((function(t){(t=t())&&n.push(t)})),x(e,Promise.all(n.map((function(t){return t.erase()}))),2);case 2:if(!r)return x(e,Promise.all(n.map((function(t){return t.destroy()}))),0);e.B(0)}}))}))},V("shaka.offline.StorageMuxer.register",as),V("shaka.offline.StorageMuxer.unregister",(function(t){os.delete(t)}));var os=new Map;function ss(t){this.a=new Jo(t)}function us(t){return Promise.reject(new Mt(2,9,9011,"Cannot add new value to "+t))}function cs(t,e,n,r){var i=(t=ts(t.a,e)).store();return n.forEach((function(t){i.delete(t).onsuccess=function(){return r(t)}})),t.promise()}function ls(t,e,n){var r=(t=Qo(t.a,e)).store(),i={},a=[];return n.forEach((function(t){r.get(t).onsuccess=function(e){null==(e=e.target.result)&&a.push(t),i[t]=e}})),t.promise().then((function(){return a.length?Promise.reject(new Mt(2,9,9012,"Could not find values for "+a)):n.map((function(t){return i[t]}))}))}function fs(t){return{originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,periods:t.periods.map(hs),sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata}}function hs(t){return function(t){var e=t.streams.filter((function(t){return"audio"==t.contentType})),n=t.streams.filter((function(t){return"video"==t.contentType}));if(!e.every((function(t){return t.variantIds}))||!n.every((function(t){return t.variantIds}))){e.forEach((function(t){t.variantIds=[]})),n.forEach((function(t){t.variantIds=[]}));var r=0;if(n.length&&!e.length){var i=r++;n.forEach((function(t){t.variantIds.push(i)}))}if(!n.length&&e.length){var a=r++;e.forEach((function(t){t.variantIds.push(a)}))}n.length&&e.length&&e.forEach((function(t){n.forEach((function(e){var n=r++;t.variantIds.push(n),e.variantIds.push(n)}))}))}}(t),t.streams.forEach((function(){})),{startTime:t.startTime,streams:t.streams.map(ds)}}function ds(t){var e=t.dg?ms(t.dg):null;return{id:t.id,originalId:null,primary:t.primary,presentationTimeOffset:t.presentationTimeOffset,contentType:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:void 0,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:e,encrypted:t.encrypted,keyId:t.keyId,segments:t.segments.map(ps),variantIds:t.variantIds}}function ps(t){var e=ms(t.uri);return{startTime:t.startTime,endTime:t.endTime,dataKey:e}}function vs(t){return{data:t.data}}function ms(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new Mt(2,9,9004,"Could not parse uri "+t)}function ys(t,e,n,r){this.a=new Jo(t),this.c=e,this.b=n,this.f=r}function gs(t,e,n){if(t.f)return Promise.reject(new Mt(1,9,9011,"Cannot add new value to "+e));var r=(t=ts(t.a,e)).store(),i=[];return n.forEach((function(t){r.add(t).onsuccess=function(t){i.push(t.target.result)}})),t.promise().then((function(){return i}))}function bs(t,e,n,r){var i=(t=ts(t.a,e)).store();return n.forEach((function(t){i.delete(t).onsuccess=function(){return r(t)}})),t.promise()}function ws(t,e,n){var r=(t=Qo(t.a,e)).store(),i={},a=[];return n.forEach((function(t){var e=r.get(t);e.onsuccess=function(){null==e.result&&a.push(t),i[t]=e.result}})),t.promise().then((function(){return a.length?Promise.reject(new Mt(1,9,9012,"Could not find values for "+a)):n.map((function(t){return i[t]}))}))}function Es(){this.g=this.c=this.b=this.a=this.f=null}function _s(t,e,n,r){this.a=t,this.g=e,this.f=n,this.c=r,this.b=["offline:",t,"/",e,"/",n,"/",r].join("")}function Ts(t){if(null==(t=/^offline:([a-z]+)\/([^\/]+)\/([^\/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var r=t[3];return r&&null!=e?new _s(e,n,r,Number(t[4])):null}function xs(t,e){this.b=t,this.a=e}function Ss(t,e,n){var r=e.streams.filter((function(t){return"audio"==t.contentType})),i=e.streams.filter((function(t){return"video"==t.contentType}));return r=function(t,e,n){for(var r=new Set,i=h(e),a=i.next();!a.done;a=i.next()){var o=h(a.value.variantIds);for(a=o.next();!a.done;a=o.next())r.add(a.value)}for(i=h(n),a=i.next();!a.done;a=i.next())for(o=h(a.value.variantIds),a=o.next();!a.done;a=o.next())r.add(a.value);for(i=new Map,r=h(r),a=r.next();!a.done;a=r.next())a=a.value,i.set(a,{id:a,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0});for(e=h(e),r=e.next();!r.done;r=e.next())for(r=r.value,a=As(t,r),o=h(r.variantIds),r=o.next();!r.done;r=o.next())(r=i.get(r.value)).language=a.language,r.primary=r.primary||a.primary,r.audio=a;for(n=h(n),e=n.next();!e.done;e=n.next())for(r=e.value,e=As(t,r),a=h(r.variantIds),r=a.next();!r.done;r=a.next())(r=i.get(r.value)).primary=r.primary||e.primary,r.video=e;return i}(t,r,i),i=e.streams.filter((function(t){return"text"==t.contentType})).map((function(e){return As(t,e)})),e.streams.forEach((function(r){r=r.segments.map((function(e,n){return ks(t,n,e)})),n.Mb(r,e.startTime)})),{startTime:e.startTime,variants:Array.from(r.values()),textStreams:i}}function As(t,e){var n=e.segments.map((function(e,n){return ks(t,n,e)})),r=new vi(n);return n={id:e.id,originalId:e.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(t){return r.find(t)},getSegmentReference:function(t){return r.get(t)},initSegmentReference:null,presentationTimeOffset:e.presentationTimeOffset,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate||void 0,pixelAspectRatio:e.pixelAspectRatio||void 0,kind:e.kind,encrypted:e.encrypted,keyId:e.keyId,language:e.language,label:e.label||null,type:e.contentType,primary:e.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},null!=e.initSegmentKey&&(n.initSegmentReference=function(t,e){var n=new _s("segment",t.b,t.a,e);return new hi((function(){return[n.toString()]}),0,null)}(t,e.initSegmentKey)),n}function ks(t,e,n){var r=new _s("segment",t.b,t.a,n.dataKey);return new di(e,n.startTime,n.endTime,(function(){return[r.toString()]}),0,null)}function Cs(){this.a=null}function Is(t){var e=Ts(t);return e&&"manifest"==e.a?Is.j(t):e&&"segment"==e.a?Is.l(e.key(),e):Lt(new Mt(2,1,9004,t))}function Ns(t,e,n){return p((function r(){var i,a,o,s,u,c;return U(r,(function(r){switch(r.o){case 1:i=[];for(var l=[],f=h(n),d=f.next();!d.done;d=f.next()){d=d.value;for(var v=!1,m=h(l),y=m.next();!y.done;y=m.next())if(Ps((y=y.value).info,d)){y.sessionIds.push(d.sessionId),v=!0;break}v||l.push({info:d,sessionIds:[d.sessionId]})}a=h(l),o=a.next();case 2:if(o.done){r.B(4);break}return s=o.value,u=function(t,e,n){return p((function r(){var i,a;return U(r,(function(r){switch(r.o){case 1:return i=new Ae({Lb:e,onError:function(){},Lc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),A(r,2),i.configure(t),x(r,function(t,e,n,r,i,a){var o=new Map;return o.set(e,{audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:e,drmInfos:[{keySystem:e,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}]}),Le(t,o)}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:C(r,3);break;case 2:return I(r),x(r,i.destroy(),5);case 5:return r.return([]);case 3:return A(r,6),x(r,Ie(i),8);case 8:C(r,7);break;case 6:return I(r),x(r,i.destroy(),9);case 9:return r.return([]);case 7:return a=[],x(r,Promise.all(n.sessionIds.map((function(t){return p((function e(){return U(e,(function(e){switch(e.o){case 1:return A(e,2),x(e,function(t,e){return p((function n(){var r,i,a;return U(n,(function(n){switch(n.o){case 1:return x(n,Ue(t,e),2);case 2:return(r=n.A)?(i=[],(a=t.b.get(r))&&(a.Pa=new Rt,i.push(a.Pa)),i.push(r.remove()),x(n,Promise.all(i),0)):n.return()}}))}))}(i,t),4);case 4:a.push(t),C(e,0);break;case 2:I(e),S(e)}}))}))}))),10);case 10:return x(r,i.destroy(),11);case 11:return r.return(a)}}))}))}(t,e,s),x(r,u,5);case 5:c=r.A,i=i.concat(c),o=a.next(),r.B(2);break;case 4:return r.return(i)}}))}))}function Ps(t,e){function n(t,e){return t.robustness==e.robustness&&t.contentType==e.contentType}return t.keySystem==e.keySystem&&t.licenseUri==e.licenseUri&&Kt(t.audioCapabilities,e.audioCapabilities,n)&&Kt(t.videoCapabilities,e.videoCapabilities,n)}function Ms(t,e){var n={Sa:null,C:null,mimeType:null,startTime:null,Td:null,uri:null},r=this;this.g=e,this.c=t,this.l=n,this.j=null,this.f=[],this.b=this.a=null,this.s=!0,this.u=Promise.resolve().then((function(){return function(t){return p((function e(){return U(e,(function(e){switch(e.o){case 1:if(t.s){if(0==t.f.length||t.a&&!t.a.rb)var n=!1;else{t.a&&(t.a.La.ub(),t.a=null);var r=(n=t.f.shift()).create(t.l);r?(n.La.Ob(),t.a={node:r.node,payload:r.payload,rb:r.rb,La:n.La}):n.La.Mc(),n=!0}return n?n=Promise.resolve():t.a?n=function(t){return p((function e(){var n,r;return U(e,(function(e){switch(e.o){case 1:return t.c=t.g.Uf(t.c,t.l,t.a.node,t.a.payload),A(e,2),t.b=t.g.vf(t.c,t.l,t.a.payload),x(e,t.b.promise,4);case 4:t.b=null,t.c==t.a.node&&(t.a.La.Kc(),t.a=null),C(e,0);break;case 2:return 7001==(n=I(e)).code?t.a.La.ub():t.a.La.onError(n),t.a=null,t.b=null,r=t,x(e,t.g.handleError(t.l,n),5);case 5:r.c=e.A,S(e)}}))}))}(t):(t.g.mg(t.c),t.j=new Rt,n=t.j),x(e,n,1)}e.B(0)}}))}))}(r)}))}function Rs(t,e){var n={Ob:function(){},Kc:function(){},ub:function(){},onError:function(){},Mc:function(){},xh:function(){}};return t.f.push({create:e,La:n}),t.b&&t.b.abort(),Os(t),n}function Os(t){t.j&&(t.j.resolve(),t.j=null)}function Ls(t){this.a=null;for(var e=0;e<t.textTracks.length;++e){var n=t.textTracks[e];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function Us(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,e.size=t.size;try{e.align=t.textAlign}catch(t){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),"vertical-lr"==t.writingMode?e.vertical="lr":"vertical-rl"==t.writingMode&&(e.vertical="rl"),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function Ds(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var r=t.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&e(a)&&t.removeCue(a)}t.mode=n}function js(t,e,n,r,i){var a,o=i in r,s=!0;for(a in e){var u=i+"."+a,c=o?r[i]:n[a];o||a in n?void 0===e[a]?void 0===c||o?delete t[a]:t[a]=zt(c):c.constructor==Object&&e[a]&&e[a].constructor==Object?(t[a]||(t[a]=zt(c)),u=js(t[a],e[a],c,r,u),s=s&&u):typeof e[a]!=typeof c||null==e[a]||e[a].constructor!=c.constructor?s=!1:t[a]=e[a]:s=!1}return s}function Fs(t,e){for(var n={},r=n,i=0,a=0;!(0>(i=t.indexOf(".",i)));)0!=i&&"\\"==t[i-1]||(r[a=t.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[t.substring(a).replace(/\\\./g,".")]=e,n}function Bs(){}function zs(){var t=5e5,e=1/0;navigator.connection&&(t=1e6*navigator.connection.downlink,navigator.connection.saveData&&(e=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:je,fairPlayTransform:!0},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,dash:{customScheme:function(t){if(t)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0};pe("Web0S")&&(i.stallEnabled=!1);var a={trackSelectionCallback:function(t){return t},progressCallback:function(){},usePersistentLicense:!0},o={drm:n,manifest:r,streaming:i,offline:a,abrFactory:ar,abr:{enabled:!0,defaultBandwidthEstimate:t,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(t){return function(t,e){var n=t.filter((function(t){return"variant"==t.type})),r=[],i=it(e,n.map((function(t){return t.language})));i&&(r=n.filter((function(t){return et(t.language)==i}))),0==r.length&&(r=n.filter((function(t){return t.primary}))),0==r.length&&(n.map((function(t){return t.language})),r=n);var a=r.filter((function(t){return t.height&&480>=t.height}));if(a.length&&(a.sort((function(t,e){return e.height-t.height})),r=a.filter((function(t){return t.height==a[0].height}))),n=[],r.length){var o=Math.floor(r.length/2);r.sort((function(t,e){return t.bandwidth-e.bandwidth})),n.push(r[o])}for(r=h(t),o=r.next();!o.done;o=r.next())"text"==(o=o.value).type&&n.push(o);return n}(t,o.preferredAudioLanguage)},o}function Gs(t,e,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return js(t,e,n||zs(),r,"")}function Vs(){this.a=null,this.b=[]}function Ks(t,e){if(null==t.a)t.a={timestamp:Date.now()/1e3,state:e,duration:0};else{var n=Date.now()/1e3;t.a.duration=n-t.a.timestamp,t.a.state!=e&&(t.b.push(t.a),t.a={timestamp:n,state:e,duration:0})}}function Hs(t,e){var n=0;t.a&&t.a.state==e&&(n+=t.a.duration);for(var r=h(t.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==e?i.duration:0;return n}function qs(){this.b=this.c=null,this.a=[]}function Ws(){this.f=this.v=this.j=this.b=this.l=this.s=this.u=this.g=this.w=NaN,this.a=new Vs,this.c=new qs}function Xs(e,n){var r=this;$.call(this),this.l=Lu,this.a=null,this.Ga=!1,this.g=new te,this.Xc=this.s=this.Zb=this.b=this.v=this.f=this.tc=this.D=this.uc=this.U=this.Fa=this.u=this.H=this.j=this.I=null,this.Le=1e9,this.wc=new Set,this.Bb=!0,this.ha=null,this.ve=!1,this.ue=0,this.ea=null,this.Y=new Ca,this.c=au(this),this.xc={width:1/0,height:1/0},this.w=null,this.$b=new Da(this.c.preferredAudioLanguage,this.c.preferredVariantRole,this.c.preferredAudioChannelCount),this.ba=this.c.preferredTextLanguage,this.Da=this.c.preferredTextRole,n&&n(this),this.I=function(t){return new Wt((function(e,n){t.s&&t.s.segmentDownloaded(e,n)}))}(this),this.g.m(t,"online",(function(){r.Jd()})),this.F={name:"detach"},this.L={name:"attach"},this.ua={name:"unload"},this.rd={name:"manifest-parser"},this.od={name:"manifest"},this.Ea={name:"media-source"},this.Yc={name:"drm-engine"},this.M={name:"load"},this.sd={name:"src-equals-drm-engine"},this.Qa={name:"src-equals"};var i=new Map;i.set(this.L,(function(t,e){return jt(function(t,e,n){return null==e.C&&(e.C=n.C,t.g.m(e.C,"error",(function(){var e=Eu(t);e&&t.hb(e)}))),t.a=e.C,Promise.resolve()}(r,t,e))})),i.set(this.F,(function(t){return t.C&&(r.g.ra(t.C,"error"),t.C=null),r.a=null,jt(t=Promise.resolve())})),i.set(this.ua,(function(t){return jt(Qs(r,t))})),i.set(this.Ea,(function(e){return jt(e=function(e,n){return p((function r(){var i,a,o,s;return U(r,(function(r){switch(r.o){case 1:return i=t.muxjs?new Xe:new Ye,a=e.c.textDisplayFactory,o=new a,e.bd=a,x(r,(s=new Pn(n.C,i,o)).v,2);case 2:e.H=s,S(r)}}))}))}(r,e))})),i.set(this.rd,(function(t,e){return jt(function(t,e,n){return p((function r(){var i,a,o;return U(r,(function(r){switch(r.o){case 1:if(e.Sa=n.Sa,e.mimeType=n.mimeType,e.uri=n.uri,i=e.uri,a=t.I,t.Zb=i,e.Sa){t.v=e.Sa(),r.B(2);break}return o=t,x(r,Pi.create(i,a,t.c.manifest.retryParameters,e.mimeType),3);case 3:o.v=r.A;case 2:t.v.configure(t.c.manifest),S(r)}}))}))}(r,t,e))})),i.set(this.od,(function(t){return function(t,e){var n=e.uri,r=t.I;t.tc=new ho,function(t,e){t.b=e}(t.tc,(function(e){wu(t,"timelineregionadded",e)}));var i={networkingEngine:r,filterNewPeriod:function(e){return t.dd(e)},filterAllPeriods:function(e){return ou(t,e)},onTimelineRegionAdded:function(e){var n=t.tc;t:{for(var r=h(n.a),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.id==e.id&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break t}r=null}null==r&&(n.a.add(e),n.b(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return t.hb(e)}};return new Ot(Promise.resolve().then((function(){return p((function e(){var r;return U(e,(function(e){switch(e.o){case 1:return r=t,x(e,t.v.start(n,i),2);case 2:if(r.b=e.A,t.dispatchEvent(new H("manifestparsed")),0==t.b.periods.length)throw new Mt(2,4,4014);!function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.some((function(t){return t.variants.some(e)}))&&t.forEach((function(t){t.variants=t.variants.filter(e)}))}(t.b.periods),S(e)}}))}))})),(function(){return t.v.stop()}))}(r,t)})),i.set(this.Yc,(function(){return jt(function(t){return p((function e(){return U(e,(function(e){switch(e.o){case 1:return t.j=new Ae({Lb:t.I,onError:function(e){t.hb(e)},Lc:function(e){_u(t,e)},onExpirationUpdated:function(e,n){Tu(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.j.configure(t.c.drm),x(e,ke(t.j,Ya(t.b.periods),t.b.offlineSessionIds),2);case 2:ou(t,t.b.periods),S(e)}}))}))}(r))})),i.set(this.M,(function(t,e){return jt(function(t,e,n){return p((function r(){var i,a,o,s,u,c,l,f,d;return U(r,(function(r){switch(r.o){case 1:return e.startTime=n.startTime,i=e.C,a=e.uri,t.Zb=a,t.w=new Ws,o=function(){return lu(t)},s=function(){var e=t.a.playbackRate;0!=e&&t.U.set(e)},t.g.m(i,"playing",o),t.g.m(i,"pause",o),t.g.m(i,"ended",o),t.g.m(i,"ratechange",s),u=t.c.abrFactory,t.s&&t.Xc==u||(t.Xc=u,t.s=new u,t.s.configure(t.c.abr)),function(t,e){for(var n=0;n<e.length;n++){for(var r=e[n],i=new Map,a=h(r.variants),o=a.next();!o.done;o=a.next())if((o=o.value).video&&o.video.closedCaptions)for(var s=h((o=o.video).closedCaptions.keys()),u=s.next();!u.done;u=s.next())if(u=u.value,!i.has(u)){var c={id:t.Le++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,keyId:null,language:o.closedCaptions.get(u),label:null,type:"text",primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null};i.set(u,c)}for(i=h(i.values()),a=i.next();!a.done;a=i.next())r.textStreams.push(a.value)}}(t,t.b.periods),t.$b=new Da(t.c.preferredAudioLanguage,t.c.preferredVariantRole,t.c.preferredAudioChannelCount),t.ba=t.c.preferredTextLanguage,function(t,e,n){0<e&&(t.V()||t.Xe(e)),n<t.ka()&&(t.V()||t.Na(n))}(t.b.presentationTimeline,t.c.playRangeStart,t.c.playRangeEnd),x(r,t.j.ac(i),2);case 2:return t.s.init((function(e,n,r){n=void 0!==n&&n,r=void 0===r?0:r;t:{for(var i=h(t.b.periods),a=i.next();!a.done;a=i.next())if((a=a.value).variants.includes(e)){i=a;break t}i=null}ru(t,i,e,!0),t.f&&(xo(t.f,e,n,r),pu(t))})),t.u=function(t,e){return new uo(t.a,t.b,t.c.streaming,e,(function(){t.Fa&&Xa(t.Fa,!0),t.f&&function(t){function e(e){var i=t.a.P;return"text"==e?e=null!=(e=i.a).a&&null!=e.b&&(n>=e.a&&n<e.b):e=Ze(e=jn(i,e),n,r),e}var n=t.a.qb(),r=t.g.smallGapLimit,i=Do(t,n);if(Z(t.b.values(),(function(t){return t.xa==i})))for(var a=h(t.b.keys()),o=a.next();!o.done;o=a.next())e(o=o.value)||Ao(t,t.b.get(o));else Z(t.b.keys(),e)||t.b.forEach((function(e){Ao(t,e)}))}(t.f),t.D&&eu(t)}),(function(e){return t.dispatchEvent(e)}))}(t,e.startTime),t.Fa=function(t){var e=new Za(t.b);!function(t,e){t.b=e}(e,(function(){vu(t)}));var n=new po(t.tc);!function(t,e,n,r){t.a=e,t.b=n,t.c=r}(n,(function(e){wu(t,"timelineregionenter",e)}),(function(e){wu(t,"timelineregionexit",e)}),(function(e,n){n||(wu(t,"timelineregionenter",e),wu(t,"timelineregionexit",e))}));var r=new Wa(t.a);return r.a.add(e),r.a.add(n),r}(t),t.U=new Ja({Fc:function(){return e.C.playbackRate},Od:function(t){e.C.playbackRate=t},se:function(t){e.C.currentTime+=t}}),c=Math.max(t.b.minBufferTime,t.c.streaming.rebufferingGoal),tu(t,c),t.f=function(t){return new go(t.b,{qb:function(){return t.u.j()},getBandwidthEstimate:function(){return t.s.getBandwidthEstimate()},P:t.H,Lb:t.I,ye:t.kg.bind(t),xe:t.rf.bind(t),onError:t.hb.bind(t),onEvent:function(e){return t.dispatchEvent(e)},pg:t.qg.bind(t),Bd:t.zg.bind(t)})}(t),t.f.configure(t.c.streaming),function(t){function e(t){var e="";t.video&&(e=ue(t.video.codecs)[0]);var n="";return t.audio&&(n=ue(t.audio.codecs)[0]),e+"-"+n}var n=t.b.periods.reduce((function(t,e){return t.concat(e.variants)}),[]);n=er(n,t.c.preferredAudioChannelCount);var r=new Y;n.forEach((function(t){var n=e(t);r.push(n,t)}));var i=null,a=1/0;r.forEach((function(t,e){var n=0,r=0;e.forEach((function(t){n+=t.bandwidth||0,++r}));var o=n/r;o<a&&(i=t,a=o)})),t.b.periods.forEach((function(t){t.variants=t.variants.filter((function(t){return e(t)==i}))}))}(t),t.l=Uu,t.dispatchEvent(new H("streaming")),x(r,t.f.start(),3);case 3:t.c.streaming.startAtSegmentBoundary&&(l=t.u.j(),f=function(t,e){function n(t,e){if(!t)return null;var n=t.findSegmentPosition(e-a.startTime);return null==n?null:(n=t.getSegmentReference(n))?n.startTime+a.startTime:null}var r=bo(t.f),i=wo(t.f),a=Iu(t);return r=n(r,e),null!=(i=n(i,e))&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:e}(t,l),t.u.u(f)),t.b.periods.forEach(t.dd.bind(t)),vu(t),pu(t),(d=Iu(t)||t.b.periods[0]).variants.some((function(t){return t.primary})),fu(t,d.variants),t.g.sa(i,"loadeddata",(function(){t.w.b=Date.now()/1e3-n.Td})),S(r)}}))}))}(r,t,e))})),i.set(this.sd,(function(t){return jt(t=function(t,e){return p((function n(){var r,i;return U(n,(function(n){switch(n.o){case 1:return r=rn,t.j=new Ae({Lb:t.I,onError:function(e){t.hb(e)},Lc:function(e){_u(t,e)},onExpirationUpdated:function(e,n){Tu(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.j.configure(t.c.drm),i={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:r.jb,primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},x(n,ke(t.j,[i],[]),2);case 2:return x(n,t.j.ac(e.C),0)}}))}))}(r,t))})),i.set(this.Qa,(function(t,e){return function(t,e,n){function r(){return lu(t)}if(e.uri=n.uri,e.startTime=n.startTime,t.Zb=e.uri,t.w=new Ws,t.u=new so(e.C),null!=e.startTime&&t.u.u(e.startTime),t.U=new Ja({Fc:function(){return e.C.playbackRate},Od:function(t){e.C.playbackRate=t},se:function(t){e.C.currentTime+=t}}),tu(t,t.c.streaming.rebufferingGoal),t.g.m(e.C,"playing",r),t.g.m(e.C,"pause",r),t.g.m(e.C,"ended",r),t.g.sa(e.C,"loadeddata",(function(){t.w.b=Date.now()/1e3-n.Td})),t.a.audioTracks&&(t.g.m(t.a.audioTracks,"addtrack",(function(){return vu(t)})),t.g.m(t.a.audioTracks,"removetrack",(function(){return vu(t)})),t.g.m(t.a.audioTracks,"change",(function(){return vu(t)}))),t.a.textTracks){var i=t.a.textTracks;t.g.m(i,"addtrack",(function(){return vu(t)})),t.g.m(i,"removetrack",(function(){return vu(t)})),t.g.m(i,"change",(function(){return vu(t)}))}e.C.src=e.uri,t.l=Du,t.dispatchEvent(new H("streaming"));var a=new Rt;return t.a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?a.resolve():t.a.error?a.reject(Eu(t)):(t.g.sa(t.a,"loadeddata",(function(){a.resolve()})),t.g.sa(t.a,"error",(function(){a.reject(Eu(t))}))),new Ot(a,(function(){return a.reject(new Mt(2,7,7001)),Promise.resolve()}))}(r,t,e)})),this.Cb=new Ms(this.F,{Uf:function(t,e,n,i){var a=null;return t==r.F&&(a=n==r.F?r.F:r.L),t==r.L&&(a=n==r.F||e.C!=i.C?r.F:n==r.L?r.L:n==r.Ea||n==r.M?r.Ea:n==r.Qa?r.sd:null),t==r.Ea&&(a=n==r.M&&e.C==i.C?r.rd:r.ua),t==r.rd&&(a=Mu(r.M,r.od,r.ua,n,e,i)),t==r.od&&(a=Mu(r.M,r.Yc,r.ua,n,e,i)),t==r.Yc&&(a=Mu(r.M,r.M,r.ua,n,e,i)),t==r.sd&&(a=n==r.Qa&&e.C==i.C?r.Qa:r.ua),t!=r.M&&t!=r.Qa||(a=r.ua),t==r.ua&&(a=i.C&&e.C==i.C?r.L:r.F),a},vf:function(t,e,n){return r.dispatchEvent(new H("onstatechange",{state:t.name})),i.get(t)(e,n)},handleError:function(t){return p((function e(){return U(e,(function(e){switch(e.o){case 1:return x(e,Qs(r,t),2);case 2:return e.return(t.C?r.L:r.F)}}))}))},mg:function(t){r.dispatchEvent(new H("onstateidle",{state:t.name}))}}),e&&this.ac(e,!0)}(r=ss.prototype).destroy=function(){return this.a.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return us("segment")},r.removeSegments=function(t,e){return cs(this,"segment",t,e)},r.getSegments=function(t){return ls(this,"segment",t).then((function(t){return t.map(vs)}))},r.addManifests=function(){return us("manifest")},r.updateManifestExpiration=function(t,e){var n=ts(this.a,"manifest"),r=n.store(),i=new Rt;return r.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,r.put(n),i.resolve()):i.reject(new Mt(2,9,9012,"Could not find values for "+t))},n.promise().then((function(){return i}))},r.removeManifests=function(t,e){return cs(this,"manifest",t,e)},r.getManifests=function(t){return ls(this,"manifest",t).then((function(t){return t.map(fs)}))},r.getAllManifests=function(){var t=this;return p((function e(){var n,r;return U(e,(function(e){switch(e.o){case 1:return n=Qo(t.a,"manifest"),r=new Map,x(e,Zo(n,(function(t,e){r.set(t,fs(e))})),2);case 2:return x(e,n.promise(),3);case 3:return e.return(r)}}))}))},(r=ys.prototype).destroy=function(){return this.a.destroy()},r.hasFixedKeySpace=function(){return this.f},r.addSegments=function(t){return gs(this,this.c,t)},r.removeSegments=function(t,e){return bs(this,this.c,t,e)},r.getSegments=function(t){return ws(this,this.c,t)},r.addManifests=function(t){return gs(this,this.b,t)},r.updateManifestExpiration=function(t,e){var n=ts(this.a,this.b),r=n.store();return r.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,r.put(n,t))},n.promise()},r.removeManifests=function(t,e){return bs(this,this.b,t,e)},r.getManifests=function(t){return ws(this,this.b,t)},r.getAllManifests=function(){var t=this;return p((function e(){var n,r;return U(e,(function(e){switch(e.o){case 1:return n=Qo(t.a,t.b),r=new Map,x(e,Zo(n,(function(t,e){r.set(t,e)})),2);case 2:return x(e,n.promise(),3);case 3:return e.return(r)}}))}))},(r=Es.prototype).init=function(){var e=this,n=new Rt,r=t.indexedDB.open("shaka_offline_db",4);return r.onsuccess=function(t){t=t.target.result,e.f=t;var r=t.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new ss(t):null,e.a=r,r=(r=t.objectStoreNames).contains("manifest-v2")&&r.contains("segment-v2")?new ys(t,"segment-v2","manifest-v2",!0):null,e.b=r,r=(r=t.objectStoreNames).contains("manifest-v3")&&r.contains("segment-v3")?new ys(t,"segment-v3","manifest-v3",!1):null,e.c=r,t=t.objectStoreNames.contains("session-ids")?new ns(t):null,e.g=t,n.resolve()},r.onupgradeneeded=function(t){t=t.target.result;for(var e=h(["segment-v3","manifest-v3","session-ids"]),n=e.next();!n.done;n=e.next())n=n.value,t.objectStoreNames.contains(n)||t.createObjectStore(n,{autoIncrement:!0})},r.onerror=function(t){n.reject(new Mt(2,9,9001,r.error)),t.preventDefault()},n},r.destroy=function(){var t=this;return p((function e(){return U(e,(function(e){switch(e.o){case 1:if(!t.a){e.B(2);break}return x(e,t.a.destroy(),2);case 2:if(!t.b){e.B(4);break}return x(e,t.b.destroy(),4);case 4:if(!t.c){e.B(6);break}return x(e,t.c.destroy(),6);case 6:if(!t.g){e.B(8);break}return x(e,t.g.destroy(),8);case 8:t.f&&t.f.close(),S(e)}}))}))},r.getCells=function(){var t=new Map;return this.a&&t.set("v1",this.a),this.b&&t.set("v2",this.b),this.c&&t.set("v3",this.c),t},r.getEmeSessionCell=function(){return this.g},r.erase=function(){var e=this;return p((function n(){return U(n,(function(n){switch(n.o){case 1:if(!e.a){n.B(2);break}return x(n,e.a.destroy(),2);case 2:if(!e.b){n.B(4);break}return x(n,e.b.destroy(),4);case 4:if(!e.c){n.B(6);break}return x(n,e.c.destroy(),6);case 6:return e.f&&e.f.close(),x(n,function(){var e=new Rt,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new Mt(2,9,9001,n.error)),t.preventDefault()},e}(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,x(n,e.init(),0)}}))}))},as("idb",(function(){return t.indexedDB?new Es:null})),_s.prototype.Ma=function(){return this.g},_s.prototype.oa=function(){return this.f},_s.prototype.key=function(){return this.c},_s.prototype.toString=function(){return this.b},(r=Cs.prototype).configure=function(){},r.start=function(t){var e=this;return p((function n(){var r,i,a,o,s;return U(n,(function(n){switch(n.o){case 1:return r=Ts(t),e.a=r,null==r||"manifest"!=r.a?n.return(Promise.reject(new Mt(2,1,9004,r))):(i=new rs,k(n,2),x(n,i.init(),4));case 4:return x(n,is(i,r.Ma(),r.oa()),5);case 5:return x(n,n.A.getManifests([r.key()]),6);case 6:return a=n.A,o=a[0],s=new xs(r.Ma(),r.oa()),n.return(function(t,e){var n=new Mi(null,0);n.Na(e.duration);var r=e.periods.map((function(e){return Ss(t,e,n)})),i=e.drmInfo?[e.drmInfo]:[];return e.drmInfo&&r.forEach((function(t){t.variants.forEach((function(t){t.drmInfos=i}))})),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:e.sessionIds,periods:r}}(s,o));case 2:return N(n),x(n,i.destroy(),7);case 7:P(n,0)}}))}))},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(t,e){var n=this;return p((function r(){var i,a,o,s,u,c,l;return U(r,(function(r){switch(r.o){case 1:return i=n.a,a=new rs,A(r,2,3),x(r,a.init(),5);case 5:return x(r,is(a,i.Ma(),i.oa()),6);case 6:return x(r,(o=r.A).getManifests([i.key()]),7);case 7:if(s=r.A,u=s[0],c=u.sessionIds.includes(t),l=null==u.expiration||u.expiration>e,!c||!l){r.B(3);break}return x(r,o.updateManifestExpiration(i.key(),e),3);case 3:return N(r),x(r,a.destroy(),10);case 10:P(r,0);break;case 2:I(r),r.B(3)}}))}))},Pi.Ub("application/x-offline-manifest",Cs),V("shaka.offline.OfflineScheme",Is),Is.j=function(t){return Dt(t={uri:t,Dd:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}})},Is.l=function(t,e){var n=new rs;return Dt(void 0).$((function(){return n.init()})).$((function(){return is(n,e.Ma(),e.oa())})).$((function(t){return t.getSegments([e.key()])})).$((function(t){return{uri:e,Dd:e,data:t[0].data,headers:{}}})).finally((function(){return n.destroy()}))},Yt("offline",Is),Ms.prototype.destroy=function(){var t=this;return p((function e(){return U(e,(function(e){switch(e.o){case 1:return t.s=!1,t.b&&t.b.abort(),Os(t),x(e,t.u,2);case 2:t.a&&t.a.La.ub();for(var n=h(t.f),r=n.next();!r.done;r=n.next())r.value.La.ub();t.a=null,t.f=[],t.g=null,S(e)}}))}))},V("shaka.text.SimpleTextDisplayer",Ls),Ls.prototype.remove=function(t,e){return!!this.a&&(Ds(this.a,(function(n){return n.startTime<e&&n.endTime>t})),!0)},Ls.prototype.remove=Ls.prototype.remove,Ls.prototype.append=function(t){for(var e=Us,n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}n.slice().sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:n.indexOf(e)-n.indexOf(t)})).forEach(function(t){this.a.addCue(t)}.bind(this))},Ls.prototype.append=Ls.prototype.append,Ls.prototype.destroy=function(){return this.a&&Ds(this.a,(function(){return!0})),this.a=null,Promise.resolve()},Ls.prototype.destroy=Ls.prototype.destroy,Ls.prototype.isTextVisible=function(){return"showing"==this.a.mode},Ls.prototype.isTextVisible=Ls.prototype.isTextVisible,Ls.prototype.setTextVisibility=function(t){this.a.mode=t?"showing":"hidden"},Ls.prototype.setTextVisibility=Ls.prototype.setTextVisibility,V("shaka.util.ConfigUtils.mergeConfigObjects",js),V("shaka.util.ConfigUtils.convertToConfigObject",Fs),V("shaka.util.PlayerConfiguration",Bs),Bs.mergeConfigObjects=Gs,K(Xs,$),V("shaka.Player",Xs),Xs.prototype.destroy=function(){var t=this;return p((function e(){var n;return U(e,(function(e){switch(e.o){case 1:return t.l==Ou?e.return():(t.l=Ou,n=Rs(t.Cb,(function(){return{node:t.F,payload:{Sa:null,C:null,mimeType:null,startTime:null,Td:null,uri:null},rb:!1}})),x(e,new Promise((function(t){n.Ob=function(){},n.Kc=function(){t()},n.ub=function(){t()},n.onError=function(){t()},n.Mc=function(){t()}})),2));case 2:return x(e,t.Cb.destroy(),3);case 3:if(t.g&&(t.g.release(),t.g=null),t.Xc=null,t.s=null,t.c=null,!t.I){e.B(0);break}return x(e,t.I.destroy(),5);case 5:t.I=null,S(e)}}))}))},Xs.prototype.destroy=Xs.prototype.destroy,Xs.version="v2.5.9";var Ys=["2","5"];fr=new function(t){this.a=t,this.c=cr,this.b=lr}(new sr(Number(Ys[0]),Number(Ys[1])));var $s=["output-restricted","internal-error"],Zs={};function Js(){if(!(t.Promise&&t.Uint8Array&&Array.prototype.forEach))return!1;var e=de();return!(e&&12>e||!(t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration))&&(!!le()||fe("application/x-mpegurl"))}function Qs(t,e){return p((function n(){return U(n,(function(n){switch(n.o){case 1:if(t.l!=Ou&&(t.l=Lu),t.dispatchEvent(new H("unloading")),e.Sa=null,e.mimeType=null,e.startTime=null,e.uri=null,e.C&&(t.g.ra(e.C,"loadeddata"),t.g.ra(e.C,"playing"),t.g.ra(e.C,"pause"),t.g.ra(e.C,"ended"),t.g.ra(e.C,"ratechange")),t.Fa&&(t.Fa.release(),t.Fa=null),t.uc&&(t.uc.stop(),t.uc=null),!t.v){n.B(2);break}return x(n,t.v.stop(),3);case 3:t.v=null;case 2:if(!t.s){n.B(4);break}return x(n,t.s.stop(),4);case 4:if(!t.f){n.B(6);break}return x(n,t.f.destroy(),7);case 7:t.f=null;case 6:if(t.u&&(t.u.release(),t.u=null),!t.H){n.B(8);break}return x(n,t.H.destroy(),9);case 9:t.H=null;case 8:if(!e.C||!e.C.src){n.B(10);break}return x(n,new Promise((function(t){return new It(t).R(.1)})),11);case 11:e.C.removeAttribute("src"),e.C.load();case 10:if(!t.j){n.B(12);break}return x(n,t.j.destroy(),13);case 13:t.j=null;case 12:t.Y.a.clear(),t.Zb=null,t.D=null,t.wc.clear(),t.b=null,t.w=null,t.bd=null,t.Bb=!0,cu(t),S(n)}}))}))}function tu(t,e){t.D=new ja,t.D.a=Ba,Fa(t.D,e,Math.min(.5,e/2)),cu(t),t.uc=new It((function(){eu(t)})).Oa(.25)}function eu(t){switch(t.l){case Du:var e=!!t.a.ended||$e(t.a.buffered)>=t.a.duration-1;break;case Uu:t:if(t.a.ended||Ln(t.H))e=!0;else{if(t.b.presentationTimeline.V()){var n=t.b.presentationTimeline.Gb();if($e(t.a.buffered)>=n){e=!0;break t}}e=!1}break;default:e=!1}var r=Je(t.a.buffered,t.a.currentTime),i=e,a=(n=t.D).b.get(n.a);e=n.a,r=i||r>=a?za:Ba,n.a=r,e!=r&&cu(t)}function nu(t){if(t.v&&t.v.configure(t.c.manifest),t.j&&t.j.configure(t.c.drm),t.f){t.f.configure(t.c.streaming);try{t.b.periods.forEach(t.dd.bind(t))}catch(e){t.hb(e)}var e=bo(t.f),n=wo(t.f),r=Iu(t);e=ir(e,n,r.variants),t.s&&e&&e.allowedByApplication&&e.allowedByKeySystem?fu(t,r.variants):hu(t,r)}if(t.H&&(r=t.c.textDisplayFactory,t.bd!=r)){e=new r;var i=(n=t.H).g;n.g=e,i&&(e.setTextVisibility(i.isTextVisible()),i.destroy()),n.a&&(n.a.c=e),t.bd=r,t.f&&((e=(r=t.f).b.get("text"))&&So(r,e.stream,!0,0,!0))}t.s&&(t.s.configure(t.c.abr),t.c.abr.enabled&&!t.Bb?t.s.enable():t.s.disable(),bu(t)),t.D&&(r=t.c.streaming.rebufferingGoal,t.b&&(r=Math.max(r,t.b.minBufferTime)),Fa(t.D,r,Math.min(.5,r/2)))}function ru(t,e,n,r){Na(t.Y,e).variant=n,(t=t.w.c).c!=n&&(t.c=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"variant",fromAdaptation:r,bandwidth:n.bandwidth}))}function iu(t,e,n,r){Ia(t.Y,e,n),(t=t.w.c).b!=n&&(t.b=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"text",fromAdaptation:r,bandwidth:null}))}function au(t){var e=zs();return e.streaming.failureCallback=function(e){t.V()&&[1001,1002,1003].includes(e.code)&&(e.severity=1,t.Jd())},e.textDisplayFactory=function(){return new Ls(t.a)},e}function ou(t,e){var n=t.f?bo(t.f):null,r=t.f?wo(t.f):null;if(e.forEach(Wn.bind(null,t.j,n,r)),0==(n=function(t,e){var n=0;return t.forEach((function(t){n+=e(t)?1:0})),n}(e,(function(t){return t.variants.some(tr)}))))throw new Mt(2,4,4032);if(n<e.length)throw new Mt(2,4,4011);e.forEach(function(t){qn(t.variants,this.c.restrictions,this.xc)&&this.f&&Iu(this)==t&&vu(this),xu(this,t.variants)}.bind(t))}function su(t,e,n,r){n=void 0!==n&&n,r=void 0===r?0:r,t.Bb?(t.ha=e,t.ve=n,t.ue=r):(xo(t.f,e,n,r),mu(t))}function uu(t,e){t.Bb?t.ea=e:(So(t.f,e,!0,0,!1),yu(t))}function cu(t){var e=t.Ib();if(t.w&&t.D&&t.u){var n=t.U;n.f=e,Qa(n),lu(t)}t.dispatchEvent(new H("buffering",{buffering:e}))}function lu(t){if(t.w&&t.D){var e=t.w.a;t.D.a==Ba?Ks(e,"buffering"):t.a.paused?Ks(e,"paused"):t.a.ended?Ks(e,"ended"):Ks(e,"playing")}}function fu(t,e){try{xu(t,e)}catch(e){return t.hb(e),null}var n=e.filter((function(t){return tr(t)}));return n=t.$b.create(n),t.s.setVariants(Array.from(n.values())),t.s.chooseVariant()}function hu(t,e){du(t,e,!1);var n=!1;n=void 0===n||n;var r=nr(e.textStreams,t.ba,t.Da)[0]||null;r&&(t.c.streaming.alwaysStreamText||t.cb())&&(iu(t,e,r,!0),uu(t,r)),n&&pu(t),pu(t)}function du(t,e,n){n=void 0===n||n;var r=fu(t,e.variants);r&&(ru(t,e,r,!0),su(t,r,!0)),n&&pu(t)}function pu(t){Su(t,new H("adaptation"))}function vu(t){Su(t,new H("trackschanged"))}function mu(t){Su(t,new H("variantchanged"))}function yu(t){Su(t,new H("textchanged"))}function gu(t){Su(t,new H("texttrackvisibility"))}function bu(t){Su(t,new H("abrstatuschanged",{jg:t.c.abr.enabled}))}function wu(t,e,n){t.dispatchEvent(new H(e,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function Eu(t){if(!t.a.error)return null;var e=t.a.error.code;if(1==e)return null;var n=t.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new Mt(2,3,3016,e,n,t.a.error.message)}function _u(t,e){if(t.f){var n=Iu(t),r=!1,i=Object.keys(e),a=1==i.length&&"00"==i[0];i.length&&t.b.periods.forEach((function(t){t.variants.forEach((function(t){(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e})(t).forEach((function(n){var i=t.allowedByKeySystem;n.keyId&&(n=e[a?"00":n.keyId],t.allowedByKeySystem=!!n&&!$s.includes(n)),i!=t.allowedByKeySystem&&(r=!0)}))}))})),(i=ir(i=bo(t.f),wo(t.f),n.variants))&&!i.allowedByKeySystem&&du(t,n),r&&(vu(t),fu(t,n.variants))}}function Tu(t,e,n){t.v&&t.v.onExpirationUpdated&&t.v.onExpirationUpdated(e,n),t.dispatchEvent(new H("expirationupdated"))}function xu(t,e){var n=t.j?oe(t.j.U):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,o=[],s=[],u=h(e),c=u.next();!c.done;c=u.next()){var l=[];(c=c.value).audio&&l.push(c.audio),c.video&&l.push(c.video);for(var f=(l=h(l)).next();!f.done;f=l.next())if((f=f.value).keyId){var d=n[r?"00":f.keyId];d?$s.includes(d)&&(s.includes(d)||s.push(d)):o.includes(f.keyId)||o.push(f.keyId)}c.allowedByApplication?c.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new Mt(2,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:s})}function Su(t,e){p((function n(){return U(n,(function(n){switch(n.o){case 1:return x(n,Promise.resolve(),2);case 2:t.l!=Ou&&t.dispatchEvent(e),S(n)}}))}))}function Au(t){for(var e=new Set,n=(t=h(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(et(n.language)):e.add("und");return e}function ku(t){for(var e=new Map,n=(t=h(t)).next();!n.done;n=t.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=et(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),e.has(n)||e.set(n,new Set),i=(r=h(i)).next();!i.done;i=r.next())i=i.value,e.get(n).add(i)}var a=[];return e.forEach((function(t,e){for(var n=h(t),r=n.next();!r.done;r=n.next())a.push({language:e,role:r.value})})),a}function Cu(t){return null==(t=Iu(t))?[]:t.variants.filter((function(t){return tr(t)}))}function Iu(t){for(var e=t.u.j(),n=null,r=(t=h(t.b.periods)).next();!r.done;r=t.next())(r=r.value).startTime<=e&&(n=r);return n}function Nu(t){var e=Iu(t);return Na(t.Y,e).variant}function Pu(){return new Mt(2,7,7e3)}function Mu(t,e,n,r,i,a){return r==t&&i.C==a.C&&i.uri==a.uri&&i.mimeType==a.mimeType&&i.Sa==a.Sa?e:n}function Ru(t){return new Promise((function(e,n){t.ub=function(){return n(Pu())},t.Kc=function(){return e()},t.onError=function(t){return n(t)},t.Mc=function(){return n(Pu())}}))}Xs.registerSupportPlugin=function(t,e){Zs[t]=e},Xs.isBrowserSupported=Js,Xs.probeSupport=function(){return Be().then((function(t){for(var e=Pi.Jg(),n={},r=h('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),i=r.next();!i.done;i=r.next()){n[i=i.value]=le()?!!Cn(i)||(MediaSource.isTypeSupported(i)||sn(i)):fe(i);var a=i.split(";")[0];n[a]=n[a]||n[i]}for(var o in t={manifest:e,media:n,drm:t},Zs)t[o]=Zs[o]();return t}))},Xs.prototype.ac=function(t,e){if(e=void 0===e||e,this.l==Ou)return Promise.reject(Pu());var n={Sa:null,C:null,mimeType:null,startTime:null,Td:null,uri:null};n.C=t,le()||(e=!1);var r=e?this.Ea:this.L,i=Rs(this.Cb,(function(){return{node:r,payload:n,rb:!1}}));return i.Ob=function(){},Ru(i)},Xs.prototype.attach=Xs.prototype.ac,Xs.prototype.detach=function(){var t=this;if(this.l==Ou)return Promise.reject(Pu());var e=Rs(this.Cb,(function(){return{node:t.F,payload:{Sa:null,C:null,mimeType:null,startTime:null,Td:null,uri:null},rb:!1}}));return e.Ob=function(){},Ru(e)},Xs.prototype.detach=Xs.prototype.detach,Xs.prototype.Yd=function(t){var e=this;if(t=void 0===t||t,this.l==Ou)return Promise.reject(Pu());le()||(t=!1);var n={Sa:null,C:null,mimeType:null,startTime:null,Td:null,uri:null},r=Rs(this.Cb,(function(r){var i=r.C&&t?e.Ea:r.C?e.L:e.F;return n.C=r.C,{node:i,payload:n,rb:!1}}));return r.Ob=function(){},Ru(r)},Xs.prototype.unload=Xs.prototype.Yd,Xs.prototype.load=function(t,e,n){if(this.l==Ou)return Promise.reject(Pu());this.dispatchEvent(new H("loading"));var r={Sa:null,C:null,mimeType:null,startTime:null,Td:null,uri:null};r.uri=t,r.Td=Date.now()/1e3,n&&"string"!=typeof n&&(ur("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),r.Sa=function(){return new n}),n&&"string"==typeof n&&(r.mimeType=n),void 0!==e&&(r.startTime=e);var i=function(t,e){if(e.Sa)return!1;if(!le())return!0;var n=e.mimeType,r=e.uri||"";return n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[Pi.getExtension(r)]),!!n&&(""!=(e.C||ve()).canPlayType(n)&&(!Pi.isSupported(r,n)||he()&&t.c.streaming.useNativeHlsOnSafari))}(this,r)?this.Qa:this.M,a=Rs(this.Cb,(function(t){return null==t.C?null:(r.C=t.C,{node:i,payload:r,rb:!0})}));return a.Ob=function(){},new Promise((function(t,e){a.Mc=function(){return e(new Mt(2,7,7002))},a.Kc=function(){return t()},a.ub=function(){return e(Pu())},a.onError=function(t){return e(t)}}))},Xs.prototype.load=Xs.prototype.load,Xs.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Fs(t,e));var n=Gs(this.c,t,au(this));return nu(this),n},Xs.prototype.configure=Xs.prototype.configure,Xs.prototype.getConfiguration=function(){var t=au(this);return Gs(t,this.c,au(this)),t},Xs.prototype.getConfiguration=Xs.prototype.getConfiguration,Xs.prototype.Rg=function(){for(var t in this.c)delete this.c[t];Gs(this.c,au(this),au(this)),nu(this)},Xs.prototype.resetConfiguration=Xs.prototype.Rg,Xs.prototype.Kf=function(){return this.l},Xs.prototype.getLoadMode=Xs.prototype.Kf,Xs.prototype.Sf=function(){return this.a},Xs.prototype.getMediaElement=Xs.prototype.Sf,Xs.prototype.ec=function(){return this.I},Xs.prototype.getNetworkingEngine=Xs.prototype.ec,Xs.prototype.Dc=function(){return this.Zb},Xs.prototype.getAssetUri=Xs.prototype.Dc,Xs.prototype.Qf=function(){return ur("getManifestUri",'Please use "getAssetUri" instead.'),this.Dc()},Xs.prototype.getManifestUri=Xs.prototype.Qf,Xs.prototype.V=function(){return this.b?this.b.presentationTimeline.V():!(!this.a||!this.a.src)&&1/0==this.a.duration},Xs.prototype.isLive=Xs.prototype.V,Xs.prototype.tb=function(){return!!this.b&&this.b.presentationTimeline.tb()},Xs.prototype.isInProgress=Xs.prototype.tb,Xs.prototype.pe=function(){if(this.b){if(!this.b.periods.length)return!1;var t=this.b.periods[0].variants;return!!t.length&&!t[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},Xs.prototype.isAudioOnly=Xs.prototype.pe,Xs.prototype.Wb=function(){if(this.b){var t=this.b.presentationTimeline;return{start:t.Fb(),end:t.Va()}}return this.a&&this.a.src&&(t=this.a.seekable).length?{start:t.start(0),end:t.end(t.length-1)}:{start:0,end:0}},Xs.prototype.seekRange=Xs.prototype.Wb,Xs.prototype.keySystem=function(){return Me(this.drmInfo())},Xs.prototype.keySystem=Xs.prototype.keySystem,Xs.prototype.drmInfo=function(){return this.j?this.j.a:null},Xs.prototype.drmInfo=Xs.prototype.drmInfo,Xs.prototype.dc=function(){return this.j?this.j.dc():1/0},Xs.prototype.getExpiration=Xs.prototype.dc,Xs.prototype.Ib=function(){return!!this.D&&this.D.a==Ba},Xs.prototype.isBuffering=Xs.prototype.Ib,Xs.prototype.kd=function(){if(this.U){var t=this.U;t=t.f?0:t.c}else t=0;return t},Xs.prototype.getPlaybackRate=Xs.prototype.kd,Xs.prototype.Xd=function(t){0==t?W("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.U.set(t),this.l==Uu&&To(this.f,1<Math.abs(t)))},Xs.prototype.trickPlay=Xs.prototype.Xd,Xs.prototype.be=function(){this.l==Du&&this.U.set(1),this.l==Uu&&(this.U.set(1),To(this.f,!1))},Xs.prototype.cancelTrickPlay=Xs.prototype.be,Xs.prototype.Hb=function(){if(this.b&&this.u){for(var t=Nu(this),e=[],n=h(Cu(this)),r=n.next();!r.done;r=n.next()){var i=Yn(r=r.value);i.active=r==t,e.push(i)}return e}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(t){var e=Qn(t);return e.active=t.enabled,e.type="variant",e.originalAudioId=t.id,"main"==t.kind?(e.primary=!0,e.roles=["main"],e.audioRoles=["main"]):e.audioRoles=[],e})):[]},Xs.prototype.getVariantTracks=Xs.prototype.Hb,Xs.prototype.ab=function(){if(this.b&&this.u){for(var t=function(t){var e=Iu(t);if(null==e)return null;if(!Na(t.Y,e).text){var n=nr(e.textStreams,t.ba,t.Da);n.length&&Ia(t.Y,e,n[0])}return Na(t.Y,e).text}(this),e=[],n=h(function(t){var e=Iu(t);return null==e?[]:e.textStreams.filter((function(e){return!t.wc.has(e)}))}(this)),r=n.next();!r.done;r=n.next()){var i=$n(r=r.value);i.active=r==t,e.push(i)}return e}return this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).map((function(t){var e=Qn(t);return e.active="disabled"!=t.mode,e.type="text",e.originalTextId=t.id,"captions"==t.kind&&(e.mimeType="application/cea-608"),e})):[]},Xs.prototype.getTextTracks=Xs.prototype.ab,Xs.prototype.Kd=function(t){if(this.b&&this.f){var e=Iu(this),n=e.textStreams.find((function(e){return e.id==t.id}));n&&(iu(this,e,n,!1),uu(this,n),this.ba=n.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(n=(e=h(e=Array.from(this.a.textTracks))).next();!n.done;n=e.next())Zn(n=n.value)==t.id?n.mode=this.Ga?"showing":"hidden":n.mode="disabled";yu(this)}},Xs.prototype.selectTextTrack=Xs.prototype.Kd,Xs.prototype.Ug=function(){ur("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var t=this.ab().filter((function(t){return"application/cea-608"==t.mimeType}));0<t.length&&this.Kd(t[0])},Xs.prototype.selectEmbeddedTextTrack=Xs.prototype.Ug,Xs.prototype.mh=function(){ur("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var t=this.ab().filter((function(t){return t.active}))[0];return!!t&&"application/cea-608"==t.mimeType},Xs.prototype.usingEmbeddedTextTrack=Xs.prototype.mh,Xs.prototype.Se=function(t,e,n){if(n=void 0===n?0:n,this.b&&this.f){var r=Iu(this);this.c.abr.enabled&&W("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=r.variants.find((function(e){return e.id==t.id}));i&&tr(i)&&(ru(this,r,i,!1),su(this,i,e,n),this.$b=new Ua(i),fu(this,r.variants))}else if(this.a&&this.a.audioTracks){for(n=(e=h(e=Array.from(this.a.audioTracks))).next();!n.done;n=e.next())Zn(n=n.value)==t.id&&(n.enabled=!0);mu(this)}},Xs.prototype.selectVariantTrack=Xs.prototype.Se,Xs.prototype.Bf=function(){return ku(this.Hb())},Xs.prototype.getAudioLanguagesAndRoles=Xs.prototype.Bf,Xs.prototype.$f=function(){return ku(this.ab())},Xs.prototype.getTextLanguagesAndRoles=Xs.prototype.$f,Xs.prototype.Af=function(){return Array.from(Au(this.Hb()))},Xs.prototype.getAudioLanguages=Xs.prototype.Af,Xs.prototype.Zf=function(){return Array.from(Au(this.ab()))},Xs.prototype.getTextLanguages=Xs.prototype.Zf,Xs.prototype.Qe=function(t,e){if(this.b&&this.u){var n=Iu(this);this.$b=new Da(t,e||"",0,"","audio"),du(this,n)}else if(this.a&&this.a.audioTracks){for(var r=(n=h(n=Array.from(this.a.audioTracks))).next();!r.done;r=n.next())(r=r.value).language==t&&(r.enabled=!0);mu(this)}},Xs.prototype.selectAudioLanguage=Xs.prototype.Qe,Xs.prototype.Re=function(t,e){if(this.b&&this.u){var n=Iu(this);this.ba=t,this.Da=e||"";var r=nr(n.textStreams,this.ba,this.Da)[0]||null;r&&(iu(this,n,r,!1),(this.c.streaming.alwaysStreamText||this.cb())&&uu(this,r))}else(n=this.ab().filter((function(e){return e.language==t}))[0])&&this.Kd(n)},Xs.prototype.selectTextLanguage=Xs.prototype.Re,Xs.prototype.Vg=function(t){if(this.b&&this.u){for(var e=Iu(this),n=null,r=h(Cu(this)),i=r.next();!i.done;i=r.next())if((i=i.value).audio.label==t){n=i;break}null!=n&&(this.$b=new Da(n.language,"",0,t),du(this,e))}},Xs.prototype.selectVariantsByLabel=Xs.prototype.Vg,Xs.prototype.cb=function(){var t=this.Ga;return this.b?this.H.g.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).some((function(t){return"showing"==t.mode})):t},Xs.prototype.isTextTrackVisible=Xs.prototype.cb,Xs.prototype.Rd=function(t){var e=this;return p((function n(){var r,i,a,o;return U(n,(function(n){switch(n.o){case 1:if(e.Ga==(r=t))return n.return();if(e.Ga=r,e.l!=Uu){if(e.a&&e.a.src&&e.a.textTracks)for(var s=h(Array.from(e.a.textTracks)),u=s.next();!u.done;u=s.next())"disabled"!=(i=u.value).mode&&(i.mode=t?"showing":"hidden");n.B(2);break}if(e.H.g.setTextVisibility(t),e.c.streaming.alwaysStreamText){n.B(2);break}if(!t){(s=e.f).F=!0,(u=s.b.get("text"))&&(Go(u),s.b.delete("text")),n.B(2);break}if(a=Iu(e),!(0<(o=nr(a.textStreams,e.ba,e.Da)).length)){n.B(2);break}return x(n,_o(e.f,o[0]),2);case 2:gu(e),S(n)}}))}))},Xs.prototype.setTextTrackVisibility=Xs.prototype.Rd,Xs.prototype.Vf=function(){if(!this.V())return null;if(this.b)return new Date(1e3*(this.b.presentationTimeline.f+this.a.currentTime));if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?null:new Date(t.getTime()+1e3*this.a.currentTime)}return null},Xs.prototype.getPlayheadTimeAsDate=Xs.prototype.Vf,Xs.prototype.Xf=function(){if(!this.V())return null;if(this.b)return new Date(1e3*this.b.presentationTimeline.f);if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?null:t}return null},Xs.prototype.getPresentationStartTimeAsDate=Xs.prototype.Xf,Xs.prototype.hd=function(){var t={total:[],audio:[],video:[],text:[]};return this.l==Du&&(t.total=Qe(this.a.buffered)),this.l==Uu&&this.H.hd(t),t},Xs.prototype.getBufferedInfo=Xs.prototype.hd,Xs.prototype.getStats=function(){if(this.l!=Uu&&this.l!=Du)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,switchHistory:[],stateHistory:[]};lu(this);var t=this.a;if(t.getVideoPlaybackQuality){t=t.getVideoPlaybackQuality();var e=this.w,n=Number(t.totalVideoFrames);e.u=Number(t.droppedVideoFrames),e.s=n,this.w.l=Number(t.corruptedVideoFrames)}this.j?t=(t=this.j).I?t.I:NaN:t=NaN,this.w.j=t,this.l==Uu&&((t=Nu(this))&&(this.w.v=t.bandwidth),t&&t.video&&(e=this.w,n=t.video.height||NaN,e.w=t.video.width||NaN,e.g=n),t=this.s.getBandwidthEstimate(),this.w.f=t);var r=this.w;t=r.w,e=r.g,n=r.v;for(var i=r.s,a=r.u,o=r.l,s=r.f,u=r.b,c=Hs(r.a,"playing"),l=Hs(r.a,"paused"),f=Hs(r.a,"buffering"),d=r.j,p=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=h(t.b),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.a&&n.push(e(t.a)),n}(r.a),v=[],m=(r=h(r.c.a)).next();!m.done;m=r.next())m=m.value,v.push({timestamp:m.timestamp,id:m.id,type:m.type,fromAdaptation:m.fromAdaptation,bandwidth:m.bandwidth});return{width:t,height:e,streamBandwidth:n,decodedFrames:i,droppedFrames:a,corruptedFrames:o,estimatedBandwidth:s,loadLatency:u,playTime:c,pauseTime:l,bufferingTime:f,licenseTime:d,stateHistory:p,switchHistory:v}},Xs.prototype.getStats=Xs.prototype.getStats,Xs.prototype.addTextTrack=function(t,e,n,r,i,a){var o=this;return p((function s(){var u,c,l,f,h,d,p,v,m;return U(s,(function(s){switch(s.o){case 1:if(o.l==Du)throw Error("State error!");if(o.l!=Uu)throw Error("State error!");if(u=Iu(o),c=rn,l=o.b.periods.indexOf(u),h=(f=l+1)>=o.b.periods.length?o.b.presentationTimeline.ka():o.b.periods[f].startTime,1/0==(d=h-u.startTime))throw new Mt(1,4,4033);return p=new di(1,0,d,(function(){return[t]}),0,null),v={id:o.Le++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1==t?p:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:e,label:a||null,type:c.Ha,primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},o.wc.add(v),u.textStreams.push(v),x(s,_o(o.f,v),2);case 2:return(m=Eo(o.f,"text"))&&Ia(o.Y,u,m),o.wc.delete(v),hu(o,u),vu(o),s.return($n(v))}}))}))},Xs.prototype.addTextTrack=Xs.prototype.addTextTrack,Xs.prototype.Nd=function(t,e){this.xc.width=t,this.xc.height=e},Xs.prototype.setMaxHardwareResolution=Xs.prototype.Nd,Xs.prototype.Jd=function(){if(this.l==Uu){var t=this.f;if(t.f)t=!1;else if(t.u)t=!1;else{for(var e=h(t.b.values()),n=e.next();!n.done;n=e.next())(n=n.value).ic&&(n.ic=!1,zo(t,n,.1));t=!0}}else t=!1;return t},Xs.prototype.retryStreaming=Xs.prototype.Jd,Xs.prototype.Of=function(){return this.b},Xs.prototype.getManifest=Xs.prototype.Of,Xs.prototype.Pf=function(){return this.v?this.v.constructor:null},Xs.prototype.getManifestParserFactory=Xs.prototype.Pf,(r=Xs.prototype).dd=function(t){var e=this.f?bo(this.f):null,n=this.f?wo(this.f):null;if(Wn(this.j,e,n,t),!(e=t.variants).some(tr))throw new Mt(2,4,4011);if(xu(this,t.variants),qn(e,this.c.restrictions,this.xc)&&this.f&&Iu(this)==t&&vu(this),t=this.j?this.j.a:null)for(n=(e=h(e)).next();!n.done;n=e.next())for(var r=(n=h(n.value.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t.keySystem)for(var i=(r=h(r.initData||[])).next();!i.done;i=r.next())i=i.value,Pe(this.j,i.initDataType,i.initData)},r.kg=function(t){try{this.Bb=!0,this.s.disable(),bu(this);var e=fu(this,t.variants),n=nr(t.textStreams,this.ba,this.Da)[0]||null;this.ha&&(t.variants.includes(this.ha)&&(e=this.ha),this.ha=null),this.ea&&(t.textStreams.includes(this.ea)&&(n=this.ea),this.ea=null),e&&ru(this,t,e,!0),n&&iu(this,t,n,!0);var r=this.f,i=r.b.get("video");if(i)var a=r.c.periods[i.xa];else{var o=r.b.get("audio");a=o?r.c.periods[o.xa]:null}var s=e?e.audio:null;if(!a&&n){var u;if(u=s){t=n;var c=et(this.c.preferredTextLanguage),l=et(s.language),f=et(t.language);u=Q(f,c)&&!Q(l,f)}u&&(this.Ga=!0),this.Ga&&this.H.g.setTextVisibility(!0),gu(this)}return this.c.streaming.alwaysStreamText||this.cb()?{variant:e,text:n}:{variant:e,text:null}}catch(t){return this.hb(t),{variant:null,text:null}}},r.rf=function(){this.Bb=!1,this.c.abr.enabled&&(this.s.enable(),bu(this)),this.ha&&(xo(this.f,this.ha,this.ve,this.ue),mu(this),this.ha=null),this.ea&&(So(this.f,this.ea,!0,0,!1),yu(this),this.ea=null)},r.qg=function(){this.v&&this.v.update&&this.v.update()},r.zg=function(){this.u&&this.u.v()},r.hb=function(t){if(this.l!=Ou){var e=new H("error",{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}};var Ou=0,Lu=1,Uu=2,Du=3;function ju(t,e){var n=Ss(new xs(t.Ma(),t.oa()),e.periods[0],new Mi(null,0)),r=e.appMetadata||{};return n=Fu(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:r}}function Fu(t){for(var e=[],n=function(t){return t.filter((function(t){return tr(t)}))}(t.variants),r=(n=h(n)).next();!r.done;r=n.next())e.push(Yn(r.value));for(n=(t=h(t.textStreams)).next();!n.done;n=t.next())e.push($n(n.value));return e}function Bu(){this.a={}}function zu(t,e){var n=t.a[e];return null==n&&(n=0),n}function Gu(t){this.a=!1,this.b=new Rt,this.c=t}function Vu(t){var e=t.audio;t=t.video,this.b=e?e.mimeType:null,this.a=e?e.codecs.split(".")[0]:null,this.f=t?t.mimeType:null,this.c=t?t.codecs.split(".")[0]:null}function Ku(){this.a=[]}function Hu(t){for(var e=new Ku,n=(t=h(t)).next();!n.done;n=t.next())e.add(new Vu(n.value));return e}function qu(t){var e=this;if(t&&t.constructor!=Xs)throw new Mt(2,9,9008);this.b=this.a=null,t?(this.a=t.c,this.b=t.ec()):(this.a=zs(),this.b=new Wt),this.f=!1,this.c=[],this.g=[];var n=!t;this.j=new Gu((function(){return p((function t(){var r;return U(t,(function(t){switch(t.o){case 1:return r=function(){},x(t,Promise.all(e.g.map((function(t){return t.then(r,r)}))),2);case 2:if(!n){t.B(3);break}return x(t,e.b.destroy(),3);case 3:e.a=null,e.b=null,S(t)}}))}))}))}function Wu(){if(le())t:{for(var t=h(os.values()),e=t.next();!e.done;e=t.next())if(e=(e=e.value)()){e.destroy(),t=!0;break t}t=!1}else t=!1;return t}function Xu(t,e){for(var n=[],r=h(t.periods),i=r.next();!i.done;i=r.next())for(var a=(i=h(i.value.streams)).next();!a.done;a=i.next())a=a.value,e&&"video"==a.contentType?n.push({contentType:se(a.mimeType,a.codecs),robustness:t.drmInfo.videoRobustness}):e||"audio"!=a.contentType||n.push({contentType:se(a.mimeType,a.codecs),robustness:t.drmInfo.audioRobustness});return n}function Yu(t,e,n){return p((function r(){return U(r,(function(r){switch(r.o){case 1:return x(r,function(t,e,n,r){return p((function i(){var a,o,s;return U(i,(function(i){switch(i.o){case 1:return r.drmInfo?(a=function(t){var e=Array.from(t.a.keys());if(!e.length)throw new Mt(2,9,9e3,"No supported storage mechanisms found");return t.a.get(e[0]).getEmeSessionCell()}(n),o=r.sessionIds.map((function(t){return{sessionId:t,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:Xu(r,!1),videoCapabilities:Xu(r,!0)}})),x(i,Ns(e,t,o),2)):i.return();case 2:return s=i.A,x(i,a.remove(s),3);case 3:return x(i,a.add(o.filter((function(t){return-1==s.indexOf(t.sessionId)}))),0)}}))}))}(t.b,t.a.drm,n,e),0)}}))}))}function $u(t,e,n,r){function i(){s+=1,t.a.offline.progressCallback(u,s/o)}var a=function(t){var e=[];return t.periods.forEach((function(t){t.streams.forEach((function(t){null!=t.initSegmentKey&&e.push(t.initSegmentKey),t.segments.forEach((function(t){e.push(t.dataKey)}))}))})),e}(r),o=a.length+1,s=0,u=ju(n,r);return Promise.all([e.removeSegments(a,i),e.removeManifests([n.key()],i)])}function Zu(t,e,n,r,i,a){var o={id:a.id,originalId:a.originalId,primary:a.primary,presentationTimeOffset:a.presentationTimeOffset||0,contentType:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:a.pixelAspectRatio,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,initSegmentKey:null,encrypted:a.encrypted,keyId:a.keyId,segments:[],variantIds:[]};i=i.presentationTimeline.gc();var s=a.id,u=a.initSegmentReference;return u&&(u=Ri(u.c(),u.b,u.a,t.a.streaming.retryParameters),Yo(e,s,u,.5*zu(r,a.id),!0,(function(e){return p((function r(){var i;return U(r,(function(r){switch(r.o){case 1:return x(r,n.addSegments([{data:e}]),2);case 2:i=r.A,t.c.push(i[0]),o.initSegmentKey=i[0],S(r)}}))}))}))),function(t,e,n){for(var r=null==(e=t.findSegmentPosition(e))?null:t.getSegmentReference(e);r;)n(r),r=t.getSegmentReference(++e)}(a,i,(function(i){var u=Ri(i.c(),i.b,i.a,t.a.streaming.retryParameters);Yo(e,s,u,function(t,e,n){return n=n.endTime-n.startTime,zu(t,e)*n}(r,a.id,i),!1,(function(e){return p((function r(){var a;return U(r,(function(r){switch(r.o){case 1:return x(r,n.addSegments([{data:e}]),2);case 2:a=r.A,t.c.push(a[0]),o.segments.push({startTime:i.startTime,endTime:i.endTime,dataKey:a[0]}),S(r)}}))}))}))})),o}function Ju(t){if(t.j.a)throw new Mt(2,9,7001)}function Qu(){if(!Wu())throw new Mt(2,9,9e3)}function tc(t,e){return p((function n(){return U(n,(function(n){switch(n.o){case 1:return t.g.push(e),k(n,2),x(n,e,4);case 4:return n.return(n.A);case 2:N(n),Vt(t.g,e),P(n,0)}}))}))}function ec(t){for(var e=new Set,n=(t=h(t.periods)).next();!n.done;n=t.next()){for(var r=h((n=n.value).textStreams),i=r.next();!i.done;i=r.next())e.add(i.value);for(r=(n=h(n.variants)).next();!r.done;r=n.next())(r=r.value).audio&&e.add(r.audio),r.video&&e.add(r.video)}return e}function nc(t){t.variants.map((function(t){return t.video}));var e=new Set(t.variants.map((function(t){return t.audio})));t=t.textStreams;for(var n=h(e),r=n.next();!r.done;r=n.next())for(var i=(r=h(e)).next();!i.done;i=r.next());for(n=(e=h(t)).next();!n.done;n=e.next())for(r=(n=h(t)).next();!r.done;r=n.next());}function rc(){for(var t=0;t<oc.length;++t)try{oc[t].qf()}catch(t){W("Error installing polyfill!",t)}}Xs.LoadMode={DESTROYED:Ou,NOT_LOADED:Lu,MEDIA_SOURCE:Uu,SRC_EQUALS:Du},Gu.prototype.destroy=function(){var t=this;return this.a?this.b:(this.a=!0,this.c().then((function(){t.b.resolve()}),(function(){t.b.resolve()})))},Ku.prototype.add=function(t){this.contains(t)||this.a.push(t)},Ku.prototype.contains=function(t){return this.a.some((function(e){return t.b==e.b&&t.a==e.a&&t.f==e.f&&t.c==e.c}))},V("shaka.offline.Storage",qu),qu.support=Wu,qu.prototype.destroy=function(){return this.j.destroy()},qu.prototype.destroy=qu.prototype.destroy,qu.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Fs(t,e));var n=t,r=!1;return null!=n.trackSelectionCallback&&(r=!0,n.offline=n.offline||{},n.offline.trackSelectionCallback=n.trackSelectionCallback,delete n.trackSelectionCallback),null!=n.progressCallback&&(r=!0,n.offline=n.offline||{},n.offline.progressCallback=n.progressCallback,delete n.progressCallback),null!=n.usePersistentLicense&&(r=!0,n.offline=n.offline||{},n.offline.usePersistentLicense=n.usePersistentLicense,delete n.usePersistentLicense),r&&ur("Storage.configure with OfflineConfig","Please configure storage with a player configuration."),Gs(this.a,t)},qu.prototype.configure=qu.prototype.configure,qu.prototype.getConfiguration=function(){var t=zs();return Gs(t,this.a,zs()),t},qu.prototype.getConfiguration=qu.prototype.getConfiguration,qu.prototype.ec=function(){return this.b},qu.prototype.getNetworkingEngine=qu.prototype.ec,qu.prototype.store=function(t,e,n){var r=this;return tc(this,function(t,e,n,r){return p((function i(){var a,o,s,u,c,l,f,d,v;return U(i,(function(i){switch(i.o){case 1:return Qu(),t.f?i.return(Promise.reject(new Mt(2,9,9006))):(t.f=!0,x(i,function(t,e,n){return p((function r(){var i,a,o,s,u,c;return U(r,(function(r){switch(r.o){case 1:return i=null,a=t.b,o={networkingEngine:a,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(t){i=t}},x(r,n(),2);case 2:return(s=r.A).configure(t.a.manifest),Ju(t),k(r,3),x(r,s.start(e,o),5);case 5:return u=r.A,Ju(t),c=ec(u),x(r,Promise.all(Array.from(c).map((function(t){return t.createSegmentIndex()}))),6);case 6:if(Ju(t),i)throw i;return r.return(u);case 3:return N(r),x(r,s.stop(),7);case 7:P(r,0)}}))}))}(t,e,r),2));case 2:if(a=i.A,Ju(t),!(!a.presentationTimeline.V()&&!a.presentationTimeline.tb()))throw new Mt(2,9,9005,e);return o=null,s=new rs,c=u=null,A(i,3,4),x(i,function(t,e,n){return p((function r(){var i,a,o;return U(r,(function(r){switch(r.o){case 1:return i=new Ae({Lb:t.b,onError:n,Lc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),a=Ya(e.periods),o=t.a,i.configure(o.drm),x(r,function(t,e,n){return t.v=[],t.F=n,Ce(t,e)}(i,a,o.offline.usePersistentLicense),2);case 2:return x(r,Ie(i),3);case 3:return x(r,Ne(i),4);case 4:return r.return(i)}}))}))}(t,a,(function(t){c=c||t})),6);case 6:if(o=i.A,Ju(t),c)throw c;return function(t,e,n){(function(t,e){for(var n={width:1/0,height:1/0},r=h(t.periods),i=r.next();!i.done;i=r.next())(i=i.value).variants=i.variants.filter((function(t){return Hn(t,e,n)}))})(e,t.a.restrictions),function(t){for(var e=(t=h(t.periods)).next();!e.done;e=t.next())(e=e.value).variants=e.variants.filter((function(t){var e=!0;return t.audio&&(e=e&&Rn(t.audio)),t.video&&(e=e&&Rn(t.video)),e}))}(e),function(t,e){for(var n=h(t.periods),r=n.next();!r.done;r=n.next())(r=r.value).variants=r.variants.filter((function(t){return ze(e,t)}))}(e,n),function(t){var e=new Ku;t.periods.forEach((function(t,n){var r=Hu(t.variants);if(0==n)for(var i=(r=h(r.a)).next();!i.done;i=r.next())e.add(i.value);else!function(t,e){t.a=t.a.filter((function(t){return e.contains(t)}))}(e,r)}));for(var n=(t=h(t.periods)).next();!n.done;n=t.next())(n=n.value).variants=n.variants.filter((function(t){return e.contains(new Vu(t))}))}(e),function(t,e){var n=new Ku;t.periods.forEach((function(t,r){0<r&&(t.variants=t.variants.filter((function(t){return n.contains(new Vu(t))}))),e(t),n=Hu(t.variants)}))}(e,(function(e){for(var n=[],r=h(e.variants),i=r.next();!i.done;i=r.next())n.push(Yn(i.value));for(i=(r=h(e.textStreams)).next();!i.done;i=r.next())n.push($n(i.value));n=t.a.offline.trackSelectionCallback(n);var a=new Set,o=new Set;for(r=(n=h(n)).next();!r.done;r=n.next())"variant"==(r=r.value).type&&a.add(r.id),"text"==r.type&&o.add(r.id);e.variants=e.variants.filter((function(t){return a.has(t.id)})),e.textStreams=e.textStreams.filter((function(t){return o.has(t.id)}))})),function(t){if(0==t.periods.length)throw new Mt(2,4,4014);for(var e=(t=h(t.periods)).next();!e.done;e=t.next())nc(e.value)}(e)}(t,a,o),x(i,s.init(),7);case 7:return Ju(t),x(i,function(t){var e=null;if(t.a.forEach((function(t,n){t.getCells().forEach((function(t,r){t.hasFixedKeySpace()||e||(e={path:{Ma:n,oa:r},oa:t})}))})),e)return e;throw new Mt(2,9,9013,"Could not find a cell that supports add-operations")}(s),8);case 8:return u=i.A,Ju(t),x(i,function(t,e,n,r,i,a){return p((function o(){var s,u,c,l,f,d,v,m;return U(o,(function(o){switch(o.o){case 1:return s=function(t,e,n){var r=null==e.expiration?1/0:e.expiration;return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.ka(),size:0,expiration:r,tracks:e=Fu(e.periods[0]),appMetadata:n}}(i,r,a),u=r.periods.some((function(t){return t.variants.some((function(t){return t.drmInfos&&t.drmInfos.length}))})),c=r.periods.some((function(t){return t.variants.some((function(t){return t.drmInfos.some((function(t){return t.initData&&t.initData.length}))}))})),l=u&&!c,f=new Xo(t.b,(function(e,n){s.size=n,t.a.offline.progressCallback(s,e)}),(function(e){l&&t.a.offline.usePersistentLicense&&Pe(n,"cenc",e)})),k(o,2),v=d=function(t,e,n,r,i,a,o){var s=new Bu,u=i.periods.map((function(r){return function(t,e,n,r,i,a){i.periods.forEach((function(t){t.variants.forEach((function(t){var e=t.audio,n=t.video;if(e&&!n&&(r.a[e.id]=e.bandwidth||t.bandwidth),!e&&n&&(r.a[n.id]=n.bandwidth||t.bandwidth),e&&n){var i=e.bandwidth||393216,a=n.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),r.a[e.id]=i,r.a[n.id]=a}})),t.textStreams.forEach((function(t){r.a[t.id]=52}))}));for(var o=ec(i),s=new Map,u=(o=h(o)).next();!u.done;u=o.next()){u=u.value;var c=Zu(t,e,n,r,i,u);s.set(u.id,c)}return a.variants.forEach((function(t){t.audio&&s.get(t.audio.id).variantIds.push(t.id),t.video&&s.get(t.video.id).variantIds.push(t.id)})),{startTime:a.startTime,streams:Array.from(s.values())}}(t,e,n,s,i,r)})),c=r.a,l=t.a.offline.usePersistentLicense;return c&&l&&(c.initData=[]),{originalManifestUri:a,duration:i.presentationTimeline.ka(),size:0,expiration:r.dc(),periods:u,sessionIds:l?Oe(r):[],drmInfo:c,appMetadata:o}}(t,f,e,n,r,i,a),x(o,function(t){return p((function e(){return U(e,(function(e){switch(e.o){case 1:return x(e,Promise.all(t.b.values()),2);case 2:return e.return(t.a.a)}}))}))}(f),4);case 4:if(v.size=o.A,d.expiration=n.dc(),m=Oe(n),d.sessionIds=t.a.offline.usePersistentLicense?m:[],u&&t.a.offline.usePersistentLicense&&!m.length)throw new Mt(2,9,9007);return o.return(d);case 2:return N(o),x(o,f.destroy(),5);case 5:P(o,0)}}))}))}(t,u.oa,o,a,e,n),9);case 9:if(l=i.A,Ju(t),c)throw c;return x(i,u.oa.addManifests([l]),10);case 10:return f=i.A,Ju(t),d=new _s("manifest",u.path.Ma,u.path.oa,f[0]),i.return(ju(d,l));case 4:return N(i),t.f=!1,t.c=[],x(i,s.destroy(),11);case 11:if(!o){i.B(12);break}return x(i,o.destroy(),12);case 12:P(i,0);break;case 3:if(v=I(i),!u){i.B(14);break}return x(i,u.oa.removeSegments(t.c,(function(){})),14);case 14:throw c||v}}))}))}(this,t,e||{},(function(){return p((function e(){var i,a;return U(e,(function(e){switch(e.o){case 1:return n&&"string"!=typeof n?(ur("Storing with a manifest parser factory","Please register a manifest parser and for the mime-type."),i=n,e.return(new i)):x(e,Pi.create(t,r.b,r.a.manifest.retryParameters,n),2);case 2:return a=e.A,e.return(a)}}))}))})))},qu.prototype.store=qu.prototype.store,qu.prototype.Yf=function(){return this.f},qu.prototype.getStoreInProgress=qu.prototype.Yf,qu.prototype.remove=function(t){return tc(this,function(t,e){return p((function n(){var r,i,a,o,s,u;return U(n,(function(n){switch(n.o){case 1:return Qu(),null==(r=Ts(e))||"manifest"!=r.a?n.return(Promise.reject(new Mt(2,9,9004,e))):(i=r,a=new rs,k(n,2),x(n,a.init(),4));case 4:return x(n,is(a,i.Ma(),i.oa()),5);case 5:return x(n,(o=n.A).getManifests([i.key()]),6);case 6:return s=n.A,u=s[0],x(n,Promise.all([Yu(t,u,a),$u(t,o,i,u)]),2);case 2:return N(n),x(n,a.destroy(),8);case 8:P(n,0)}}))}))}(this,t))},qu.prototype.remove=qu.prototype.remove,qu.prototype.Og=function(){return tc(this,function(t){return p((function e(){var n,r,i,a,o,s,u,c,l;return U(e,(function(e){switch(e.o){case 1:return Qu(),n=t.b,r=t.a.drm,i=new rs,a=!1,k(e,2),x(e,i.init(),4);case 4:for(o=[],function(t,e){t.a.forEach((function(t){e(t.getEmeSessionCell())}))}(i,(function(t){return o.push(t)})),s=Promise.resolve(),u={},c=h(o),l=c.next();!l.done;u={Sc:u.Sc},l=c.next())u.Sc=l.value,s=s.then(function(t){return function(){return p((function e(){var i,o;return U(e,(function(e){switch(e.o){case 1:return x(e,t.Sc.getAll(),2);case 2:return i=e.A,x(e,Ns(r,n,i),3);case 3:return o=e.A,x(e,t.Sc.remove(o),4);case 4:o.length!=i.length&&(a=!0),S(e)}}))}))}}(u));return x(e,s,2);case 2:return N(e),x(e,i.destroy(),6);case 6:P(e,3);break;case 3:return e.return(!a)}}))}))}(this))},qu.prototype.removeEmeSessions=qu.prototype.Og,qu.prototype.list=function(){return tc(this,p((function t(){var e,n,r;return U(t,(function(t){switch(t.o){case 1:return Qu(),e=[],n=new rs,k(t,2),x(t,n.init(),4);case 4:return r=Promise.resolve(),function(t,e){t.a.forEach((function(t,n){t.getCells().forEach((function(t,r){e({Ma:n,oa:r},t)}))}))}(n,(function(t,n){r=r.then((function(){return p((function r(){return U(r,(function(r){switch(r.o){case 1:return x(r,n.getAllManifests(),2);case 2:r.A.forEach((function(n,r){var i=ju(new _s("manifest",t.Ma,t.oa,r),n);e.push(i)})),S(r)}}))}))}))})),x(t,r,2);case 2:return N(t),x(t,n.destroy(),6);case 6:P(t,3);break;case 3:return t.return(e)}}))})))},qu.prototype.list=qu.prototype.list,qu.deleteAll=function(){return p((function t(){var e;return U(t,(function(t){switch(t.o){case 1:return e=new rs,k(t,2),x(t,e.erase(),2);case 2:return N(t),x(t,e.destroy(),5);case 5:P(t,0)}}))}))},Zs.offline=Wu,V("shaka.polyfill.installAll",rc);var ic,ac,oc=[];function sc(t,e){for(var n={priority:e=e||0,qf:t},r=0;r<oc.length;r++)if(oc[r].priority<e)return void oc.splice(r,0,n);oc.push(n)}function uc(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(e,t);else(n=document.createEvent("Event")).initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(n)}function cc(t,e,n){if("input"==t)switch(this.type){case"range":t="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,t,e,n)}function lc(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=t.apply(this,n)).abort=function(){},n}}function fc(t,e){try{var n=new hc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function hc(t,e){if(this.keySystem=t,t.startsWith("com.apple.fps"))for(var n=h(e),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var s=h(i.audioCapabilities),u=s.next();!u.done;u=s.next())if((u=u.value).contentType){a=!0;var c=u.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,c)&&(r.audioCapabilities.push(u),o=!0)}if(i.videoCapabilities)for(u=(i=h(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(a=!0,u=s.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,u)&&(r.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=o?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function dc(t){var e=this.mediaKeys;return e&&e!=t&&vc(e,null),delete this.mediaKeys,(this.mediaKeys=t)?vc(t,this):Promise.resolve()}function pc(t){this.b=new WebKitMediaKeys(t),this.a=new te}function vc(t,e){if(t.a.wb(),!e)return Promise.resolve();t.a.m(e,"webkitneedkey",yc);try{return 1<=e.readyState?e.webkitSetMediaKeys(t.b):t.a.sa(e,"loadedmetadata",(function(){e.webkitSetMediaKeys(t.b)})),Promise.resolve()}catch(t){return Promise.reject(t)}}function mc(t){$.call(this),this.b=null,this.g=t,this.c=this.a=null,this.f=new te,this.sessionId="",this.expiration=NaN,this.closed=new Rt,this.keyStatuses=new bc}function yc(t){var e=new Event("encrypted");e.initDataType="cenc",e.initData=t.initData,this.dispatchEvent(e)}function gc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new H("keystatuseschange"))}function bc(){this.size=0,this.a=void 0}function wc(t,e){try{var n=new Ec(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Ec(t,e){this.keySystem=t;for(var n=!1,r=0;r<e.length;++r){var i=e[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var u=i.audioCapabilities[s];if(u.contentType){o=!0;var c=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,c)&&(a.audioCapabilities.push(u),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)(u=i.videoCapabilities[s]).contentType&&(o=!0,c=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,c)&&(a.videoCapabilities.push(u),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=a)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function _c(t){var e=this.mediaKeys;return e&&e!=t&&xc(e,null),delete this.mediaKeys,(this.mediaKeys=t)?xc(t,this):Promise.resolve()}function Tc(t){this.a=new MSMediaKeys(t),this.b=new te}function xc(t,e){if(t.b.wb(),!e)return Promise.resolve();t.b.m(e,"msneedkey",Ac);var n=t;try{return 1<=e.readyState?e.msSetMediaKeys(t.a):e.addEventListener("loadedmetadata",(function t(){e.msSetMediaKeys(n.a),e.removeEventListener("loadedmetadata",t)})),Promise.resolve()}catch(t){return Promise.reject(t)}}function Sc(t){$.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new te,this.sessionId="",this.expiration=NaN,this.closed=new Rt,this.keyStatuses=new Cc}function Ac(t){if(t.initData){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc",e.initData=function(t){if(!t)return t;var e=new ti(t);if(1>=e.data.length)return t;t=[];for(var n={},r=(e=h(e.data)).next();!r.done;n={Hc:n.Hc},r=e.next())n.Hc=r.value,t.some(function(t){return function(e){return Se.Ra(e,t.Hc)}}(n))||t.push(n.Hc);return Se.concat.apply(Se,D(t))}(t.initData),this.dispatchEvent(e)}}function kc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new H("keystatuseschange"))}function Cc(){this.size=0,this.a=void 0}function Ic(){return Promise.reject(Error("The key system specified is not supported."))}function Nc(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Pc(){throw new TypeError("Illegal constructor.")}function Mc(){throw new TypeError("Illegal constructor.")}V("shaka.polyfill.register",sc),sc((function(){Hl()}),-1),sc((function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",uc),document.addEventListener("webkitfullscreenerror",uc),document.addEventListener("mozfullscreenchange",uc),document.addEventListener("mozfullscreenerror",uc),document.addEventListener("MSFullscreenChange",uc),document.addEventListener("MSFullscreenError",uc)}})),sc((function(){var e=!1;if(pe("CrKey"))e=!0;else try{t.indexedDB&&(e=!1)}catch(t){e=!0}e&&delete t.indexedDB})),sc((function(){pe("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=cc)})),sc((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),sc((function(){})),sc((function(){var e=de();t.MediaSource&&(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var t=MediaSource.isTypeSupported,e=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],a={},o=1;o<r.length;++o){var s=r[o].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),a[u]=s}if(!(r=a.codecs))return t(n);var c=!1,l=!1;for(var f in n=r.split(",").filter((function(t){return e.test(t)&&(l=!0),/^(hev|hvc)1\.2/.test(t)&&(c=!0),!0})),l&&(c=!1),a.codecs=n.join(","),c&&(a.eotf="smpte2084"),a)i+="; "+f+'="'+a[f]+'"';return cast.__platform__.canDisplayType(i)}}():e?(function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1].toLowerCase()&&t(e)}}(),12>=e?(lc(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}()):lc()):pe("Tizen")&&function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"opus"!=ue(e)[0]&&t(e)}}())})),hc.prototype.createMediaKeys=function(){var t=new pc(this.keySystem);return Promise.resolve(t)},hc.prototype.getConfiguration=function(){return this.a},pc.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new mc(this.b,t)},pc.prototype.setServerCertificate=function(t){return t&&new Uint8Array(t),Promise.resolve(!0)},K(mc,$),(r=mc.prototype).generateRequest=function(t,e){this.a=new Rt;try{this.b=this.g.createSession("video/mp4",new Uint8Array(e)),this.sessionId=this.b.sessionId||"",this.f.m(this.b,"webkitkeymessage",this.dh.bind(this)),this.f.m(this.b,"webkitkeyadded",this.ah.bind(this)),this.f.m(this.b,"webkitkeyerror",this.bh.bind(this)),gc(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(t){this.c=new Rt;try{this.b.update(new Uint8Array(t))}catch(t){this.c.reject(t)}return this.c},r.close=function(){try{this.b.close(),this.closed.resolve(),this.f.wb()}catch(t){this.closed.reject(t)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},r.dh=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new H("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},r.ah=function(){this.c&&(gc(this,"usable"),this.c.resolve(),this.c=null)},r.bh=function(){var t=Error("EME PatchedMediaKeysApple key error");if(t.errorCode=this.b.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.c)this.c.reject(t),this.c=null;else switch(this.b.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:gc(this,"output-not-allowed");break;default:gc(this,"internal-error")}},(r=bc.prototype).forEach=function(t){this.a&&t(this.a,ic)},r.get=function(t){if(this.has(t))return this.a},r.has=function(t){var e=ic;return!(!this.a||!Se.Ra(new Uint8Array(t),new Uint8Array(e)))},r.entries=function(){},r.keys=function(){},r.values=function(){},sc((function(){t.HTMLVideoElement&&t.WebKitMediaKeys&&(ic=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=dc,t.MediaKeys=pc,t.MediaKeySystemAccess=hc,navigator.requestMediaKeySystemAccess=fc)})),Ec.prototype.createMediaKeys=function(){var t=new Tc(this.keySystem);return Promise.resolve(t)},Ec.prototype.getConfiguration=function(){return this.a},Tc.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new Sc(this.a,t)},Tc.prototype.setServerCertificate=function(){return Promise.resolve(!1)},K(Sc,$),(r=Sc.prototype).generateRequest=function(t,e){this.a=new Rt;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e),null),this.f.m(this.c,"mskeymessage",this.xg.bind(this)),this.f.m(this.c,"mskeyadded",this.vg.bind(this)),this.f.m(this.c,"mskeyerror",this.wg.bind(this)),kc(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(t){this.b=new Rt;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},r.close=function(){try{this.c.close(),this.closed.resolve(),this.f.wb()}catch(t){this.closed.reject(t)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},r.xg=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new H("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},r.vg=function(){this.a?(kc(this,"usable"),this.a.resolve(),this.a=null):this.b&&(kc(this,"usable"),this.b.resolve(),this.b=null)},r.wg=function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:kc(this,"output-not-allowed");break;default:kc(this,"internal-error")}},(r=Cc.prototype).forEach=function(t){this.a&&t(this.a,ac)},r.get=function(t){if(this.has(t))return this.a},r.has=function(t){var e=ac;return!(!this.a||!Se.Ra(new Uint8Array(t),new Uint8Array(e)))},r.entries=function(){},r.keys=function(){},r.values=function(){},sc((function(){!t.HTMLVideoElement||!t.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(ac=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=_c,t.MediaKeys=Tc,t.MediaKeySystemAccess=Ec,navigator.requestMediaKeySystemAccess=wc)})),Pc.prototype.createSession=function(){},Pc.prototype.setServerCertificate=function(){},Mc.prototype.getConfiguration=function(){},Mc.prototype.createMediaKeys=function(){},sc((function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Ic,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Nc,t.MediaKeys=Pc,t.MediaKeySystemAccess=Mc)}),-10);var Rc,Oc="";function Lc(t){return Oc?Oc+t.charAt(0).toUpperCase()+t.slice(1):t}function Uc(t,e){try{var n=new jc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Dc(t){var e=this.mediaKeys;return e&&e!=t&&Bc(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Bc(t,this),Promise.resolve()}function jc(t,e){this.a=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=0;a<e.length;++a){var o=e[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var c=0;c<o.audioCapabilities.length;++c){var l=o.audioCapabilities[c];if(l.contentType){u=!0;var f=l.contentType.split(";")[0];i.canPlayType(f,this.a)&&(s.audioCapabilities.push(l),r=!0)}}if(o.videoCapabilities)for(c=0;c<o.videoCapabilities.length;++c)(l=o.videoCapabilities[c]).contentType&&(u=!0,i.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Fc(t){this.g=t,this.b=null,this.a=new te,this.c=[],this.f={}}function Bc(t,e){t.b=e,t.a.wb();var n=Oc;e&&(t.a.m(e,n+"needkey",t.Cg.bind(t)),t.a.m(e,n+"keymessage",t.gh.bind(t)),t.a.m(e,n+"keyadded",t.eh.bind(t)),t.a.m(e,n+"keyerror",t.fh.bind(t)))}function zc(t,e){var n=t.f[e];return n||((n=t.c.shift())?(n.sessionId=e,t.f[e]=n):null)}function Gc(t,e,n){$.call(this),this.f=t,this.j=!1,this.a=this.b=null,this.c=e,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new Rt,this.keyStatuses=new Hc}function Vc(t,e,n){if(t.j)return Promise.reject(Error("The session is already initialized."));t.j=!0;try{if("persistent-license"==t.g)if(n)var r=new Uint8Array(Ee("LOAD_SESSION|"+n));else{var i=Ee("PERSISTENT|"),a=new Uint8Array(i.byteLength+e.byteLength);a.set(new Uint8Array(i),0),a.set(new Uint8Array(e),i.byteLength),r=a}else r=new Uint8Array(e)}catch(t){return Promise.reject(t)}t.b=new Rt;var o=Lc("generateKeyRequest");try{t.f[o](t.c,r)}catch(e){if("InvalidStateError"!=e.name)return t.b=null,Promise.reject(e);new It((function(){try{t.f[o](t.c,r)}catch(e){t.b.reject(e),t.b=null}})).R(.01)}return t.b}function Kc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new H("keystatuseschange"))}function Hc(){this.size=0,this.a=void 0}function qc(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function Wc(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Xc(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Yc(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function $c(t){t?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function Zc(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Jc(e,n,r){return new t.TextTrackCue(e,n,r)}function Qc(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function tl(){}jc.prototype.createMediaKeys=function(){var t=new Fc(this.a);return Promise.resolve(t)},jc.prototype.getConfiguration=function(){return this.b},(r=Fc.prototype).createSession=function(t){if("temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.b||document.createElement("video");return e.src||(e.src="about:blank"),t=new Gc(e,this.g,t),this.c.push(t),t},r.setServerCertificate=function(){return Promise.resolve(!1)},r.Cg=function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="webm",e.initData=t.initData,this.b.dispatchEvent(e)},r.gh=function(t){var e=zc(this,t.sessionId);e&&(t=new H("message",{messageType:null==e.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t))},r.eh=function(t){(t=zc(this,t.sessionId))&&(Kc(t,"usable"),t.a&&t.a.resolve(),t.a=null)},r.fh=function(t){var e=zc(this,t.sessionId);e&&e.handleError(t)},K(Gc,$),(r=Gc.prototype).handleError=function(t){var e=Error("EME v0.1b key error");e.errorCode=t.errorCode,e.errorCode.systemCode=t.systemCode,!t.sessionId&&this.b?(e.method="generateRequest",45==t.systemCode&&(e.message="Unsupported session type."),this.b.reject(e),this.b=null):t.sessionId&&this.a?(e.method="update",this.a.reject(e),this.a=null):(e=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Kc(this,"output-restricted"):Kc(this,1==e?"expired":"internal-error"))},r.Sd=function(t,e){if(this.a)this.a.then(this.Sd.bind(this,t,e)).catch(this.Sd.bind(this,t,e));else{if(this.a=t,"webkit-org.w3.clearkey"==this.c){var n=ge(e),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=Se.Ta(r.keys[0].k),r=Se.Ta(r.keys[0].kid)}else n=new Uint8Array(e),r=null;var i=Lc("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},r.generateRequest=function(t,e){return Vc(this,e,null)},r.load=function(t){return"persistent-license"==this.g?Vc(this,null,t):Promise.reject(Error("Not a persistent session."))},r.update=function(t){var e=new Rt;return this.Sd(e,t),e},r.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=Lc("cancelKeyRequest");try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(r=Hc.prototype).forEach=function(t){this.a&&t(this.a,Rc)},r.get=function(t){if(this.has(t))return this.a},r.has=function(t){var e=Rc;return!(!this.a||!Se.Ra(new Uint8Array(t),new Uint8Array(e)))},r.entries=function(){},r.keys=function(){},r.values=function(){},sc((function(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Oc="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;Rc=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Uc,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Dc,t.MediaKeys=Fc,t.MediaKeySystemAccess=jc}})),sc((function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=Wc,Object.defineProperty(e,"disablePictureInPicture",{get:Yc,set:$c,enumerable:!0,configurable:!0}),document.exitPictureInPicture=Xc,document.addEventListener("webkitpresentationmodechanged",qc,!0))}})),sc((function(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}})),sc((function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=Zc)}})),sc((function(){if(!t.VTTCue&&t.TextTrackCue){var e=TextTrackCue.length;if(3==e)t.VTTCue=Jc;else if(6==e)t.VTTCue=Qc;else{try{var n=!!Jc(1,2,"")}catch(t){n=!1}n&&(t.VTTCue=Jc)}}})),tl.prototype.parseInit=function(){},tl.prototype.parseMedia=function(t,e){var n=ge(t),r=[],i=new DOMParser,a=null;if(""==n)return r;try{a=i.parseFromString(n,"text/xml")}catch(t){throw new Mt(2,2,2005,"Failed to parse TTML.")}if(a){if(n=a.getElementsByTagName("parsererror")[0])throw new Mt(2,2,2005,n.textContent);if(!(i=a.getElementsByTagName("tt")[0]))throw new Mt(2,2,2005,"TTML does not contain <tt> tag.");var o=ei.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=ei.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=ei.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),c=ei.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","tickRate");if(a=i.getAttribute("xml:space")||"default",n=i.getAttribute("tts:extent"),"default"!=a&&"preserve"!=a)throw new Mt(2,2,2005,"Invalid xml:space value: "+a);a="default"==a,o=new Tl(o,s,u,c),s=pl(i.getElementsByTagName("metadata")[0]),u=pl(i.getElementsByTagName("styling")[0]),c=pl(i.getElementsByTagName("layout")[0]);for(var l=[],f=0;f<c.length;f++){var d,p,v=c[f],m=u,y=n,g=new Tn,b=v.getAttribute("xml:id");if(b)g.id=b,b=null,y&&(b=rl.exec(y)||al.exec(y)),y=b?Number(b[1]):null,b=b?Number(b[2]):null,(d=gl(v,m,"extent"))&&(null!=(d=(p=rl.exec(d))||al.exec(d))&&(g.width=null!=y?100*Number(d[1])/y:Number(d[1]),g.height=null!=b?100*Number(d[2])/b:Number(d[2]),g.widthUnits=p||null!=y?xn:0,g.heightUnits=p||null!=b?xn:0)),(v=gl(v,m,"origin"))&&(null!=(d=(p=rl.exec(v))||al.exec(v))&&(g.viewportAnchorX=null!=b?100*Number(d[1])/b:Number(d[1]),g.viewportAnchorY=null!=y?100*Number(d[2])/y:Number(d[2]),g.viewportAnchorUnits=p||null!=y?xn:0));else g=null;g&&l.push(g)}for(n=(n=i.getElementsByTagName("body")[0])?Array.from(n.querySelectorAll("[begin]")):[],i=(n=h(n)).next();!i.done;i=n.next())(i=vl(i.value,e.periodStart,o,s,u,c,l,a,!1))&&r.push(i)}return r};var el,nl,rl=/^(\d{1,2}(?:\.\d+)?|100)% (\d{1,2}(?:\.\d+)?|100)%$/,il=/^(\d+px|\d+em)$/,al=/^(\d+)px (\d+)px$/,ol=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,sl=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,ul=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,cl=/^(\d*(?:\.\d*)?)f$/,ll=/^(\d*(?:\.\d*)?)t$/,fl=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,hl={left:gn,center:"center",right:"end",start:gn,end:"end"},dl={left:"line-left",center:"center",right:"line-right"};function pl(t){var e=[];if(!t)return e;for(var n=h(t.childNodes),r=n.next();!r.done;r=n.next())(r=r.value).nodeType==Node.ELEMENT_NODE&&"br"!==r.nodeName&&(r=pl(r),e=e.concat(r));return e.length||e.push(t),e}function vl(t,e,n,r,i,a,o,s,u){if(u&&"br"==t.nodeName)return(t=new cn(0,0,"")).spacer=!0,t;var c=/^[\s\n]*$/.test(t.textContent),l=t.nodeType==Node.ELEMENT_NODE&&!t.hasAttribute("begin")&&!t.hasAttribute("end");if(t.nodeType!=Node.ELEMENT_NODE||l&&c||l&&!u)return null;c=El(t.getAttribute("begin"),n),l=El(t.getAttribute("end"),n);var f=El(t.getAttribute("dur"),n);if(null==l&&null!=f&&(l=c+f),!u&&(null==c||null==l))throw new Mt(2,2,2001);if(c+=e,l+=e,f="",u=[],Array.from(t.childNodes).find((function(t){return t.nodeType===Node.TEXT_NODE&&/\w+/.test(t.textContent)})))f=function t(e,n){for(var r="",i=h(e.childNodes),a=i.next();!a.done;a=i.next())"br"==(a=a.value).nodeName&&e.childNodes[0]!==a?r+="\n":a.childNodes&&0<a.childNodes.length?r+=t(a,n):n?r+=a=(a=a.textContent.trim()).replace(/\s+/g," "):r+=a.textContent;return r}(t,s);else for(var d=h(t.childNodes),p=d.next();!p.done;p=d.next())(p=vl(p.value,e,n,r,i,a,o,s,!0))&&u.push(p);if((e=new cn(c,l,f)).nestedCues=u,(a=wl(t,"region",a,"")[0])&&a.getAttribute("xml:id")){var v=a.getAttribute("xml:id");e.region=o.filter((function(t){return t.id==v}))[0]}return function(t,e,n,r,i){"rtl"==yl(e,n,i,"direction")&&(t.direction="rtl");var a=yl(e,n,i,"writingMode");"tb"==a||"tblr"==a?t.writingMode="vertical-lr":"tbrl"==a?t.writingMode="vertical-rl":"rltb"==a||"rl"==a?t.direction="rtl":a&&(t.direction=vn),(a=yl(e,n,i,"textAlign"))?(t.positionAlign=dl[a],t.lineAlign=hl[a],t.textAlign=hn[a.toUpperCase()]):t.textAlign="start",(a=yl(e,n,i,"displayAlign"))&&(t.displayAlign=pn[a.toUpperCase()]);(a=yl(e,n,i,"color"))&&(t.color=a);(a=yl(e,n,i,"backgroundColor"))&&(t.backgroundColor=a);(a=yl(e,n,i,"fontFamily"))&&(t.fontFamily=a);(a=yl(e,n,i,"fontWeight"))&&"bold"==a&&(t.fontWeight=700),(a=yl(e,n,i,"wrapOption"))&&"noWrap"==a&&(t.wrapLine=!1),(a=yl(e,n,i,"lineHeight"))&&a.match(il)&&(t.lineHeight=a),(a=yl(e,n,i,"fontSize"))&&a.match(il)&&(t.fontSize=a),(a=yl(e,n,i,"fontStyle"))&&(t.fontStyle=_n[a.toUpperCase()]);if(r){a=r.getAttribute("imagetype");var o=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==a&&"Base64"==o&&r&&(t.backgroundImage="data:image/png;base64,"+r)}(n=gl(n,i,"textDecoration"))&&ml(t,n),(e=bl(e,i,"textDecoration"))&&ml(t,e)}(e,t,a,r=wl(t,"smpte:backgroundImage",r,"#")[0],i),e}function ml(t,e){for(var n=e.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":t.textDecoration.includes("underline")||t.textDecoration.push("underline");break;case"noUnderline":t.textDecoration.includes("underline")&&Vt(t.textDecoration,"underline");break;case"lineThrough":t.textDecoration.includes("lineThrough")||t.textDecoration.push("lineThrough");break;case"noLineThrough":t.textDecoration.includes("lineThrough")&&Vt(t.textDecoration,"lineThrough");break;case"overline":t.textDecoration.includes("overline")||t.textDecoration.push("overline");break;case"noOverline":t.textDecoration.includes("overline")&&Vt(t.textDecoration,"overline")}}function yl(t,e,n,r){return(t=bl(t,n,r))?t:gl(e,n,r)}function gl(t,e,n){for(var r=pl(t),i=0;i<r.length;i++){var a=ei.getAttributeNS(r[i],"http://www.w3.org/ns/ttml#styling",n);if(a)return a}return(t=wl(t,"style",e,"")[0])?ei.getAttributeNS(t,"http://www.w3.org/ns/ttml#styling",n):null}function bl(t,e,n){var r=ei.getAttributeNS(t,"http://www.w3.org/ns/ttml#styling",n);if(r)return r;for(t=wl(t,"style",e,""),e=null,r=0;r<t.length;r++){var i=ei.getAttributeNS(t[r],"http://www.w3.org/ns/ttml#styling",n);i&&(e=i)}return e}function wl(t,e,n,r){var i=[];if(!t||1>n.length)return i;var a=t;for(t=null;a&&!(t=a.getAttribute(e))&&(a=a.parentNode)instanceof Element;);if(e=t)for(t=(e=h(e=e.split(" "))).next();!t.done;t=e.next()){t=t.value;for(var o=(a=h(n)).next();!o.done;o=a.next())if(r+(o=o.value).getAttribute("xml:id")==t){i.push(o);break}}return i}function El(t,e){var n=null;if(ol.test(t)){n=ol.exec(t);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);n=(a+=(o+=(Number(n[5])||0)/e.b)/e.frameRate)+60*i+3600*r}else sl.test(t)?n=_l(sl,t):ul.test(t)?n=_l(ul,t):cl.test(t)?(n=cl.exec(t),n=Number(n[1])/e.frameRate):ll.test(t)?(n=ll.exec(t),n=Number(n[1])/e.a):fl.test(t)&&(n=_l(fl,t));return n}function _l(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function Tl(t,e,n,r){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(r),0==this.a&&(this.a=t?this.frameRate*this.b:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(t[1])/Number(t[2]))}function xl(){this.a=new tl}function Sl(){}function Al(t,e,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=r[1],t.textAlign="middle"==e?fn:hn[e.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(e))?t.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(e))?t.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(r[1]),r[2]&&(e=r[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center")):(r=/^region:(.*)$/.exec(e))?(e=function(t,e){var n=t.filter((function(t){return t.id==e}));return n.length?n[0]:null}(n,r[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=bn[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=yn,t.line=Number(n[1]),n[2]&&(t.lineAlign=bn[n[2].toUpperCase()]))}function kl(t){if(null==(t=Zi(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function Cl(){this.a=null}function Il(t,e,n){var r,i,a;return(new Xr).K("payl",Zr((function(t){r=ge(t)}))).K("iden",Zr((function(t){i=ge(t)}))).K("sttg",Zr((function(t){a=ge(t)}))).parse(t),r?function(t,e,n,r,i){if(t=new cn(r,i,t),e&&(t.id=e),n)for(e=new Yi(n),n=Ji(e);n;)Al(t,n,[]),$i(e),n=Ji(e);return t}(r,i,a,e,n):null}function Nl(t){return document.createElement(t)}function Pl(t){for(;t.firstChild;)t.removeChild(t.firstChild)}
/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function Ml(){}function Rl(){el?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(el=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=Ol):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function Ol(t,e){var n=this;return p((function r(){var i;return U(r,(function(r){switch(r.o){case 1:return console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),x(r,el.call(n,t,e),2);case 2:return Vl(i=r.A)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=el,r.return(i)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=Ll,r.return(Ll.call(n,t,e)))}}))}))}function Ll(t,e){var n=this;return p((function r(){var i,a,o,s,u,c,l,f;return U(r,(function(r){switch(r.o){case 1:console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i=Gl(t),a=[];for(var d=h(e),p=d.next();!p.done;p=d.next())o=p.value,s=Ul(o.videoCapabilities,i),u=Ul(o.audioCapabilities,i),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((c=Object.assign({},o)).videoCapabilities=s,c.audioCapabilities=u,a.push(c));if(!a.length)throw(l=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",l.code=DOMException.NOT_SUPPORTED_ERR,l;return x(r,el.call(n,t,a),2);case 2:return f=r.A,r.return(new zl(f,i))}}))}))}function Ul(t,e){return t?t.filter((function(t){return!t.encryptionScheme||t.encryptionScheme==e})):t}function Dl(){}function jl(){navigator.mediaCapabilities?(nl=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Fl):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function Fl(t){var e=this;return p((function n(){var r;return U(n,(function(n){switch(n.o){case 1:return console.assert(e==navigator.mediaCapabilities,'bad "this" for decodingInfo'),x(n,nl.call(e,t),2);case 2:return r=n.A,t.keySystemConfiguration?Vl(r.keySystemAccess)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=nl,n.return(r)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Bl,n.return(Bl.call(e,t))):n.return(r)}}))}))}function Bl(t){var e=this;return p((function n(){var r,i,a,o,s,u,c;return U(n,(function(n){switch(n.o){case 1:return console.assert(e==navigator.mediaCapabilities,'bad "this" for decodingInfo'),r=null,t.keySystemConfiguration&&(i=t.keySystemConfiguration,a=i.keySystem,o=i.audio&&i.audio.encryptionScheme,s=i.video&&i.video.encryptionScheme,r=Gl(a),u={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:t},o&&o!=r||s&&s!=r)?n.return(u):x(n,nl.call(e,t),2);case 2:return(c=n.A).keySystemAccess&&(c.keySystemAccess=new zl(c.keySystemAccess,r)),n.return(c)}}))}))}function zl(t,e){this.b=t,this.a=e,this.keySystem=t.keySystem}function Gl(t){return t.startsWith("com.widevine")||t.startsWith("com.microsoft")||t.startsWith("com.adobe")||t.startsWith("org.w3")?"cenc":t.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",t,"Please contribute!"),null)}function Vl(t){var e=(t=t.getConfiguration()).audioCapabilities&&t.audioCapabilities[0];return void 0!==(t.videoCapabilities&&t.videoCapabilities[0]||e).encryptionScheme}function Kl(){}function Hl(){Rl(),jl()}kn["application/ttml+xml"]=tl,xl.prototype.parseInit=function(t){var e=!1;if((new Xr).K("moov",Yr).K("trak",Yr).K("mdia",Yr).K("minf",Yr).K("stbl",Yr).va("stsd",$r).K("stpp",(function(t){e=!0,t.parser.stop()})).parse(t),!e)throw new Mt(2,2,2007)},xl.prototype.parseMedia=function(t,e){var n=!1,r=[];if((new Xr).K("mdat",Zr(function(t){n=!0,r=r.concat(this.a.parseMedia(t,e))}.bind(this))).parse(t),!n)throw new Mt(2,2,2007);return r},kn['application/mp4; codecs="stpp"']=xl,kn['application/mp4; codecs="stpp.TTML.im1t"']=xl,Sl.prototype.parseInit=function(){},Sl.prototype.parseMedia=function(t,e){var n=ge(t);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new Mt(2,2,2e3);var r=e.segmentStart;if(null==r&&(r=0,n[0].includes("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);if(i&&a){if(null==(r=kl(new Yi(i[1]))))throw new Mt(2,2,2e3);r=e.periodStart+(Number(a[1])/9e4-r)}}a=[];var o=n[0].split("\n");for(i=1;i<o.length;i++)if(/^Region:/.test(o[i])){var s=new Yi(o[i]),u=new Tn;Ji(s),$i(s);for(var c=Ji(s);c;){var l=u,f=c;(c=/^id=(.*)$/.exec(f))?l.id=c[1]:(c=/^width=(\d{1,2}|100)%$/.exec(f))?l.width=Number(c[1]):(c=/^lines=(\d+)$/.exec(f))?(l.height=Number(c[1]),l.heightUnits=2):(c=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.regionAnchorX=Number(c[1]),l.regionAnchorY=Number(c[2])):(c=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.viewportAnchorX=Number(c[1]),l.viewportAnchorY=Number(c[2])):/^scroll=up$/.exec(f)&&(l.scroll="up"),$i(s),c=Ji(s)}a.push(u)}for(i=[],s=1;s<n.length;s++){if(c=o=n[s].split("\n"),f=r,o=a,1==c.length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0])o=null;else{u=null,c[0].includes("--\x3e")||(u=c[0],c.splice(0,1));var h=kl(l=new Yi(c[0])),d=Zi(l,/[ \t]+--\x3e[ \t]+/g),p=kl(l);if(null==h||null==d||null==p)throw new Mt(2,2,2001);for(c=new cn(h+f,p+f,c.slice(1).join("\n").trim()),$i(l),f=Ji(l);f;)Al(c,f,o),$i(l),f=Ji(l);null!=u&&(c.id=u),o=c}o&&i.push(o)}return i},kn["text/vtt"]=Sl,kn['text/vtt; codecs="vtt"']=Sl,Cl.prototype.parseInit=function(t){var e=!1;if((new Xr).K("moov",Yr).K("trak",Yr).K("mdia",Yr).va("mdhd",function(t){0==t.version?(t.reader.S(4),t.reader.S(4),this.a=t.reader.J(),t.reader.S(4)):(t.reader.S(8),t.reader.S(8),this.a=t.reader.J(),t.reader.S(8)),t.reader.S(4)}.bind(this)).K("minf",Yr).K("stbl",Yr).va("stsd",$r).K("wvtt",(function(){e=!0})).parse(t),!this.a)throw new Mt(2,2,2008);if(!e)throw new Mt(2,2,2008)},Cl.prototype.parseMedia=function(t,e){var n=this;if(!this.a)throw new Mt(2,2,2008);var r,i=0,a=[],o=[],s=!1,u=!1,c=!1,l=null;if((new Xr).K("moof",Yr).K("traf",Yr).va("tfdt",(function(t){s=!0,i=0==t.version?t.reader.J():t.reader.Tb()})).va("tfhd",(function(t){var e=t.flags;(t=t.reader).S(4),1&e&&t.S(8),2&e&&t.S(4),l=8&e?t.J():null})).va("trun",(function(t){u=!0;var e=t.version,n=t.flags,r=(t=t.reader).J();1&n&&t.S(4),4&n&&t.S(4);for(var i=[],o=0;o<r;o++){var s={duration:null,sampleSize:null,Ud:null};256&n&&(s.duration=t.J()),512&n&&(s.sampleSize=t.J()),1024&n&&t.S(4),2048&n&&(s.Ud=0==e?t.J():t.Me()),i.push(s)}a=i})).K("mdat",Zr((function(t){c=!0,r=t}))).parse(t),!c&&!s&&!u)throw new Mt(2,2,2008);var f=i,h=new Hr(new DataView(r.buffer,r.byteOffset,r.byteLength),0);return a.forEach((function(t){var r=t.duration||l,a=t.Ud?i+t.Ud:f;f=a+(r||0);var s=0;do{var u=h.J();s+=u;var c=null;"vttc"==Qr(h.J())?8<u&&(c=h.vb(u-8)):h.S(u-8),r&&c&&o.push(Il(c,e.periodStart+a/n.a,e.periodStart+f/n.a))}while(t.sampleSize&&s<t.sampleSize)})),o.filter(tn.bb)},kn['application/mp4; codecs="wvtt"']=Cl,V("shaka.util.Dom.createHTMLElement",Nl),V("shaka.util.Dom.createVideoElement",(function(){var t=document.createElement("video");return t.muted=!0,t.width=600,t.height=400,t})),V("shaka.util.Dom.asHTMLElement",(function(t){return t})),V("shaka.util.Dom.asHTMLMediaElement",(function(t){return t})),V("shaka.util.Dom.removeAllChildren",Pl),V("EmeEncryptionSchemePolyfill",Ml),Ml.install=Rl,V("McEncryptionSchemePolyfill",Dl),Dl.install=jl,zl.prototype.getConfiguration=function(){var t=this.b.getConfiguration();if(t.videoCapabilities)for(var e=h(t.videoCapabilities),n=e.next();!n.done;n=e.next())n.value.encryptionScheme=this.a;if(t.audioCapabilities)for(n=(e=h(t.audioCapabilities)).next();!n.done;n=e.next())n.value.encryptionScheme=this.a;return t},zl.prototype.createMediaKeys=function(){return this.b.createMediaKeys()},V("EncryptionSchemePolyfills",Kl),Kl.install=Hl,n.xf&&(n.xf=Kl);for(var ql={ach:{h:"Lwo",i:"Acholi"},ady:{h:"Адыгэбзэ",i:"Adyghe"},af:{h:"Afrikaans",i:"Afrikaans"},"af-NA":{h:"Afrikaans (Namibia)",i:"Afrikaans (Namibia)"},"af-ZA":{h:"Afrikaans (South Africa)",i:"Afrikaans (South Africa)"},ak:{h:"Tɕɥi",i:"Akan"},ar:{h:"العربية",i:"Arabic"},"ar-AR":{h:"العربية",i:"Arabic"},"ar-MA":{h:"العربية",i:"Arabic (Morocco)"},"ar-SA":{h:"العربية (السعودية)",i:"Arabic (Saudi Arabia)"},"ay-BO":{h:"Aymar aru",i:"Aymara"},az:{h:"Azərbaycan dili",i:"Azerbaijani"},"az-AZ":{h:"Azərbaycan dili",i:"Azerbaijani"},"be-BY":{h:"Беларуская",i:"Belarusian"},bg:{h:"Български",i:"Bulgarian"},"bg-BG":{h:"Български",i:"Bulgarian"},bn:{h:"বাংলা",i:"Bengali"},"bn-IN":{h:"বাংলা (ভারত)",i:"Bengali (India)"},"bn-BD":{h:"বাংলা(বাংলাদেশ)",i:"Bengali (Bangladesh)"},"bs-BA":{h:"Bosanski",i:"Bosnian"},ca:{h:"Català",i:"Catalan"},"ca-ES":{h:"Català",i:"Catalan"},cak:{h:"Maya Kaqchikel",i:"Kaqchikel"},"ck-US":{h:"ᏣᎳᎩ (tsalagi)",i:"Cherokee"},cs:{h:"Čeština",i:"Czech"},"cs-CZ":{h:"Čeština",i:"Czech"},cy:{h:"Cymraeg",i:"Welsh"},"cy-GB":{h:"Cymraeg",i:"Welsh"},da:{h:"Dansk",i:"Danish"},"da-DK":{h:"Dansk",i:"Danish"},de:{h:"Deutsch",i:"German"},"de-AT":{h:"Deutsch (Österreich)",i:"German (Austria)"},"de-DE":{h:"Deutsch (Deutschland)",i:"German (Germany)"},"de-CH":{h:"Deutsch (Schweiz)",i:"German (Switzerland)"},dsb:{h:"Dolnoserbšćina",i:"Lower Sorbian"},el:{h:"Ελληνικά",i:"Greek"},"el-GR":{h:"Ελληνικά",i:"Greek (Greece)"},en:{h:"English",i:"English"},"en-GB":{h:"English (UK)",i:"English (UK)"},"en-AU":{h:"English (Australia)",i:"English (Australia)"},"en-CA":{h:"English (Canada)",i:"English (Canada)"},"en-IE":{h:"English (Ireland)",i:"English (Ireland)"},"en-IN":{h:"English (India)",i:"English (India)"},"en-PI":{h:"English (Pirate)",i:"English (Pirate)"},"en-UD":{h:"English (Upside Down)",i:"English (Upside Down)"},"en-US":{h:"English (US)",i:"English (US)"},"en-ZA":{h:"English (South Africa)",i:"English (South Africa)"},"en@pirate":{h:"English (Pirate)",i:"English (Pirate)"},eo:{h:"Esperanto",i:"Esperanto"},"eo-EO":{h:"Esperanto",i:"Esperanto"},es:{h:"Español",i:"Spanish"},"es-AR":{h:"Español (Argentine)",i:"Spanish (Argentina)"},"es-419":{h:"Español (Latinoamérica)",i:"Spanish (Latin America)"},"es-CL":{h:"Español (Chile)",i:"Spanish (Chile)"},"es-CO":{h:"Español (Colombia)",i:"Spanish (Colombia)"},"es-EC":{h:"Español (Ecuador)",i:"Spanish (Ecuador)"},"es-ES":{h:"Español (España)",i:"Spanish (Spain)"},"es-LA":{h:"Español (Latinoamérica)",i:"Spanish (Latin America)"},"es-NI":{h:"Español (Nicaragua)",i:"Spanish (Nicaragua)"},"es-MX":{h:"Español (México)",i:"Spanish (Mexico)"},"es-US":{h:"Español (Estados Unidos)",i:"Spanish (United States)"},"es-VE":{h:"Español (Venezuela)",i:"Spanish (Venezuela)"},et:{h:"eesti keel",i:"Estonian"},"et-EE":{h:"Eesti (Estonia)",i:"Estonian (Estonia)"},eu:{h:"Euskara",i:"Basque"},"eu-ES":{h:"Euskara",i:"Basque"},fa:{h:"فارسی",i:"Persian"},"fa-IR":{h:"فارسی",i:"Persian"},"fb-LT":{h:"Leet Speak",i:"Leet"},ff:{h:"Fulah",i:"Fulah"},fi:{h:"Suomi",i:"Finnish"},"fi-FI":{h:"Suomi",i:"Finnish"},"fo-FO":{h:"Føroyskt",i:"Faroese"},fr:{h:"Français",i:"French"},"fr-CA":{h:"Français (Canada)",i:"French (Canada)"},"fr-FR":{h:"Français (France)",i:"French (France)"},"fr-BE":{h:"Français (Belgique)",i:"French (Belgium)"},"fr-CH":{h:"Français (Suisse)",i:"French (Switzerland)"},"fy-NL":{h:"Frysk",i:"Frisian (West)"},ga:{h:"Gaeilge",i:"Irish"},"ga-IE":{h:"Gaeilge (Gaelic)",i:"Irish (Gaelic)"},gl:{h:"Galego",i:"Galician"},"gl-ES":{h:"Galego",i:"Galician"},"gn-PY":{h:"Avañe'ẽ",i:"Guarani"},"gu-IN":{h:"ગુજરાતી",i:"Gujarati"},"gx-GR":{h:"Ἑλληνική ἀρχαία",i:"Classical Greek"},he:{h:"עברית‏",i:"Hebrew"},"he-IL":{h:"עברית‏",i:"Hebrew"},hi:{h:"हिन्दी",i:"Hindi"},"hi-IN":{h:"हिन्दी",i:"Hindi"},hr:{h:"Hrvatski",i:"Croatian"},"hr-HR":{h:"Hrvatski",i:"Croatian"},hsb:{h:"Hornjoserbšćina",i:"Upper Sorbian"},ht:{h:"Kreyòl",i:"Haitian Creole"},hu:{h:"Magyar",i:"Hungarian"},"hu-HU":{h:"Magyar",i:"Hungarian"},"hy-AM":{h:"Հայերեն",i:"Armenian"},id:{h:"Bahasa Indonesia",i:"Indonesian"},"id-ID":{h:"Bahasa Indonesia",i:"Indonesian"},is:{h:"Íslenska",i:"Icelandic"},"is-IS":{h:"Íslenska (Iceland)",i:"Icelandic (Iceland)"},it:{h:"Italiano",i:"Italian"},"it-IT":{h:"Italiano",i:"Italian"},ja:{h:"日本語",i:"Japanese"},"ja-JP":{h:"日本語",i:"Japanese"},"jv-ID":{h:"Basa Jawa",i:"Javanese"},"ka-GE":{h:"ქართული",i:"Georgian"},"kk-KZ":{h:"Қазақша",i:"Kazakh"},km:{h:"ភាសាខ្មែរ",i:"Khmer"},"km-KH":{h:"ភាសាខ្មែរ",i:"Khmer"},kab:{h:"Taqbaylit",i:"Kabyle"},kn:{h:"ಕನ್ನಡ",i:"Kannada"},"kn-IN":{h:"ಕನ್ನಡ (India)",i:"Kannada (India)"},ko:{h:"한국어",i:"Korean"},"ko-KR":{h:"한국어 (韩国)",i:"Korean (Korea)"},ku:{h:"Kurdî",i:"Kurdish"},"ku-TR":{h:"Kurdî",i:"Kurdish"},la:{h:"Latin",i:"Latin"},"la-VA":{h:"Latin",i:"Latin"},lb:{h:"Lëtzebuergesch",i:"Luxembourgish"},"li-NL":{h:"Lèmbörgs",i:"Limburgish"},lt:{h:"Lietuvių",i:"Lithuanian"},"lt-LT":{h:"Lietuvių",i:"Lithuanian"},lv:{h:"Latviešu",i:"Latvian"},"lv-LV":{h:"Latviešu",i:"Latvian"},mai:{h:"मैथिली, মৈথিলী",i:"Maithili"},"mg-MG":{h:"Malagasy",i:"Malagasy"},mk:{h:"Македонски",i:"Macedonian"},"mk-MK":{h:"Македонски (Македонски)",i:"Macedonian (Macedonian)"},ml:{h:"മലയാളം",i:"Malayalam"},"ml-IN":{h:"മലയാളം",i:"Malayalam"},"mn-MN":{h:"Монгол",i:"Mongolian"},mr:{h:"मराठी",i:"Marathi"},"mr-IN":{h:"मराठी",i:"Marathi"},ms:{h:"Bahasa Melayu",i:"Malay"},"ms-MY":{h:"Bahasa Melayu",i:"Malay"},mt:{h:"Malti",i:"Maltese"},"mt-MT":{h:"Malti",i:"Maltese"},my:{h:"ဗမာစကာ",i:"Burmese"},nb:{h:"Norsk (bokmål)",i:"Norwegian (bokmal)"},"nb-NO":{h:"Norsk (bokmål)",i:"Norwegian (bokmal)"},ne:{h:"नेपाली",i:"Nepali"},"ne-NP":{h:"नेपाली",i:"Nepali"},nl:{h:"Nederlands",i:"Dutch"},"nl-BE":{h:"Nederlands (België)",i:"Dutch (Belgium)"},"nl-NL":{h:"Nederlands (Nederland)",i:"Dutch (Netherlands)"},"nn-NO":{h:"Norsk (nynorsk)",i:"Norwegian (nynorsk)"},no:{h:"Norsk",i:"Norwegian"},oc:{h:"Occitan",i:"Occitan"},"or-IN":{h:"ଓଡ଼ିଆ",i:"Oriya"},pa:{h:"ਪੰਜਾਬੀ",i:"Punjabi"},"pa-IN":{h:"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",i:"Punjabi (India)"},pl:{h:"Polski",i:"Polish"},"pl-PL":{h:"Polski",i:"Polish"},"ps-AF":{h:"پښتو",i:"Pashto"},pt:{h:"Português",i:"Portuguese"},"pt-BR":{h:"Português (Brasil)",i:"Portuguese (Brazil)"},"pt-PT":{h:"Português (Portugal)",i:"Portuguese (Portugal)"},"qu-PE":{h:"Qhichwa",i:"Quechua"},"rm-CH":{h:"Rumantsch",i:"Romansh"},ro:{h:"Română",i:"Romanian"},"ro-RO":{h:"Română",i:"Romanian"},ru:{h:"Русский",i:"Russian"},"ru-RU":{h:"Русский",i:"Russian"},"sa-IN":{h:"संस्कृतम्",i:"Sanskrit"},"se-NO":{h:"Davvisámegiella",i:"Northern Sámi"},"si-LK":{h:"පළාත",i:"Sinhala (Sri Lanka)"},sk:{h:"Slovenčina",i:"Slovak"},"sk-SK":{h:"Slovenčina (Slovakia)",i:"Slovak (Slovakia)"},sl:{h:"Slovenščina",i:"Slovenian"},"sl-SI":{h:"Slovenščina",i:"Slovenian"},"so-SO":{h:"Soomaaliga",i:"Somali"},sq:{h:"Shqip",i:"Albanian"},"sq-AL":{h:"Shqip",i:"Albanian"},sr:{h:"Српски",i:"Serbian"},"sr-RS":{h:"Српски (Serbia)",i:"Serbian (Serbia)"},su:{h:"Basa Sunda",i:"Sundanese"},sv:{h:"Svenska",i:"Swedish"},"sv-SE":{h:"Svenska",i:"Swedish"},sw:{h:"Kiswahili",i:"Swahili"},"sw-KE":{h:"Kiswahili",i:"Swahili (Kenya)"},ta:{h:"தமிழ்",i:"Tamil"},"ta-IN":{h:"தமிழ்",i:"Tamil"},te:{h:"తెలుగు",i:"Telugu"},"te-IN":{h:"తెలుగు",i:"Telugu"},tg:{h:"забо́ни тоҷикӣ́",i:"Tajik"},"tg-TJ":{h:"тоҷикӣ",i:"Tajik"},th:{h:"ภาษาไทย",i:"Thai"},"th-TH":{h:"ภาษาไทย (ประเทศไทย)",i:"Thai (Thailand)"},tl:{h:"Filipino",i:"Filipino"},"tl-PH":{h:"Filipino",i:"Filipino"},tlh:{h:"tlhIngan-Hol",i:"Klingon"},tr:{h:"Türkçe",i:"Turkish"},"tr-TR":{h:"Türkçe",i:"Turkish"},"tt-RU":{h:"татарча",i:"Tatar"},uk:{h:"Українська",i:"Ukrainian"},"uk-UA":{h:"Українська",i:"Ukrainian"},ur:{h:"اردو",i:"Urdu"},"ur-PK":{h:"اردو",i:"Urdu"},uz:{h:"O'zbek",i:"Uzbek"},"uz-UZ":{h:"O'zbek",i:"Uzbek"},vi:{h:"Tiếng Việt",i:"Vietnamese"},"vi-VN":{h:"Tiếng Việt",i:"Vietnamese"},"xh-ZA":{h:"isiXhosa",i:"Xhosa"},yi:{h:"ייִדיש",i:"Yiddish"},"yi-DE":{h:"ייִדיש (German)",i:"Yiddish (German)"},zh:{h:"中文",i:"Chinese"},"zh-HANS":{h:"中文简体",i:"Chinese Simplified"},"zh-HANT":{h:"中文繁體",i:"Chinese Traditional"},"zh-CN":{h:"中文（中国）",i:"Chinese Simplified (China)"},"zh-HK":{h:"中文（香港）",i:"Chinese Traditional (Hong Kong)"},"zh-SG":{h:"中文（新加坡）",i:"Chinese Simplified (Singapore)"},"zh-TW":{h:"中文（台灣）",i:"Chinese Traditional (Taiwan)"},"zu-ZA":{h:"isiZulu",i:"Zulu"}},Wl=h(Object.keys(ql)),Xl=Wl.next();!Xl.done;Xl=Wl.next()){var Yl=Xl.value;ql[Yl.toLowerCase()]=ql[Yl]}function $l(t,e,n,r,i,a,o){function s(t){return"variant"==t.type?t.audioRoles?t.audioRoles.join(", "):void 0:t.roles.join(", ")}var u=t.filter((function(t){return 1==t.active}))[0],c=nf(e,"shaka-back-to-overflow-button");sf(e),e.appendChild(c),c=new Map;for(var l=h(t),f=l.next();!f.done;f=l.next())f=f.value,c.has(f.language)||c.set(f.language,new Set),c.get(f.language).add(s(f));for(c=new Set,u=u?u.language+": "+s(u):"",l={},f=(t=h(t)).next();!f.done;l={Xb:l.Xb},f=t.next()){l.Xb=f.value,f=l.Xb.language;var d=s(l.Xb),p=f+": "+d;if(!c.has(p)){c.add(p);var v=Nl("button");v.addEventListener("click",function(t){return function(){n(t.Xb)}}(l));var m=Nl("span");switch(v.appendChild(m),m.textContent=Zl(f,a),o){case Nh:d?m.textContent=d:(W("Track #"+l.Xb.id+" does not have a role, but the UI is configured to only show role."),m.textContent="?");break;case Ph:d&&(m.textContent+=": "+d)}r&&p==u&&(v.appendChild(af()),m.classList.add("shaka-chosen-item"),v.setAttribute("aria-selected","true"),i.textContent=m.textContent),e.appendChild(v)}}}function Zl(t,e){if(!t&&!e)return"";switch(t){case"mul":return e.resolve("MULTIPLE_LANGUAGES");case"und":return e.resolve("UNDETERMINED_LANGUAGE");case"zxx":return e.resolve("NOT_APPLICABLE")}var n=nt(t);return t in ql?ql[t].h:n in ql?ql[n].h+" ("+t+")":e.resolve("UNRECOGNIZED_LANGUAGE")+" ("+t+")"}function Jl(t,e){this.parent=t,this.controls=e,this.eventManager=new te,this.localization=this.controls.Da,this.player=this.controls.Ua(),this.video=this.controls.hc()}function Ql(t,e,n,r){Jl.call(this,t,e);var i=this;this.b=Nl("div"),this.b.classList.add("shaka-range-container"),this.b.classList.add.apply(this.b.classList,D(n)),this.c=!1,this.a=document.createElement("input"),this.a.classList.add("shaka-range-element"),this.a.classList.add.apply(this.a.classList,D(r)),this.a.type="range",this.a.step="any",this.a.min="0",this.a.max="1",this.a.value="0",this.b.appendChild(this.a),this.parent.appendChild(this.b),this.eventManager.m(this.a,"mousedown",(function(){i.c=!0,i.l()})),this.eventManager.m(this.a,"touchstart",(function(t){i.c=!0,ef(i,t),i.l()})),this.eventManager.m(this.a,"input",(function(){i.g()})),this.eventManager.m(this.a,"touchmove",(function(t){ef(i,t),i.g()})),this.eventManager.m(this.a,"touchend",(function(t){i.c=!1,ef(i,t),i.j()})),this.eventManager.m(this.a,"mouseup",(function(){i.c=!1,i.j()}))}function tf(t,e){t.c||(t.a.value=e)}function ef(t,e){e.preventDefault();var n=e.changedTouches[0],r=t.a.getBoundingClientRect();(n=t.a.max/r.width*(n.clientX-r.left))<t.a.min?n=t.a.min:n>t.a.max&&(n=t.a.max),t.a.value=n}function nf(t,e){var n=t.getElementsByClassName(e);return n.length?n[0]:null}function rf(t){t&&(t=nf(t,"shaka-chosen-item"))&&t.parentElement.focus()}function af(){var t=Nl("i");return t.classList.add("material-icons"),t.classList.add("shaka-chosen-item"),t.textContent="done",t.setAttribute("aria-hidden","true"),t}function of(t,e){t&&(e?(t.classList.add("shaka-displayed"),t.classList.remove("shaka-hidden")):(t.classList.add("shaka-hidden"),t.classList.remove("shaka-displayed")))}function sf(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function uf(t,e){Ql.call(this,t,e,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var n=this;this.s=this.controls.g,this.f=new It((function(){n.video.currentTime=parseFloat(n.a.value)})),this.eventManager.m(this.localization,"locale-updated",(function(){return lf(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){return lf(n)})),tf(this,this.video.currentTime),cf(this),lf(this)}function cf(t){var e=t.s.seekBarColors,n=parseFloat(t.a.value),r=t.video.buffered.length,i=r?t.video.buffered.start(0):0,a=r?t.video.buffered.end(r-1):0,o=t.player.Wb(),s=o.end-o.start,u=o.end;t.a.min=o.start,t.a.max=u,t.player.V()&&5>s?of(t.b,!1):(of(t.b,!0),0==r?t.b.style.background=e.base:(r=(Math.max(i,o.start)-o.start)/s||0,a=(Math.min(a,o.end)-o.start)/s||0,n=(Math.min(Math.max(n,o.start),o.end)-o.start)/s||0,t.b.style.background="linear-gradient("+["to right",e.base+" "+100*r+"%",e.played+" "+100*r+"%",e.played+" "+100*n+"%",e.buffered+" "+100*n+"%",e.buffered+" "+100*a+"%",e.base+" "+100*a+"%"].join()+")"))}function lf(t){t.a.setAttribute("aria-label",t.localization.resolve("SEEK"))}function ff(e,n,r,i){var a=this;$.call(this),this.I=!0,this.g=i,this.l=new Pr(r,e,this.g.castReceiverAppId),this.ha=!0,this.a=this.l.hc(),this.Ga=r,this.s=this.l.Ua(),this.ba=e,this.f=n,this.j=null,this.M=!1,this.D=[],this.Qa=[],this.Fa=!1,this.H=new It((function(){a.f.style.cursor="none",a.Fa=!1,pf(a)})),this.L=new It((function(){a.b.removeAttribute("shown"),a.u.R(2)})),this.u=new It((function(){for(var t=h(a.D),e=t.next();!e.done;e=t.next())of(e.value,!1)})),this.ea=new It((function(){yf(a)&&bf(a)})),this.v=null,this.ua=[],this.Da=function(){var t=new ot("en");return t.X("ar",new Map([["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","إرجاع"],["SEEK","البحث بالتمرير"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),t.X("de",new Map([["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["ENTER_PICTURE_IN_PICTURE","Bild-im-Bild-Modus aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_PICTURE_IN_PICTURE","Bild-im-Bild-Modus beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),t.X("en",new Map([["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_TO_LIVE","Skip ahead to live"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),t.X("en-GB",new Map([["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_TO_LIVE","Skip ahead to live"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),t.X("es",new Map([["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["MORE_SETTINGS","Más opciones"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","No"],["ON","Sí"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),t.X("es-419",new Map([["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),t.X("fr",new Map([["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),t.X("it",new Map([["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),t.X("ja",new Map([["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),t.X("ko",new Map([["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),t.X("nl",new Map([["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Dempen"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_TO_LIVE","Doorgaan naar live"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Dempen opheffen"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),t.X("pl",new Map([["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),t.X("pt-BR",new Map([["CAPTIONS","Legendas"],["CAST","Transmitir..."],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["MORE_SETTINGS","Mais definições"],["MUTE","Desativar som"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["REWIND","Retroceder"],["SEEK","Procurar"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),t.X("pt-PT",new Map([["AUTO_QUALITY","Automático"],["BACK","Anterior"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["ENTER_PICTURE_IN_PICTURE","Entrar no modo ecrã no ecrã"],["EXIT_FULL_SCREEN","Sair do modo de ecrã inteiro"],["EXIT_PICTURE_IN_PICTURE","Sair do modo ecrã no ecrã"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Ecrã inteiro"],["LANGUAGE","Idioma"],["LIVE","Em direto"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não aplicável"],["OFF","Desligado"],["ON","Ligado"],["PAUSE","Colocar em pausa"],["PICTURE_IN_PICTURE","Ecrã no ecrã"],["PLAY","Reproduzir"],["RESOLUTION","Resolução"],["REWIND","Rebobinar"],["SEEK","Procurar"],["SKIP_TO_LIVE","Avançar para o direto"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Reativar o som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),t.X("ru",new Map([["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Титры"],["CAST","Транслировать..."],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Включить"],["ON","Отключить"],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),t.X("th",new Map([["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยาย"],["CAST","แคสต์..."],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),t.X("tr",new Map([["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_TO_LIVE","Canlı yayına atla"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),t.X("zh",new Map([["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投射…"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","已发布"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_TO_LIVE","跳转到直播状态"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),t.X("zh-TW",new Map([["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_TO_LIVE","直接跳至直播影片"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),t.ee(navigator.languages||[]),t}(),this.c=new te,this.configure(this.g),function(e){e.c.m(e.s,"buffering",(function(){e.I&&of(e.w,e.s.Ib())})),e.I&&of(e.w,e.s.Ib()),e.c.m(t,"keydown",e.Ce.bind(e)),e.c.m(e.b,"dblclick",(function(){return e.Vd()})),e.c.m(e.a,"play",e.Nb.bind(e)),e.c.m(e.a,"pause",e.Nb.bind(e)),e.c.m(e.a,"ended",e.Nb.bind(e)),e.c.m(e.f,"mousemove",e.kc.bind(e)),e.c.m(e.f,"touchmove",e.kc.bind(e),{passive:!0}),e.c.m(e.f,"touchend",e.kc.bind(e),{passive:!0}),e.c.m(e.f,"mouseleave",e.ug.bind(e)),e.c.m(e.l,"caststatuschanged",(function(){mf(e)})),e.c.m(e.f,"keyup",e.og.bind(e)),screen.orientation&&e.c.m(screen.orientation,"change",(function(){e.a&&0!=e.a.readyState&&!e.l.aa()&&(screen.orientation.type.includes("landscape")&&!document.fullscreenElement?e.f.requestFullscreen({navigationUI:"hide"}):screen.orientation.type.includes("portrait")&&document.fullscreenElement&&document.exitFullscreen())}))}(this),this.U=new Set,mf(this),this.ea.Oa(.125)}V("shaka.ui.Element",Jl),Jl.prototype.destroy=function(){return this.eventManager.release(),this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null,Promise.resolve()},Jl.prototype.destroy=Jl.prototype.destroy,w(Ql,Jl),V("shaka.ui.RangeElement",Ql),Ql.prototype.l=function(){},Ql.prototype.g=function(){},Ql.prototype.j=function(){},V("shaka.ui.Utils.getFirstDescendantWithClassName",(function(t,e){return nf(t,e)})),V("shaka.ui.Utils.setDisplay",of),V("shaka.ui.Utils.removeAllChildren",sf),w(uf,Ql),V("shaka.ui.SeekBar",uf),uf.prototype.destroy=function(){var t=this;return p((function e(){return U(e,(function(e){switch(e.o){case 1:return t.f&&(t.f.stop(),t.f=null),x(e,Ql.prototype.destroy.call(t),0)}}))}))},uf.prototype.l=function(){this.controls.Pd(!0),this.video.pause()},uf.prototype.g=function(){this.video.duration&&(cf(this),this.f.R(.125))},uf.prototype.j=function(){this.f.Za(),this.controls.Pd(!1),this.video.play()},K(ff,$),V("shaka.ui.Controls",ff);var hf=new Map;function df(t,e){hf.set(t,e)}function pf(t){var e=t.a.paused&&!t.M,n=t.b.classList.contains("shaka-keyboard-navigation");e||t.Fa||n||function(t){return t.Qa.some((function(t){return t.matches(":hover")}))}(t)?(bf(t),t.b.setAttribute("shown","true"),t.L.stop()):t.L.R(t.g.fadeDelay)}function vf(t){t.I&&t.a.duration&&(t.s.be(),t.a.paused?t.a.play():t.a.pause())}function mf(t){var e=t.l.aa();t.dispatchEvent(new H("caststatuschanged",{jg:e})),e?t.b.setAttribute("casting","true"):t.b.removeAttribute("casting")}function yf(t){return!!t.I&&(null!=t.b.getAttribute("shown")||null!=t.b.getAttribute("casting"))}function gf(t,e){t.a.currentTime=e,yf(t)&&bf(t)}function bf(t){if(t.j)if(tf(t.j,t.a.currentTime),cf(t.j),t.j.b.classList.contains("shaka-hidden")){var e=h(t.D);for(n=e.next();!n.done;n=e.next())n.value.classList.add("shaka-low-position")}else for(var n=(e=h(t.D)).next();!n.done;n=e.next())n.value.classList.remove("shaka-low-position");t.dispatchEvent(new H("timeandseekrangeupdated"))}function wf(t,e){Jl.call(this,t,e);var n=this;this.g=this.controls.g,this.f=this.controls.b,this.c=[],this.b=Nl("button"),this.b.classList.add("shaka-overflow-menu-button"),this.b.classList.add("shaka-no-propagation"),this.b.classList.add("material-icons"),this.b.textContent="more_vert",this.parent.appendChild(this.b),this.a=Nl("div"),this.a.classList.add("shaka-overflow-menu"),this.a.classList.add("shaka-no-propagation"),this.a.classList.add("shaka-show-controls-on-mouse-over"),this.a.classList.add("shaka-settings-menu"),this.f.appendChild(this.a),function(t){for(var e=0;e<t.g.overflowMenuButtons.length;e++){var n=t.g.overflowMenuButtons[e];xf.get(n)?(n=xf.get(n),t.c.push(n.create(t.a,t.controls))):W("Unrecognized overflow menu element requested:",n)}}(this);for(var r=this.controls.f.getElementsByClassName("shaka-back-to-overflow-button"),i=0;i<r.length;i++)this.eventManager.m(r[i],"click",(function(){n.controls.Gc(),of(n.a,!0),n.a.childNodes.length&&n.a.childNodes[0].focus(),pf(n.controls)}));this.eventManager.m(this.localization,"locale-updated",(function(){_f(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){_f(n)})),this.eventManager.m(this.controls,"submenuopen",(function(){of(n.a,!1)})),this.eventManager.m(this.a,"touchstart",(function(t){n.controls.We(Date.now()),t.stopPropagation()})),this.eventManager.m(this.b,"click",(function(){!function(t){if(t.controls.yc())t.controls.Gc();else{of(t.a,!0),pf(t.controls);var e=function(t){return 0==t.classList.contains("shaka-hidden")};(function(t,e){for(var n=h(t),r=n.next();!r.done;r=n.next())if(e(r.value))return!0;return!1})(t.a.childNodes,e)&&J(t.a.childNodes,e)[0].focus()}}(n)})),this.eventManager.m(this.f,"touchstart",(function(t){n.a.classList.contains("shaka-displayed")&&(of(n.a,!1),t.preventDefault())})),_f(this)}function Ef(t,e){xf.set(t,e)}function _f(t){t.b.setAttribute("aria-label",t.localization.resolve("MORE_SETTINGS"))}function Tf(){}ff.prototype.destroy=function(){var t=this;return p((function e(){return U(e,(function(e){switch(e.o){case 1:if(t.c&&(t.c.release(),t.c=null),t.H&&(t.H.stop(),t.H=null),t.L&&(t.L.stop(),t.L=null),t.u&&(t.u.stop(),t.u=null),t.ea&&(t.ea.stop(),t.ea=null),!t.l){e.B(2);break}return x(e,t.l.destroy(),3);case 3:t.l=null;case 2:if(!t.ba){e.B(4);break}return x(e,t.ba.destroy(),5);case 5:t.ba=null;case 4:return t.s=null,t.Ga=null,t.a=null,t.Da=null,t.U.clear(),x(e,Promise.all(t.ua.map((function(t){return t.destroy()}))),6);case 6:if(t.ua=[],t.j)return x(e,t.j.destroy(),0);e.B(0)}}))}))},ff.prototype.destroy=ff.prototype.destroy,ff.registerElement=df,ff.prototype.pf=function(t){this.ha=t,mf(this)},ff.prototype.allowCast=ff.prototype.pf,ff.prototype.hg=function(){this.Nb()},ff.prototype.loadComplete=ff.prototype.hg,ff.prototype.configure=function(t){this.g=t,this.l.fe(t.castReceiverAppId),this.j&&(this.j.destroy(),this.j=null),this.Ea&&(this.Ea.destroy(),this.Ea=null),this.b?(Pl(this.b),this.f.removeChild(this.w)):function(t){t.b=Nl("div"),t.b.classList.add("shaka-controls-container"),t.f.appendChild(t.b),t.c.m(t.b,"touchstart",(function(e){t.a.duration&&(yf(t)?t.v=Date.now():(t.kc(e),e.preventDefault()))}),{passive:!1}),t.c.m(t.b,"click",(function(){t.I&&(t.yc()?t.u.Za():vf(t))}))}(this),function(t){t.f.classList.add("shaka-video-container"),t.a.classList.add("shaka-video");var e=Nl("div");e.classList.add("shaka-skim-container"),e.classList.add("shaka-fade-out-on-mouse-out"),t.b.appendChild(e),t.g.addBigPlayButton&&((e=Nl("div")).classList.add("shaka-play-button-container"),t.b.appendChild(e),t.Ea=new Rf(e,t)),t.w=Nl("div"),t.w.classList.add("shaka-spinner-container"),t.f.appendChild(t.w);var n=Nl("div");if(n.classList.add("shaka-spinner"),t.w.appendChild(n),(e=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("class","shaka-spinner-svg"),e.setAttribute("viewBox","0 0 30 30"),n.appendChild(e),(n=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("class","shaka-spinner-path"),n.setAttribute("cx","15"),n.setAttribute("cy","15"),n.setAttribute("r","14.5"),n.setAttribute("fill","none"),n.setAttribute("stroke-width","1"),n.setAttribute("stroke-miterlimit","10"),e.appendChild(n),function(t){t.Y=Nl("div"),t.Y.classList.add("shaka-bottom-controls"),t.b.appendChild(t.Y),t.F=Nl("div"),t.F.classList.add("shaka-controls-button-panel"),t.F.classList.add("shaka-no-propagation"),t.F.classList.add("shaka-show-controls-on-mouse-over"),t.Y.appendChild(t.F),t.c.m(t.F,"click",(function(){t.Gc()}));for(var e=0;e<t.g.controlPanelElements.length;e++){var n=t.g.controlPanelElements[e];hf.get(n)?(n=hf.get(n),t.ua.push(n.create(t.F,t))):W("Unrecognized control panel element requested:",n)}}(t),t.D=Array.from(t.f.getElementsByClassName("shaka-settings-menu")),t.g.addSeekBar)t.j=new uf(t.Y,t);else for(e=h(t.D),n=e.next();!n.done;n=e.next())n.value.classList.add("shaka-low-position");t.Qa=Array.from(t.f.getElementsByClassName("shaka-show-controls-on-mouse-over"))}(this),this.Nb();for(var e=(t=h(this.f.getElementsByClassName("shaka-no-propagation"))).next();!e.done;e=t.next()){e=e.value;var n=function(t){return t.stopPropagation()};this.c.m(e,"click",n),this.c.m(e,"dblclick",n)}},ff.prototype.configure=ff.prototype.configure,ff.prototype.Md=function(t){(this.I=t)?(of(this.b,!0),of(this.w,this.s.Ib()),this.a.tabIndex=-1,this.a.controls=!1):(of(this.b,!1),of(this.w,!1)),this.Nb()},ff.prototype.setEnabledShakaControls=ff.prototype.Md,ff.prototype.Pd=function(t){this.M=t},ff.prototype.setSeeking=ff.prototype.Pd,ff.prototype.Ve=function(t){this.a.controls=t,this.a.tabIndex=t?0:-1,t&&this.Md(!1)},ff.prototype.setEnabledNativeControls=ff.prototype.Ve,ff.prototype.Cf=function(){return this.l},ff.prototype.getCastProxy=ff.prototype.Cf,ff.prototype.Nf=function(){return this.Da},ff.prototype.getLocalization=ff.prototype.Nf,ff.prototype.Vd=function(){var t=this;return p((function e(){var n;return U(e,(function(e){switch(e.o){case 1:if(document.fullscreenElement){document.exitFullscreen(),e.B(0);break}if(A(e,3),!document.pictureInPictureElement){e.B(5);break}return x(e,document.exitPictureInPicture(),5);case 5:C(e,4);break;case 3:n=I(e),t.dispatchEvent(new H("error",{detail:n}));case 4:return x(e,t.f.requestFullscreen({navigationUI:"hide"}),0)}}))}))},ff.prototype.toggleFullScreen=ff.prototype.Vd,ff.prototype.ag=function(){return this.f},ff.prototype.getVideoContainer=ff.prototype.ag,ff.prototype.hc=function(){return this.a},ff.prototype.getVideo=ff.prototype.hc,ff.prototype.Mf=function(){return this.Ga},ff.prototype.getLocalVideo=ff.prototype.Mf,ff.prototype.Ua=function(){return this.s},ff.prototype.getPlayer=ff.prototype.Ua,ff.prototype.Lf=function(){return this.ba},ff.prototype.getLocalPlayer=ff.prototype.Lf,ff.prototype.Ff=function(){return this.b},ff.prototype.getControlsContainer=ff.prototype.Ff,ff.prototype.Df=function(){return this.g},ff.prototype.getConfig=ff.prototype.Df,ff.prototype.gg=function(){return this.M},ff.prototype.isSeeking=ff.prototype.gg,ff.prototype.eg=function(){return this.ha},ff.prototype.isCastAllowed=ff.prototype.eg,ff.prototype.le=function(){return this.j?parseFloat(this.j.a.value):this.a.currentTime},ff.prototype.getDisplayTime=ff.prototype.le,ff.prototype.We=function(t){this.v=t},ff.prototype.setLastTouchEventTime=ff.prototype.We,ff.prototype.yc=function(){return this.D.some((function(t){return t.classList.contains("shaka-displayed")}))},ff.prototype.anySettingsMenusAreOpen=ff.prototype.yc,ff.prototype.Gc=function(){this.u.Za()},ff.prototype.hideSettingsMenus=ff.prototype.Gc,(r=ff.prototype).kc=function(t){"mousemove"==t.type&&(this.b.classList.remove("shaka-keyboard-navigation"),pf(this)),"touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"keyup"==t.type?this.v=Date.now():this.v+1e3<Date.now()&&(this.v=null),this.v&&"mousemove"==t.type||(this.f.style.cursor="",this.Fa=!0,this.u.stop(),yf(this)||(bf(this),pf(this)),this.H.stop(),"touchend"!=t.type&&"keyup"!=t.type&&this.v||this.H.R(3))},r.ug=function(){this.v||this.H.Za()},r.Nb=function(){this.a.ended&&!this.a.paused&&this.a.pause(),pf(this)},r.og=function(t){var e=t.key,n=document.activeElement,r=!(!n||!n.classList)&&n.classList.contains("shaka-volume-bar"),i=n&&n.classList&&n.classList.contains("shaka-seek-bar");switch(this.b.contains(n)&&this.kc(t),this.U.delete(t.keyCode),e){case"ArrowLeft":r||gf(this,this.a.currentTime-5);break;case"ArrowRight":r||gf(this,this.a.currentTime+5);break;case"Home":gf(this,this.s.Wb().start);break;case"End":gf(this,this.s.Wb().end);break;case" ":i&&vf(this)}},r.Ce=function(e){this.U.add(e.keyCode);var n=this.yc();9==e.keyCode&&(this.b.classList.add("shaka-keyboard-navigation"),pf(this),this.c.m(t,"mousedown",this.sg.bind(this))),27==e.keyCode&&this.u.Za(),n&&this.U.has(9)&&function(t,e){var n=t.D.filter((function(t){return t.classList.contains("shaka-displayed")}))[0];if(n.childNodes.length){for(var r=n.firstElementChild;r&&r.classList.contains("shaka-hidden");)r=r.nextElementSibling;for(n=n.lastElementChild;n&&n.classList.contains("shaka-hidden");)n=n.previousElementSibling;var i=document.activeElement;t.U.has(16)?i==r&&(e.preventDefault(),n.focus()):i==n&&(e.preventDefault(),r.focus())}}(this,e)},r.sg=function(){this.c.ra(t,"mousedown"),this.c.m(t,"keydown",this.Ce.bind(this))},w(wf,Jl),V("shaka.ui.OverflowMenu",wf),wf.prototype.destroy=function(){var t=this;return p((function e(){return U(e,(function(e){switch(e.o){case 1:return t.f=null,x(e,Promise.all(t.c.map((function(t){return t.destroy()}))),2);case 2:return t.c=[],x(e,Jl.prototype.destroy.call(t),0)}}))}))},wf.registerElement=Ef,Tf.prototype.create=function(t,e){return new wf(t,e)},df("overflow_menu",new Tf);var xf=new Map;function Sf(t,e,n){Jl.call(this,t,e);var r=this;!function(t,e){t.button=Nl("button"),t.f=Nl("i"),t.f.classList.add("material-icons"),t.f.textContent=e,t.button.appendChild(t.f);var n=Nl("label");n.classList.add("shaka-overflow-button-label"),t.l=Nl("span"),n.appendChild(t.l),t.b=Nl("span"),t.b.classList.add("shaka-current-selection-span"),n.appendChild(t.b),t.button.appendChild(n),t.parent.appendChild(t.button)}(this,n),function(t){t.a=Nl("div"),t.a.classList.add("shaka-no-propagation"),t.a.classList.add("shaka-show-controls-on-mouse-over"),t.a.classList.add("shaka-settings-menu"),t.c=Nl("button"),t.c.classList.add("shaka-back-to-overflow-button"),t.a.appendChild(t.c);var e=Nl("i");e.classList.add("material-icons"),e.textContent="arrow_back",t.c.appendChild(e),t.j=Nl("span"),t.c.appendChild(t.j),t.controls.b.appendChild(t.a)}(this),this.eventManager.m(this.button,"click",(function(){r.controls.dispatchEvent(new H("submenuopen")),of(r.a,!0),rf(r.a)}))}function Af(t,e){Sf.call(this,t,e,"language");var n=this;this.button.classList.add("shaka-language-button"),this.a.classList.add("shaka-audio-languages"),this.eventManager.m(this.localization,"locale-updated",(function(){Cf(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){Cf(n)})),this.eventManager.m(this.player,"trackschanged",(function(){var t=0<n.player.Hb().length;of(n.button,t),kf(n)})),this.eventManager.m(this.player,"variantchanged",(function(){kf(n)})),Cf(this),kf(this)}function kf(t){$l(t.player.Hb(),t.a,(function(e){t.player.Qe(e.language,e.roles[0])}),!0,t.b,t.localization,t.controls.g.trackLabelFormat),rf(t.a),t.controls.dispatchEvent(new H("languageselectionupdated"))}function Cf(t){t.c.setAttribute("aria-label",t.localization.resolve("BACK")),t.button.setAttribute("aria-label",t.localization.resolve("LANGUAGE")),t.l.textContent=t.localization.resolve("LANGUAGE"),t.j.textContent=t.localization.resolve("LANGUAGE")}function If(){}function Nf(t,e){Jl.call(this,t,e);var n=this;this.button=Nl("button"),this.parent.appendChild(this.button),this.eventManager.m(this.localization,"locale-updated",(function(){Mf(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){Mf(n)})),this.eventManager.m(this.video,"play",(function(){Mf(n)})),this.eventManager.m(this.video,"pause",(function(){Mf(n)})),this.eventManager.m(this.button,"click",(function(){Pf(n)?n.video.play():n.video.pause()}))}function Pf(t){return t.video.paused&&!t.controls.M}function Mf(t){t.button.setAttribute("aria-label",t.localization.resolve(Pf(t)?"PLAY":"PAUSE"))}function Rf(t,e){Nf.call(this,t,e);var n=this;this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation"),Of(this),Mf(this),this.eventManager.m(this.video,"play",(function(){Of(n)})),this.eventManager.m(this.video,"pause",(function(){Of(n)}))}function Of(t){Pf(t)?t.button.setAttribute("icon","play"):t.button.setAttribute("icon","pause")}function Lf(t,e){Jl.call(this,t,e);var n=this;this.b=this.controls.l,this.a=Nl("button"),this.a.classList.add("shaka-cast-button"),this.a.setAttribute("aria-pressed","false"),this.c=Nl("i"),this.c.classList.add("material-icons"),this.c.textContent="cast",this.a.appendChild(this.c);var r=Nl("label");r.classList.add("shaka-overflow-button-label"),this.g=Nl("span"),r.appendChild(this.g),this.f=Nl("span"),this.f.classList.add("shaka-current-selection-span"),r.appendChild(this.f),this.a.appendChild(r),this.parent.appendChild(this.a),jf(this),Uf(this),this.eventManager.m(this.localization,"locale-updated",(function(){jf(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){jf(n)})),this.eventManager.m(this.a,"click",(function(){!function(t){p((function e(){var n;return U(e,(function(e){switch(e.o){case 1:if(t.b.aa()){t.b.$e(),e.B(0);break}return A(e,3),t.a.disabled=!0,x(e,t.b.cast(),5);case 5:t.a.disabled=!1,C(e,0);break;case 3:n=I(e),t.a.disabled=!1,8004!=n.code&&t.controls.dispatchEvent(new H("error",{detail:n})),S(e)}}))}))}(n)})),this.eventManager.m(this.controls,"caststatuschanged",(function(){Uf(n)}))}function Uf(t){var e=t.b.ae()&&t.controls.ha,n=t.b.aa();of(t.a,e),t.c.textContent=n?"cast_connected":"cast",e&&(n?t.a.setAttribute("aria-pressed","true"):t.a.setAttribute("aria-pressed","false")),Df(t)}function Df(t){t.f.textContent=t.b.aa()?t.b.Rc():t.localization.resolve("OFF")}function jf(t){t.a.setAttribute("aria-label",t.localization.resolve("CAST")),t.g.textContent=t.localization.resolve("CAST"),Df(t)}function Ff(){}function Bf(t,e){Jl.call(this,t,e);var n=this;this.a=Nl("button"),this.a.classList.add("material-icons"),this.a.classList.add("shaka-fast-forward-button"),this.a.textContent="fast_forward",this.parent.appendChild(this.a),zf(this),this.eventManager.m(this.localization,"locale-updated",(function(){zf(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){zf(n)})),this.eventManager.m(this.a,"click",(function(){if(n.video.duration){var t=n.player.kd();n.player.Xd(0>t||4<t?1:2*t)}}))}function zf(t){t.a.setAttribute("aria-label",t.localization.resolve("FAST_FORWARD"))}function Gf(){}function Vf(t,e){Jl.call(this,t,e);var n=this;this.a=Nl("button"),this.a.classList.add("shaka-fullscreen-button"),this.a.classList.add("material-icons"),document.fullscreenEnabled||this.a.classList.add("shaka-hidden"),this.a.textContent="fullscreen",this.parent.appendChild(this.a),Kf(this),this.eventManager.m(this.localization,"locale-updated",(function(){Kf(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){Kf(n)})),this.eventManager.m(this.a,"click",(function(){n.controls.Vd()})),this.eventManager.m(document,"fullscreenchange",(function(){n.a.textContent=document.fullscreenElement?"fullscreen_exit":"fullscreen",Kf(n)}))}function Kf(t){t.a.setAttribute("aria-label",t.localization.resolve(document.fullscreenElement?"EXIT_FULL_SCREEN":"FULL_SCREEN"))}function Hf(){}function qf(t,e){Jl.call(this,t,e);var n=this;this.a=Nl("button"),this.a.classList.add("shaka-mute-button"),this.a.classList.add("material-icons"),this.a.textContent="volume_up",this.parent.appendChild(this.a),Wf(this),this.eventManager.m(this.localization,"locale-updated",(function(){Wf(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){Wf(n)})),this.eventManager.m(this.a,"click",(function(){n.video.muted=!n.video.muted})),this.eventManager.m(this.video,"volumechange",(function(){Wf(n),n.a.textContent=n.video.muted?"volume_off":"volume_up"}))}function Wf(t){t.a.setAttribute("aria-label",t.localization.resolve(t.video.muted?"UNMUTE":"MUTE"))}function Xf(){}function Yf(t,e){Jl.call(this,t,e);var n=this;this.g=this.controls.Ga,this.a=Nl("button"),this.a.classList.add("shaka-pip-button"),this.c=Nl("i"),this.c.classList.add("material-icons"),this.c.textContent="picture_in_picture_alt",this.a.appendChild(this.c);var r=Nl("label");r.classList.add("shaka-overflow-button-label"),this.f=Nl("span"),this.f.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),r.appendChild(this.f),this.b=Nl("span"),this.b.classList.add("shaka-current-selection-span"),r.appendChild(this.b),this.a.appendChild(r),$f(this),this.parent.appendChild(this.a),document.pictureInPictureEnabled&&!this.video.disablePictureInPicture||of(this.a,!1),this.eventManager.m(this.localization,"locale-updated",(function(){$f(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){$f(n)})),this.eventManager.m(this.a,"click",(function(){!function(t){p((function e(){var n;return U(e,(function(e){switch(e.o){case 1:return A(e,2),document.pictureInPictureElement?x(e,document.exitPictureInPicture(),5):(document.fullscreenElement&&document.exitFullscreen(),x(e,t.video.requestPictureInPicture(),5));case 5:C(e,0);break;case 2:n=I(e),t.controls.dispatchEvent(new H("error",{detail:n})),S(e)}}))}))}(n)})),this.eventManager.m(this.g,"enterpictureinpicture",(function(){n.c.textContent="branding_watermark",n.a.setAttribute("aria-label",n.localization.resolve("EXIT_PICTURE_IN_PICTURE")),n.b.textContent=n.localization.resolve("ON")})),this.eventManager.m(this.g,"leavepictureinpicture",(function(){n.c.textContent="picture_in_picture_alt",n.a.setAttribute("aria-label",n.localization.resolve("ENTER_PICTURE_IN_PICTURE")),n.b.textContent=n.localization.resolve("OFF")})),this.eventManager.m(this.controls,"caststatuschanged",(function(t){t.newStatus?document.pictureInPictureEnabled&&!n.video.disablePictureInPicture&&of(n.a,!1):document.pictureInPictureEnabled&&!n.video.disablePictureInPicture&&of(n.a,!0)})),this.eventManager.m(this.player,"trackschanged",(function(){!function(t){p((function e(){return U(e,(function(e){switch(e.o){case 1:if(document.pictureInPictureEnabled&&!t.video.disablePictureInPicture)if(t.player&&t.player.pe()){if(of(t.a,!1),document.pictureInPictureElement)return x(e,document.exitPictureInPicture(),0)}else of(t.a,!0);else of(t.a,!1);e.B(0)}}))}))}(n)}))}function $f(t){t.f.textContent=t.localization.resolve("PICTURE_IN_PICTURE"),t.a.setAttribute("aria-label",t.localization.resolve(document.pictureInPictureElement?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE")),t.b.textContent=t.localization.resolve(document.pictureInPictureElement?"ON":"OFF")}function Zf(){}function Jf(t,e){Jl.call(this,t,e);var n=this;this.a=Nl("button"),this.a.classList.add("shaka-current-time"),Qf(this,"0:00"),this.parent.appendChild(this.a),this.eventManager.m(this.a,"click",(function(){n.player.V()&&(n.video.currentTime=n.player.Wb().end)})),this.eventManager.m(this.controls,"timeandseekrangeupdated",(function(){var t=n.controls.M,e=n.controls.le(),r=n.video.duration,i=n.player.Wb(),a=i.end-i.start;n.player.V()?(r=3600<=a,1<=(e=Math.max(0,Math.floor(i.end-e)))||t?(Qf(n,"- "+th(e,r)),n.a.disabled=!1):(Qf(n,n.localization.resolve("LIVE")),n.a.disabled=!0)):(e=th(e,t=3600<=r),r&&(e+=" / "+th(r,t)),Qf(n,e),n.a.disabled=!0)})),this.eventManager.m(this.player,"trackschanged",(function(){n.player.V()&&n.a.setAttribute("aria-label",n.localization.resolve("SKIP_TO_LIVE"))}))}function Qf(t,e){e!=t.a.textContent&&(t.a.textContent=e)}function th(t,e){var n=Math.floor(t/3600),r=Math.floor(t/60%60),i=Math.floor(t%60);return 10>i&&(i="0"+i),i=r+":"+i,e&&(10>r&&(i="0"+i),i=n+":"+i),i}function eh(){}function nh(t,e){Sf.call(this,t,e,"settings");var n=this;this.button.classList.add("shaka-resolution-button"),this.a.classList.add("shaka-resolutions"),this.eventManager.m(this.localization,"locale-updated",(function(){ih(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){ih(n)})),this.eventManager.m(this.player,"variantchanged",(function(){rh(n)})),this.eventManager.m(this.player,"trackschanged",(function(){rh(n)})),this.eventManager.m(this.player,"abrstatuschanged",(function(){rh(n)})),rh(this),ih(this)}function rh(t){var e=t.player.Hb();if(e.length&&!e[0].height)of(t.a,!1),of(t.button,!1);else{of(t.button,!0),e.sort((function(t,e){return e.height-t.height}));var n=e.find((function(t){return t.active}));n&&(e=e.filter((function(t){return t.language==n.language&&t.channelsCount==n.channelsCount}))),e=e.filter((function(t,n){return e.findIndex((function(e){return e.height==t.height}))==n}));var r=nf(t.a,"shaka-back-to-overflow-button");sf(t.a),t.a.appendChild(r);var i=t.player.getConfiguration().abr.enabled;e.forEach((function(e){var r=Nl("button");r.classList.add("explicit-resolution"),t.eventManager.m(r,"click",t.s.bind(t,e));var a=Nl("span");a.textContent=e.height+"p",r.appendChild(a),i||e!=n||(r.setAttribute("aria-selected","true"),r.appendChild(af()),a.classList.add("shaka-chosen-item"),t.b.textContent=a.textContent),t.a.appendChild(r)})),(r=Nl("button")).classList.add("shaka-enable-abr-button"),t.eventManager.m(r,"click",function(){this.player.configure({abr:{enabled:!0}}),rh(this)}.bind(t)),t.g=Nl("span"),t.g.classList.add("shaka-auto-span"),t.g.textContent=t.localization.resolve("AUTO_QUALITY"),r.appendChild(t.g),i&&(r.setAttribute("aria-selected","true"),r.appendChild(af()),t.g.classList.add("shaka-chosen-item"),t.b.textContent=t.localization.resolve("AUTO_QUALITY")),t.a.appendChild(r),rf(t.a),t.controls.dispatchEvent(new H("resolutionselectionupdated"))}}function ih(t){t.button.setAttribute("aria-label",t.localization.resolve("RESOLUTION")),t.c.setAttribute("aria-label",t.localization.resolve("RESOLUTION")),t.j.textContent=t.localization.resolve("RESOLUTION"),t.l.textContent=t.localization.resolve("RESOLUTION"),t.g.textContent=t.localization.resolve("AUTO_QUALITY"),t.player.getConfiguration().abr.enabled&&(t.b.textContent=t.localization.resolve("AUTO_QUALITY"))}function ah(){}function oh(t,e){Jl.call(this,t,e);var n=this;this.a=Nl("button"),this.a.classList.add("material-icons"),this.a.classList.add("shaka-rewind-button"),this.a.textContent="fast_rewind",this.parent.appendChild(this.a),sh(this),this.eventManager.m(this.localization,"locale-updated",(function(){sh(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){sh(n)})),this.eventManager.m(this.a,"click",(function(){if(n.video.duration){var t=n.player.kd();n.player.Xd(0<t||-4>t?-1:2*t)}}))}function sh(t){t.a.setAttribute("aria-label",t.localization.resolve("REWIND"))}function uh(){}function ch(t,e){Nf.call(this,t,e);var n=this;this.button.classList.add("shaka-small-play-button"),this.button.classList.add("material-icons"),lh(this),Mf(this),this.eventManager.m(this.video,"play",(function(){lh(n)})),this.eventManager.m(this.video,"pause",(function(){lh(n)}))}function lh(t){t.button.textContent=Pf(t)?"play_arrow":"pause"}function fh(){}function hh(t,e){Jl.call(this,t,e);var n=Nl("div");n.classList.add("shaka-spacer"),n.setAttribute("aria-hidden",!0),this.parent.appendChild(n)}function dh(){}function ph(t,e){var n=this;this.f=!1,this.c=[],this.l=t,this.j=e,this.a=Nl("div"),this.a.classList.add("shaka-text-container"),this.j.appendChild(this.a),this.g=new It((function(){vh(n)})).Oa(.25),this.b=new Map}function vh(t){function e(e){return t.c.includes(e)&&t.f&&e.startTime<=n&&e.endTime>=n}for(var n=t.l.currentTime,r=h(t.b.keys()),i=r.next();!i.done;i=r.next())if(!e(i=i.value)){var a=t.b.get(i);t.a.removeChild(a),t.b.delete(i)}for(r=new Set(t.b.values()),a=(i=h(Array.from(t.a.childNodes))).next();!a.done;a=i.next())a=a.value,r.has(a)||t.a.removeChild(a);for(i=(r=h(r=t.c.filter((function(n){return e(n)&&!t.b.has(n)})).sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime-e.endTime})))).next();!i.done;i=r.next())yh(t,t.a,i.value)}function mh(t,e,n){var r=Nl("span");return n.spacer?r.style.display="block":gh(t,r,n,!0),e.appendChild(r),r}function yh(t,e,n){if(n.nestedCues.length){var r=Nl("p");r.style.width="100%",gh(t,r,n,!1);for(var i=0;i<n.nestedCues.length;i++)mh(t,r,n.nestedCues[i]);e.appendChild(r),t.b.set(n,r)}else t.b.set(n,mh(t,e,n))}function gh(t,e,n,r){var i=e.style;if(t=t.a.style,i.whiteSpace="pre-line",e.textContent=n.payload,i.backgroundColor=n.backgroundColor,i.color=n.color,i.direction=n.direction,n.backgroundImage&&(i.backgroundImage="url('"+n.backgroundImage+"')",i.backgroundRepeat="no-repeat",i.backgroundSize="contain",i.backgroundPosition="center",""==n.backgroundColor&&(i.backgroundColor="transparent")),n.backgroundImage&&n.region){e=xn;var a=n.region.widthUnits==e?"%":"px";i.height=n.region.height+(n.region.heightUnits==e?"%":"px"),i.width=n.region.width+a}i.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end",n.nestedCues.length&&(i.display="flex",i.flexDirection="column",i.margin="0"),i.fontFamily=n.fontFamily,i.fontWeight=n.fontWeight.toString(),i.fontSize=n.fontSize,i.fontStyle=n.fontStyle,n.line?1==n.lineInterpretation&&(n.writingMode==mn?n.lineAlign==gn?t.top=n.line+"%":"end"==n.lineAlign&&(t.bottom=n.line+"%"):"vertical-lr"==n.writingMode?n.lineAlign==gn?t.left=n.line+"%":"end"==n.lineAlign&&(t.right=n.line+"%"):n.lineAlign==gn?t.right=n.line+"%":"end"==n.lineAlign&&(t.left=n.line+"%")):n.region&&n.region.id&&!r&&(r=xn,e=n.region.widthUnits==r?"%":"px",a=n.region.viewportAnchorUnits==r?"%":"px",i.height=n.region.height+(n.region.heightUnits==r?"%":"px"),i.width=n.region.width+e,i.top=n.region.viewportAnchorY+a,i.left=n.region.viewportAnchorX+a,i.position="absolute"),i.lineHeight=n.lineHeight,n.position&&(n.writingMode==mn?t.paddingLeft=n.position:t.paddingTop=n.position),"line-left"==n.positionAlign?t.cssFloat="left":"line-right"==n.positionAlign?t.cssFloat="right":t.margin="auto",i.textAlign=n.textAlign,i.textDecoration=n.textDecoration.join(" "),i.writingMode=n.writingMode,n.writingMode==mn?t.width=n.size+"%":t.height=n.size+"%"}function bh(t,e){Sf.call(this,t,e,"closed_caption");var n=this;this.button.classList.add("shaka-caption-button"),this.a.classList.add("shaka-text-languages"),this.player&&this.player.cb()?this.button.setAttribute("aria-pressed","true"):this.button.setAttribute("aria-pressed","false"),function(t){var e=Nl("button");e.setAttribute("aria-selected","true"),t.a.appendChild(e),e.appendChild(af()),t.g=Nl("span"),t.g.classList.add("shaka-auto-span"),e.appendChild(t.g)}(this),this.eventManager.m(this.localization,"locale-updated",(function(){_h(n),Eh(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){_h(n),Eh(n)})),this.eventManager.m(this.player,"texttrackvisibility",(function(){wh(n)})),this.eventManager.m(this.player,"textchanged",(function(){Eh(n)})),this.eventManager.m(this.player,"trackschanged",(function(){var t=0<n.player.ab().length;of(n.button,t),Eh(n)})),wh(this),_h(this),Eh(this)}function wh(t){t.player.cb()?(t.f.classList.add("shaka-captions-on"),t.f.classList.remove("shaka-captions-off"),t.button.setAttribute("aria-pressed","true")):(t.f.classList.add("shaka-captions-off"),t.f.classList.remove("shaka-captions-on"),t.button.setAttribute("aria-pressed","false")),t.controls.dispatchEvent(new H("captionselectionupdated"))}function Eh(t){var e=t.player.ab();$l(e,t.a,(function(e){return function(t,e){return p((function n(){return U(n,(function(n){switch(n.o){case 1:return x(n,t.player.Rd(!0),2);case 2:t.player&&t.player.Re(e.language,e.roles[0]),S(n)}}))}))}(t,e)}),t.player.cb(),t.b,t.localization,t.controls.g.trackLabelFormat),(e=Nl("button")).classList.add("shaka-turn-captions-off-button"),t.eventManager.m(e,"click",(function(){t.player.Rd(!1).catch((function(){})),Eh(t)})),e.appendChild(t.g),t.a.appendChild(e),t.player.cb()||(e.setAttribute("aria-selected","true"),e.appendChild(af()),t.g.classList.add("shaka-chosen-item"),t.b.textContent=t.localization.resolve("OFF")),rf(t.a),t.controls.dispatchEvent(new H("captionselectionupdated"))}function _h(t){t.button.setAttribute("aria-label",t.localization.resolve("CAPTIONS")),t.c.setAttribute("aria-label",t.localization.resolve("BACK")),t.l.textContent=t.localization.resolve("CAPTIONS"),t.j.textContent=t.localization.resolve("CAPTIONS"),t.g.textContent=t.localization.resolve("OFF")}function Th(){}function xh(t,e,n){this.c=t,this.b=Sh(),e.dataset.shakaPlayerContainer="",e.ui=this,this.re()&&e.classList.add("shaka-mobile"),this.a=new ff(t,e,n,this.b),this.configure({}),n.controls||t.configure("textDisplayFactory",(function(){return new ph(n,e)})),e.ui=this,n.ui=this}function Sh(){return{controlPanelElements:"time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),overflowMenuButtons:["captions","quality","language","picture_in_picture","cast"],addSeekBar:!0,addBigPlayButton:!0,castReceiverAppId:"",clearBufferOnQualityChange:!0,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},trackLabelFormat:Ih,fadeDelay:0}}function Ah(){return p((function t(){var e,n,r,i,a,o,s;return U(t,(function(t){switch(t.o){case 1:if(rc(),!Js())return kh("shaka-ui-load-failed"),t.return();if(e=document.querySelectorAll("[data-shaka-player-container]"),!(n=document.querySelectorAll("[data-shaka-player]")).length&&!e.length){t.B(2);break}if(n.length&&!e.length){for(var u=0;u<n.length;u++)(r=n[u]).ui||(i=document.createElement("div"),r.parentElement.replaceChild(i,r),i.appendChild(r),Ch(i,r));t.B(2);break}a=0;case 4:if(!(a<e.length)){t.B(2);break}if((o=e[a]).ui){t.B(5);break}for(s=null,u=0;u<n.length;u++)if(n[u].parentElement==o){s=n[u];break}return s||((s=document.createElement("video")).setAttribute("playsinline",""),o.appendChild(s)),x(t,Ch(o,s),5);case 5:a++,t.B(4);break;case 2:kh("shaka-ui-loaded"),S(t)}}))}))}function kh(t){var e=document.createEvent("CustomEvent");e.initCustomEvent(t,!1,!1,null),document.dispatchEvent(e)}function Ch(t,e){return p((function n(){var r,i,a,o,s,u,c,l;return U(n,(function(n){switch(n.o){case 1:r=new Xs(e),i=new xh(r,t,e),a="",t.dataset&&t.dataset.shakaPlayerCastReceiverId?a=t.dataset.shakaPlayerCastReceiverId:e.dataset&&e.dataset.shakaPlayerCastReceiverId&&(a=e.dataset.shakaPlayerCastReceiverId),a.length&&i.configure({castReceiverAppId:a}),e.controls&&i.a.Ve(!0),(o=e.getAttribute("src"))&&((s=document.createElement("source")).setAttribute("src",o),e.appendChild(s),e.removeAttribute("src")),u=h(e.querySelectorAll("source")),c=u.next();case 2:if(c.done){n.B(0);break}return l=c.value,A(n,5),x(n,i.a.Ua().load(l.getAttribute("src")),7);case 7:n.B(0);break;case 5:I(n);case 3:c=u.next(),n.B(2)}}))}))}w(Sf,Jl),V("shaka.ui.SettingsMenu",Sf),w(Af,Sf),V("shaka.ui.AudioLanguageSelection",Af),If.prototype.create=function(t,e){return new Af(t,e)},Ef("language",new If),w(Nf,Jl),V("shaka.ui.PlayButton",Nf),w(Rf,Nf),V("shaka.ui.BigPlayButton",Rf),w(Lf,Jl),V("shaka.ui.CastButton",Lf),Ff.prototype.create=function(t,e){return new Lf(t,e)},Ef("cast",new Ff),w(Bf,Jl),V("shaka.ui.FastForwardButton",Bf),Gf.prototype.create=function(t,e){return new Bf(t,e)},df("fast_forward",new Gf),w(Vf,Jl),V("shaka.ui.FullscreenButton",Vf),Hf.prototype.create=function(t,e){return new Vf(t,e)},df("fullscreen",new Hf),w(qf,Jl),V("shaka.ui.MuteButton",qf),Xf.prototype.create=function(t,e){return new qf(t,e)},df("mute",new Xf),w(Yf,Jl),V("shaka.ui.PipButton",Yf),Zf.prototype.create=function(t,e){return new Yf(t,e)},Ef("picture_in_picture",new Zf),w(Jf,Jl),V("shaka.ui.PresentationTimeTracker",Jf),eh.prototype.create=function(t,e){return new Jf(t,e)},df("time_and_duration",new eh),w(nh,Sf),V("shaka.ui.ResolutionSelection",nh),nh.prototype.s=function(t){this.player.configure({abr:{enabled:!1}}),this.player.Se(t,this.controls.g.clearBufferOnQualityChange)},ah.prototype.create=function(t,e){return new nh(t,e)},Ef("quality",new ah),w(oh,Jl),V("shaka.ui.RewindButton",oh),uh.prototype.create=function(t,e){return new oh(t,e)},df("rewind",new uh),w(ch,Nf),V("shaka.ui.SmallPlayButton",ch),fh.prototype.create=function(t,e){return new ch(t,e)},df("play_pause",new fh),w(hh,Jl),V("shaka.ui.Spacer",hh),dh.prototype.create=function(t,e){return new hh(t,e)},df("spacer",new dh),V("shaka.ui.TextDisplayer",ph),ph.prototype.append=function(t){this.c=this.c.concat(t)},ph.prototype.append=ph.prototype.append,ph.prototype.destroy=function(){this.j.removeChild(this.a),this.a=null,this.f=!1,this.c=[],this.g&&this.g.stop(),this.b.clear()},ph.prototype.destroy=ph.prototype.destroy,ph.prototype.remove=function(t,e){return!!this.a&&(this.c=this.c.filter((function(n){return n.startTime<t||n.endTime>=e})),vh(this),!0)},ph.prototype.remove=ph.prototype.remove,ph.prototype.isTextVisible=function(){return this.f},ph.prototype.isTextVisible=ph.prototype.isTextVisible,ph.prototype.setTextVisibility=function(t){this.f=t},ph.prototype.setTextVisibility=ph.prototype.setTextVisibility,w(bh,Sf),V("shaka.ui.TextSelection",bh),Th.prototype.create=function(t,e){return new bh(t,e)},Ef("captions",new Th),V("shaka.ui.Overlay",xh),xh.prototype.destroy=function(){var t=this;return p((function e(){return U(e,(function(e){switch(e.o){case 1:return x(e,t.a.destroy(),2);case 2:return t.a=null,x(e,t.c.destroy(),3);case 3:t.c=null,S(e)}}))}))},xh.prototype.destroy=xh.prototype.destroy,xh.prototype.re=function(){return!!/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)||he()&&1<navigator.maxTouchPoints},xh.prototype.isMobile=xh.prototype.re,xh.prototype.getConfiguration=function(){var t=Sh();return js(t,this.b,Sh(),{},""),t},xh.prototype.getConfiguration=xh.prototype.getConfiguration,xh.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Fs(t,e)),js(this.b,t,Sh(),{},""),this.b.castReceiverAppId&&!this.b.overflowMenuButtons.includes("cast")&&this.b.overflowMenuButtons.push("cast"),this.a.configure(this.b),this.a.dispatchEvent(new H("uiupdated"))},xh.prototype.configure=xh.prototype.configure,xh.prototype.Ua=function(){return ur("ui.Overlay.getPlayer()","Please use getControls().getPlayer() instead."),this.a.Ua()},xh.prototype.getPlayer=xh.prototype.Ua,xh.prototype.Ef=function(){return this.a},xh.prototype.getControls=xh.prototype.Ef,xh.prototype.Yg=function(t){this.a.Md(t)},xh.prototype.setEnabled=xh.prototype.Yg;var Ih=0,Nh=1,Ph=2;function Mh(t,e){Ql.call(this,t,e,["shaka-volume-bar-container"],["shaka-volume-bar"]);var n=this;this.f=this.controls.g,this.eventManager.m(this.video,"volumechange",(function(){return Rh(n)})),this.eventManager.m(this.localization,"locale-updated",(function(){return Oh(n)})),this.eventManager.m(this.localization,"locale-changed",(function(){return Oh(n)})),Rh(this),Oh(this)}function Rh(t){t.video.muted?tf(t,0):tf(t,t.video.volume);var e=t.f.volumeBarColors,n=["to right"];n.push(e.level+100*parseFloat(t.a.value)+"%"),n.push(e.base+100*parseFloat(t.a.value)+"%"),n.push(e.base+"100%"),t.b.style.background="linear-gradient("+n.join(",")+")"}function Oh(t){t.a.setAttribute("aria-label",t.localization.resolve("VOLUME"))}function Lh(){}V("shaka.ui.TrackLabelFormat",{LANGUAGE:Ih,ROLE:Nh,LANGUAGE_ROLE:Ph}),"complete"==document.readyState?Promise.resolve().then(Ah):t.addEventListener("load",Ah),w(Mh,Ql),V("shaka.ui.VolumeBar",Mh),Mh.prototype.g=function(){this.video.volume=parseFloat(this.a.value),this.video.muted=0==this.video.volume},Lh.prototype.create=function(t,e){return new Mh(t,e)},df("volume",new Lh)}.call(i,r,r),i.shaka)e[a]=i.shaka[a]}()}).call(this,n(28),n(29)(t))},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(30),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=o.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(153),i=n(25);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(24);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e,n){var r=n(155),i=n(40),a=n(13),o=n(57),s=n(58),u=n(59),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=a(t),l=!n&&i(t),f=!n&&!l&&o(t),h=!n&&!l&&!f&&u(t),d=n||l||f||h,p=d?r(t.length,String):[],v=p.length;for(var m in t)!e&&!c.call(t,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(18),i=n(17),a="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==a}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(18),i=n(55),a=n(17),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&i(t.length)&&!!o[r(t)]}},function(t,e,n){(function(t){var r=n(83),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i&&r.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s}).call(this,n(29)(t))},function(t,e,n){var r=n(88)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(162),i=n(203),a=n(99);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(89),i=n(91),a=1,o=2;t.exports=function(t,e,n,s){var u=n.length,c=u,l=!s;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){var h=(f=n[u])[0],d=t[h],p=f[1];if(l&&f[2]){if(void 0===d&&!(h in t))return!1}else{var v=new r;if(s)var m=s(d,p,h,t,e,v);if(!(void 0===m?i(p,d,a|o,s,v):m))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(42),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(42);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(42);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(42);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(41);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(41),i=n(62),a=n(63),o=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<o-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(36),i=n(174),a=n(31),o=n(90),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||i(t))&&(r(t)?h:s).test(o(t))}},function(t,e,n){var r,i=n(175),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!a&&a in t}},function(t,e,n){var r=n(19)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(178),i=n(41),a=n(62);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(t,e,n){var r=n(179),i=n(180),a=n(181),o=n(182),s=n(183);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(43);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(43),i="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return a.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(43),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(43),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(44);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(44);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(44);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(44);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(89),i=n(92),a=n(192),o=n(195),s=n(96),u=n(13),c=n(57),l=n(59),f=1,h="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,y,g){var b=u(t),w=u(e),E=b?d:s(t),_=w?d:s(e),T=(E=E==h?p:E)==p,x=(_=_==h?p:_)==p,S=E==_;if(S&&c(t)){if(!c(e))return!1;b=!0,T=!1}if(S&&!T)return g||(g=new r),b||l(t)?i(t,e,n,m,y,g):a(t,e,E,n,m,y,g);if(!(n&f)){var A=T&&v.call(t,"__wrapped__"),k=x&&v.call(e,"__wrapped__");if(A||k){var C=A?t.value():t,I=k?e.value():e;return g||(g=new r),y(C,I,n,m,g)}}return!!S&&(g||(g=new r),o(t,e,n,m,y,g))}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(30),i=n(193),a=n(61),o=n(92),s=n(194),u=n(64),c=1,l=2,f="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Map]",v="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",_=r?r.prototype:void 0,T=_?_.valueOf:void 0;t.exports=function(t,e,n,r,_,x,S){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!x(new i(t),new i(e)));case f:case h:case v:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case g:return t==e+"";case p:var A=s;case y:var k=r&c;if(A||(A=u),t.size!=e.size&&!k)return!1;var C=S.get(t);if(C)return C==e;r|=l,S.set(t,e);var I=o(A(t),A(e),r,_,x,S);return S.delete(t),I;case b:if(T)return T.call(t)==T.call(e)}return!1}},function(t,e,n){var r=n(19).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(196),i=1,a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,s,u){var c=n&i,l=r(t),f=l.length;if(f!=r(e).length&&!c)return!1;for(var h=f;h--;){var d=l[h];if(!(c?d in e:a.call(e,d)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var v=!0;u.set(t,e),u.set(e,t);for(var m=c;++h<f;){var y=t[d=l[h]],g=e[d];if(o)var b=c?o(g,y,d,e,t,u):o(y,g,d,t,e,u);if(!(void 0===b?y===g||s(y,g,n,o,u):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(v=!1)}return u.delete(t),u.delete(e),v}},function(t,e,n){var r=n(197),i=n(198),a=n(25);t.exports=function(t){return r(t,a,i)}},function(t,e,n){var r=n(94),i=n(13);t.exports=function(t,e,n){var a=e(t);return i(t)?a:r(a,n(t))}},function(t,e,n){var r=n(95),i=n(199),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),r(o(t),(function(e){return a.call(t,e)})))}:i;t.exports=s},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(23)(n(19),"DataView");t.exports=r},function(t,e,n){var r=n(23)(n(19),"Promise");t.exports=r},function(t,e,n){var r=n(23)(n(19),"WeakMap");t.exports=r},function(t,e,n){var r=n(98),i=n(25);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var a=e[n],o=t[a];e[n]=[a,o,r(o)]}return e}},function(t,e,n){var r=n(91),i=n(72),a=n(208),o=n(67),s=n(98),u=n(99),c=n(33),l=1,f=2;t.exports=function(t,e){return o(t)&&s(e)?u(c(t),e):function(n){var o=i(n,t);return void 0===o&&o===e?a(n,t):r(e,o,l|f)}}},function(t,e,n){var r=n(206),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)})),e}));t.exports=o},function(t,e,n){var r=n(207),i=500;t.exports=function(t){var e=r(t,(function(t){return n.size===i&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(63),i="Expected a function";function a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(a.Cache||r),n}a.Cache=r,t.exports=a},function(t,e,n){var r=n(209),i=n(102);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(211),i=n(212),a=n(67),o=n(33);t.exports=function(t){return a(t)?r(o(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(65);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(48),i=n(22);t.exports=function(t,e){var n=-1,a=i(t)?Array(t.length):[];return r(t,(function(t,r,i){a[++n]=e(t,r,i)})),a}},function(t,e,n){var r=n(215),i=n(25);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(216)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var u=o[t?s:++i];if(!1===n(a[u],u,a))break}return e}}},function(t,e,n){var r=n(22);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var a=n.length,o=e?a:-1,s=Object(n);(e?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},function(t,e,n){var r=n(103),i=n(66),a=n(219),o=n(220),s=n(33);t.exports=function(t,e,n){e=i(e,t);var u=null==(t=o(t,e))?t:t[s(a(e))];return null==u?void 0:r(u,t,n)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(65),i=n(221);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}},function(t,e,n){var r=n(103),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var a=arguments,o=-1,s=i(a.length-e,0),u=Array(s);++o<s;)u[o]=a[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=a[o];return c[e]=n(u),r(t,this,c)}}},function(t,e,n){var r=n(224),i=n(227)(r);t.exports=i},function(t,e,n){var r=n(225),i=n(226),a=n(47),o=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a;t.exports=o},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(23),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,a=0;return function(){var o=i(),s=r-(o-a);if(a=o,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(47);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(32),i=n(22),a=n(25);t.exports=function(t){return function(e,n,o){var s=Object(e);if(!i(e)){var u=r(n,3);e=a(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,o);return c>-1?s[u?e[c]:c]:void 0}}},function(t,e,n){var r=n(82),i=n(32),a=n(56),o=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:a(n);return u<0&&(u=o(s+u,0)),r(t,i(e,3),u)}},function(t,e,n){var r=n(48);t.exports=function(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}},function(t,e,n){var r=n(61),i=n(22),a=n(58),o=n(31);t.exports=function(t,e,n){if(!o(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&a(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(235),i=n(236),a=n(237);t.exports=function(t){return r(t)||i(t)||a()}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){var r=n(45),i=n(68),a=n(69),o=n(46),s=n(239),u=n(64),c=200;t.exports=function(t,e,n){var l=-1,f=i,h=t.length,d=!0,p=[],v=p;if(n)d=!1,f=a;else if(h>=c){var m=e?null:s(t);if(m)return u(m);d=!1,f=o,v=new r}else v=e?[]:p;t:for(;++l<h;){var y=t[l],g=e?e(y):y;if(y=n||0!==y?y:0,d&&g==g){for(var b=v.length;b--;)if(v[b]===g)continue t;e&&v.push(g),p.push(y)}else f(v,g,n)||(v!==p&&v.push(g),p.push(y))}return p}},function(t,e,n){var r=n(97),i=n(240),a=n(64),o=r&&1/a(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=o},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(88)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(243);n(5);var i=n(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var d=function(){function t(e){o(this,t),c(this,"handlers",void 0),this.handlers=e.slice(0)}return u(t,[{key:"addHandlers",value:function(e){for(var n=this.handlers.slice(0),r=e.length,i=0;i<r;i+=1)n.push(e[i]);return new t(n)}},{key:"dispatchEvent",value:function(t,e){var n=this.handlers.length-1;if(e){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](t));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(t)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(e){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var a=this.handlers[i];-1===e.indexOf(a)&&n.push(a)}return new t(n)}}]),t}();function p(t){var e=new Map;return t.forEach((function(t,n){e.set(n,t)})),e}function v(t){return Array.isArray(t)?t:[t]}var m=function(t){return null!==t&&"object"===a(t)&&t.hasOwnProperty("current")};function y(t){return"document"===t?document:"window"===t?window:m(t)?t.current||document:t||document}var g=function(){function t(e,n){o(this,t),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=e}return u(t,[{key:"addHandlers",value:function(e,n){var r=p(this.handlerSets);if(r.has(e)){var i=r.get(e);r.set(e,i.addHandlers(n))}else r.set(e,new d(n));return new t(this.poolName,r)}},{key:"dispatchEvent",value:function(t,e){var n=this.handlerSets.get(t),r="default"===this.poolName;n&&n.dispatchEvent(e,r)}},{key:"hasHandlers",value:function(){return this.handlerSets.size>0}},{key:"removeHandlers",value:function(e,n){var r=p(this.handlerSets);if(!r.has(e))return new t(this.poolName,r);var i=r.get(e).removeHandlers(n);return i.hasHandlers()?r.set(e,i):r.delete(e),new t(this.poolName,r)}}]),t}();c(g,"createByType",(function(t,e,n){var r=new Map;return r.set(e,new d(n)),new g(t,r)}));var b=function(){function t(e){var n=this;o(this,t),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(t){return function(e){n.pools.forEach((function(n){n.dispatchEvent(t,e)}))}})),this.target=e}return u(t,[{key:"addHandlers",value:function(t,e,n){if(this.pools.has(t)){var r=this.pools.get(t);this.pools.set(t,r.addHandlers(e,n))}else this.pools.set(t,g.createByType(t,e,n));this.handlers.has(e)||this.addTargetHandler(e)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(t,e,n){if(this.pools.has(t)){var r=this.pools.get(t).removeHandlers(e,n);r.hasHandlers()?this.pools.set(t,r):this.pools.delete(t),0===this.pools.size&&this.removeTargetHandler(e)}}},{key:"addTargetHandler",value:function(t){var e=this.createEmitter(t);this.handlers.set(t,e),this.target.addEventListener(t,e,!0)}},{key:"removeTargetHandler",value:function(t){this.handlers.has(t)&&(this.target.removeEventListener(t,this.handlers.get(t),!0),this.handlers.delete(t))}}]),t}(),w=new(function(){function t(){var e=this;o(this,t),c(this,"targets",new Map),c(this,"getTarget",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=y(t);if(e.targets.has(r))return e.targets.get(r);if(!n)return null;var i=new b(r);return e.targets.set(r,i),i})),c(this,"removeTarget",(function(t){e.targets.delete(y(t))}))}return u(t,[{key:"sub",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,s=void 0===o?"default":o;this.getTarget(a).addHandlers(s,t,v(e))}}},{key:"unsub",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,s=void 0===o?"default":o,u=this.getTarget(a,!1);u&&(u.removeHandlers(s,t,v(e)),u.hasHandlers()||this.removeTarget(a))}}}]),t}()),E=function(t){function e(){return o(this,e),h(this,f(e).apply(this,arguments))}return l(e,i.PureComponent),u(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(t){this.unsubscribe(t),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(t){var e=t.name,n=t.on,r=t.pool,i=t.target;w.sub(e,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(t){var e=t.name,n=t.on,r=t.pool,i=t.target;w.unsub(e,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),e}();c(E,"defaultProps",{pool:"default",target:"document"}),E.propTypes={},e.instance=w,e.default=E},function(t,e,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}()},function(t,e){var n=Math.max,r=Math.min;t.exports=function(t,e,i){return t>=r(e,i)&&t<n(e,i)}},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e,n){var r=n(105),i=n(247),a=n(49),o=n(70),s=a((function(t,e){return o(t)?r(t,i(e,1,o,!0)):[]}));t.exports=s},function(t,e,n){var r=n(94),i=n(248);t.exports=function t(e,n,a,o,s){var u=-1,c=e.length;for(a||(a=i),s||(s=[]);++u<c;){var l=e[u];n>0&&a(l)?n>1?t(l,n-1,a,o,s):r(s,l):o||(s[s.length]=l)}return s}},function(t,e,n){var r=n(30),i=n(40),a=n(13),o=r?r.isConcatSpreadable:void 0;t.exports=function(t){return a(t)||i(t)||!!(o&&t&&t[o])}},function(t,e,n){var r=n(250),i=n(101),a=n(56),o=n(100);t.exports=function(t,e,n){return t=o(t),n=null==n?0:r(a(n),0,t.length),e=i(e),t.slice(n,n+e.length)==e}},function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},function(t,e,n){var r=n(95),i=n(252),a=n(32),o=n(13);t.exports=function(t,e){return(o(t)?r:i)(t,a(e,3))}},function(t,e,n){var r=n(48);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},function(t,e,n){var r=n(86),i=n(96),a=n(40),o=n(13),s=n(22),u=n(57),c=n(87),l=n(59),f="[object Map]",h="[object Set]",d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||a(t)))return!t.length;var e=i(t);if(e==f||e==h)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e,n){var r=n(24),i=n(255),a=n(49),o=n(256),s=a((function(t){var e=r(t,o);return e.length&&e[0]===t[0]?i(e):[]}));t.exports=s},function(t,e,n){var r=n(45),i=n(68),a=n(69),o=n(24),s=n(60),u=n(46),c=Math.min;t.exports=function(t,e,n){for(var l=n?a:i,f=t[0].length,h=t.length,d=h,p=Array(h),v=1/0,m=[];d--;){var y=t[d];d&&e&&(y=o(y,s(e))),v=c(y.length,v),p[d]=!n&&(e||f>=120&&y.length>=120)?new r(d&&y):void 0}y=t[0];var g=-1,b=p[0];t:for(;++g<f&&m.length<v;){var w=y[g],E=e?e(w):w;if(w=n||0!==w?w:0,!(b?u(b,E):l(m,E,n))){for(d=h;--d;){var _=p[d];if(!(_?u(_,E):l(t[d],E,n)))continue t}b&&b.push(E),m.push(w)}}return m}},function(t,e,n){var r=n(70);t.exports=function(t){return r(t)?t:[]}},function(t,e,n){var r=n(258),i=n(102);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){t.exports=n(73)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n(0),a=(r=n(261))&&r.__esModule?r:{default:r};var o=(0,i.memo)(a.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=l(n(5)),a=l(n(106)),o=n(34),s=n(107),u=l(n(108)),c=l(n(269));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(t){var e=t.value,n=t.language,i=t.editorDidMount,l=t.theme,f=t.line,d=t.width,v=t.height,m=t.loading,y=t.options,g=p((0,r.useState)(!1),2),b=g[0],w=g[1],E=p((0,r.useState)(!0),2),_=E[0],T=E[1],x=(0,r.useRef)(),S=(0,r.useRef)(),A=(0,r.useRef)();(0,s.useMount)((function(t){return o.monaco.init().then((function(t){return(S.current=t)&&T(!1)})).catch((function(t){return console.error("An error occurred during initialization of Monaco: ",t)})),C})),(0,s.useUpdate)((function(t){y.readOnly?x.current.setValue(e):(x.current.executeEdits("",[{range:x.current.getModel().getFullModelRange(),text:e}]),x.current.pushUndoStop())}),[e],b),(0,s.useUpdate)((function(t){S.current.editor.setModelLanguage(x.current.getModel(),n)}),[n],b),(0,s.useUpdate)((function(t){x.current.setScrollPosition({scrollTop:f})}),[f],b),(0,s.useUpdate)((function(t){S.current.editor.setTheme(l)}),[l],b),(0,s.useUpdate)((function(t){x.current.updateOptions(y)}),[y],b);var k=(0,r.useCallback)((function(t){x.current=S.current.editor.create(A.current,h({value:e,language:n,automaticLayout:!0},y)),i(x.current.getValue.bind(x.current),x.current),S.current.editor.defineTheme("dark",u.default["night-dark"]),S.current.editor.setTheme(l),w(!0)}),[i,n,y,l,e]);(0,r.useEffect)((function(t){!_&&!b&&k()}),[_,b,k]);var C=function(t){return x.current.dispose()};return r.default.createElement("section",{style:h({},c.default.wrapper,{width:d,height:v})},!b&&r.default.createElement(a.default,{content:m}),r.default.createElement("div",{ref:A,style:h({},c.default.fullWidth,{},!b&&c.default.hide)}))};v.propTypes={value:i.default.string,language:i.default.string,editorDidMount:i.default.func,theme:i.default.string,line:i.default.number,width:i.default.oneOfType([i.default.number,i.default.string]),height:i.default.oneOfType([i.default.number,i.default.string]),loading:i.default.oneOfType([i.default.element,i.default.string]),options:i.default.object},v.defaultProps={editorDidMount:o.noop,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{}};var m=v;e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r};var a={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var o=function(t){var e=t.content;return i.default.createElement("div",{style:a},e)};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(264))&&r.__esModule?r:{default:r},a=n(34);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=new(function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"handleMainScriptLoad",(function(t){document.removeEventListener("monaco_init",e.handleMainScriptLoad),e.resolve(window.monaco)})),s(this,"isInitialized",!1),s(this,"wrapperPromise",new Promise((function(t,n){e.resolve=t,e.reject=n}))),this.__config=n}var e,n,r;return e=t,(n=[{key:"config",value:function(t){return t&&(this.__config=(0,a.deepMerge)(this.__config,t)),this}},{key:"injectScripts",value:function(t){document.body.appendChild(t)}},{key:"createScript",value:function(t){var e=document.createElement("script");return t&&(e.src=t),e}},{key:"createMonacoLoaderScript",value:function(t){var e=this,n=this.createScript(this.__config.urls.monacoLoader);return n.onload=function(n){return e.injectScripts(t)},n.onerror=this.reject,n}},{key:"createMainScript",value:function(){var t=this.createScript();return t.innerHTML="\n      require.config({ paths: { 'vs': '".concat(this.__config.urls.monacoBase,"' } });\n      require(['vs/editor/editor.main'], function() {\n        document.dispatchEvent(new Event('monaco_init'));\n      });\n    "),t.onerror=this.reject,t}},{key:"init",value:function(){if(!this.isInitialized){if(window.monaco&&window.monaco.editor)return new Promise((function(t,e){return t(window.monaco)}));document.addEventListener("monaco_init",this.handleMainScriptLoad);var t=this.createMainScript(),e=this.createMonacoLoaderScript(t);this.injectScripts(e)}return this.isInitialized=!0,this.wrapperPromise}}])&&o(e.prototype,n),r&&o(e,r),t}())(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={urls:{monacoLoader:"https://cdn.jsdelivr.net/npm/monaco-editor@0.17.1/min/vs/loader.js",monacoBase:"https://cdn.jsdelivr.net/npm/monaco-editor@0.17.1/min/vs"}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){};e.default=r},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function t(e,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&Object.assign(n[r],t(e[r],n[r]))})),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{},n)};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=function(t){return(0,r.useEffect)(t,[])};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(0,r.useRef)(!0);(0,r.useEffect)(i.current||!n?function(t){i.current=!1}:t,e)};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n(0),a=(r=n(271))&&r.__esModule?r:{default:r};var o=(0,i.memo)(a.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=l(n(5)),a=l(n(106)),o=n(34),s=n(107),u=l(n(108)),c=l(n(272));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(t){var e=t.original,n=t.modified,i=t.language,l=t.originalLanguage,f=t.modifiedLanguage,d=t.editorDidMount,v=t.theme,m=t.line,y=t.width,g=t.height,b=t.loading,w=t.options,E=p((0,r.useState)(!1),2),_=E[0],T=E[1],x=p((0,r.useState)(!0),2),S=x[0],A=x[1],k=(0,r.useRef)(),C=(0,r.useRef)(),I=(0,r.useRef)();(0,s.useMount)((function(t){return o.monaco.init().then((function(t){return(C.current=t)&&A(!1)})).catch((function(t){return console.error("An error occurred during initialization of Monaco: ",t)})),M})),(0,s.useUpdate)((function(t){k.current.getModel().modified.setValue(n)}),[n],_),(0,s.useUpdate)((function(t){k.current.getModel().original.setValue(e)}),[e],_),(0,s.useUpdate)((function(t){var e=k.current.getModel(),n=e.original,r=e.modified;C.current.editor.setModelLanguage(n,l||i),C.current.editor.setModelLanguage(r,f||i)}),[i,l,f],_),(0,s.useUpdate)((function(t){k.current.setScrollPosition({scrollTop:m})}),[m],_),(0,s.useUpdate)((function(t){C.current.editor.setTheme(v)}),[v],_),(0,s.useUpdate)((function(t){k.current.updateOptions(w)}),[w],_);var N=(0,r.useCallback)((function(t){var r=C.current.editor.createModel(e,l||i),a=C.current.editor.createModel(n,f||i);k.current.setModel({original:r,modified:a})}),[i,n,f,e,l]),P=(0,r.useCallback)((function(t){k.current=C.current.editor.createDiffEditor(I.current,h({automaticLayout:!0},w)),N();var e=k.current.getModel(),n=e.original,r=e.modified;d(r.getValue.bind(r),n.getValue.bind(n),k.current),C.current.editor.defineTheme("dark",u.default["night-dark"]),C.current.editor.setTheme(v),T(!0)}),[d,w,v,N]);(0,r.useEffect)((function(t){!S&&!_&&P()}),[S,_,P]);var M=function(t){return k.current.dispose()};return r.default.createElement("section",{style:h({},c.default.wrapper,{width:y,height:g})},!_&&r.default.createElement(a.default,{content:b}),r.default.createElement("div",{ref:I,style:h({},c.default.fullWidth,{},!_&&c.default.hide)}))};v.propTypes={original:i.default.string,modified:i.default.string,language:i.default.string,originalLanguage:i.default.string,modifiedLanguage:i.default.string,editorDidMount:i.default.func,theme:i.default.string,line:i.default.number,width:i.default.oneOfType([i.default.number,i.default.string]),height:i.default.oneOfType([i.default.number,i.default.string]),loading:i.default.oneOfType([i.default.element,i.default.string]),options:i.default.object},v.defaultProps={editorDidMount:o.noop,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{}};var m=v;e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n(0),a=(r=n(274))&&r.__esModule?r:{default:r};var o=(0,i.memo)(a.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(0)),i=s(n(5)),a=s(n(74)),o=n(34);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var l=function(t){var e=t.value,n=t.onChange,i=t.editorDidMount,o=c(t,["value","onChange","editorDidMount"]);return r.default.createElement(a.default,u({value:e,editorDidMount:function(t,e){e.onDidChangeModelContent((function(t){var r=e.getValue(),i=n(t,r);"string"==typeof i&&r!==i&&e.setValue(i)})),i(t,e)}},o))};l.propTypes={value:i.default.string,editorDidMount:i.default.func,onChange:i.default.func},l.defaultProps={editorDidMount:o.noop,onChange:o.noop};var f=l;e.default=f},function(t,e,n){"use strict";var r=n(15),i=n(109),a=n(277),o=n(115);function s(t){var e=new a(t),n=i(a.prototype.request,e);return r.extend(n,a.prototype,e),r.extend(n,e),n}var u=s(n(112));u.Axios=a,u.create=function(t){return s(o(u.defaults,t))},u.Cancel=n(116),u.CancelToken=n(290),u.isCancel=n(111),u.all=function(t){return Promise.all(t)},u.spread=n(291),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(15),i=n(110),a=n(278),o=n(279),s=n(115);function u(t){this.defaults=t,this.interceptors={request:new a,response:new a}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var r=n(15);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(15),i=n(280),a=n(111),o=n(112),s=n(288),u=n(289);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e){var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(114);t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(15),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(r.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=r.trim(t.substr(0,a)).toLowerCase(),n=r.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},function(t,e,n){"use strict";var r=n(15);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(15);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(116);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";n.r(e);var r={};function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.r(r),n.d(r,"someByType",(function(){return Uh})),n.d(r,"findByType",(function(){return Dh})),n.d(r,"isNil",(function(){return jh}));var a=n(0),o=n.n(a),s=n(20),u=n.n(s),c=n(5),l=n.n(c),f=o.a.createContext(null);var h=function(t){t()},d=function(){return h},p=null,v={notify:function(){}};var m=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=v,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){var t,e,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(t=d(),e=[],n=[],{clear:function(){n=p,e=p},notify:function(){var r=e=n;t((function(){for(var t=0;t<r.length;t++)r[t]()}))},get:function(){return n},subscribe:function(t){var r=!0;return n===e&&(n=e.slice()),n.push(t),function(){r&&e!==p&&(r=!1,n===e&&(n=e.slice()),n.splice(n.indexOf(t),1))}}}))},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=v)},t}();function y(t){var e=t.store,n=t.context,r=t.children,i=Object(a.useMemo)((function(){var t=new m(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),s=Object(a.useMemo)((function(){return e.getState()}),[e]);Object(a.useEffect)((function(){var t=i.subscription;return t.trySubscribe(),s!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[i,s]);var u=n||f;return o.a.createElement(u.Provider,{value:i},r)}y.propTypes={store:l.a.shape({subscribe:l.a.func.isRequired,dispatch:l.a.func.isRequired,getState:l.a.func.isRequired}),context:l.a.object,children:l.a.any};var g=y;function b(){return(b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function w(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var E=n(75),_=n.n(E),T=n(21),x=n.n(T),S=n(35),A=[],k=[null,null];function C(t,e){var n=t[1];return[e.payload,n+1]}var I=function(){return[null,0]},N="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?a.useLayoutEffect:a.useEffect;function P(t,e){void 0===e&&(e={});var n=e,r=n.getDisplayName,i=void 0===r?function(t){return"ConnectAdvanced("+t+")"}:r,s=n.methodName,u=void 0===s?"connectAdvanced":s,c=n.renderCountProp,l=void 0===c?void 0:c,h=n.shouldHandleStateChanges,d=void 0===h||h,p=n.storeKey,v=void 0===p?"store":p,y=n.withRef,g=void 0!==y&&y,E=n.forwardRef,T=void 0!==E&&E,P=n.context,M=void 0===P?f:P,R=w(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);x()(void 0===l,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),x()(!g,"withRef is removed. To access the wrapped instance, use a ref on the connected component");x()("store"===v,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var O=M;return function(e){var n=e.displayName||e.name||"Component",r=i(n),s=b({},R,{getDisplayName:i,methodName:u,renderCountProp:l,shouldHandleStateChanges:d,storeKey:v,displayName:r,wrappedComponentName:n,WrappedComponent:e}),c=R.pure;var f=c?a.useMemo:function(t){return t()};function h(n){var i=Object(a.useMemo)((function(){var t=n.forwardedRef,e=w(n,["forwardedRef"]);return[n.context,t,e]}),[n]),u=i[0],c=i[1],l=i[2],h=Object(a.useMemo)((function(){return u&&u.Consumer&&Object(S.isContextConsumer)(o.a.createElement(u.Consumer,null))?u:O}),[u,O]),p=Object(a.useContext)(h),v=Boolean(n.store),y=Boolean(p)&&Boolean(p.store);x()(v||y,'Could not find "store" in the context of "'+r+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+r+" in connect options.");var g=n.store||p.store,E=Object(a.useMemo)((function(){return function(e){return t(e.dispatch,s)}(g)}),[g]),_=Object(a.useMemo)((function(){if(!d)return k;var t=new m(g,v?null:p.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]}),[g,v,p]),T=_[0],P=_[1],M=Object(a.useMemo)((function(){return v?p:b({},p,{subscription:T})}),[v,p,T]),R=Object(a.useReducer)(C,A,I),L=R[0][0],U=R[1];if(L&&L.error)throw L.error;var D=Object(a.useRef)(),j=Object(a.useRef)(l),F=Object(a.useRef)(),B=Object(a.useRef)(!1),z=f((function(){return F.current&&l===j.current?F.current:E(g.getState(),l)}),[g,L,l]);N((function(){j.current=l,D.current=z,B.current=!1,F.current&&(F.current=null,P())})),N((function(){if(d){var t=!1,e=null,n=function(){if(!t){var n,r,i=g.getState();try{n=E(i,j.current)}catch(t){r=t,e=t}r||(e=null),n===D.current?B.current||P():(D.current=n,F.current=n,B.current=!0,U({type:"STORE_UPDATED",payload:{latestStoreState:i,error:r}}))}};T.onStateChange=n,T.trySubscribe(),n();return function(){if(t=!0,T.tryUnsubscribe(),T.onStateChange=null,e)throw e}}}),[g,T,E]);var G=Object(a.useMemo)((function(){return o.a.createElement(e,b({},z,{ref:c}))}),[c,e,z]);return Object(a.useMemo)((function(){return d?o.a.createElement(h.Provider,{value:M},G):G}),[h,G,M])}var p=c?o.a.memo(h):h;if(p.WrappedComponent=e,p.displayName=r,T){var y=o.a.forwardRef((function(t,e){return o.a.createElement(p,b({},t,{forwardedRef:e}))}));return y.displayName=r,y.WrappedComponent=e,_()(y,e)}return _()(p,e)}}var M=Object.prototype.hasOwnProperty;function R(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function O(t,e){if(R(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!M.call(e,n[i])||!R(t[n[i]],e[n[i]]))return!1;return!0}var L=n(76),U=function(){return Math.random().toString(36).substring(7).split("").join(".")},D={INIT:"@@redux/INIT"+U(),REPLACE:"@@redux/REPLACE"+U(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+U()}};function j(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function F(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(F)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,a=e,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return c(),s.push(t),function(){if(e){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,c();var n=s.indexOf(t);s.splice(n,1)}}}function h(t){if(!j(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=i(a,t)}finally{u=!1}for(var e=o=s,n=0;n<e.length;n++){(0,e[n])()}return t}return h({type:D.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,h({type:D.REPLACE})}})[L.a]=function(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[L.a]=function(){return this},t},r}function B(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function z(t,e){return function(){return e(t.apply(this,arguments))}}function G(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function V(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function K(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=V(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=V(i),i=r(e,n)),i},r}}var H=[function(t){return"function"==typeof t?K(t):void 0},function(t){return t?void 0:G((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?G((function(e){return function(t,e){if("function"==typeof t)return z(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var i=t[r];"function"==typeof i&&(n[r]=z(i,e))}return n}(t,e)})):void 0}];var q=[function(t){return"function"==typeof t?K(t):void 0},function(t){return t?void 0:G((function(){return{}}))}];function W(t,e,n){return b({},n,{},t,{},e)}var X=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(e,n,s){var u=t(e,n,s);return o?i&&a(u,r)||(r=u):(o=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return W}}];function Y(t,e,n,r){return function(i,a){return n(t(i,a),e(r,a),a)}}function $(t,e,n,r,i){var a,o,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p,v,m=!f(d,o),y=!l(i,a);return a=i,o=d,m&&y?(s=t(a,o),e.dependsOnOwnProps&&(u=e(r,o)),c=n(s,u,o)):m?(t.dependsOnOwnProps&&(s=t(a,o)),e.dependsOnOwnProps&&(u=e(r,o)),c=n(s,u,o)):y?(p=t(a,o),v=!h(p,s),s=p,v&&(c=n(s,u,o)),c):c}return function(i,l){return d?p(i,l):(s=t(a=i,o=l),u=e(r,o),c=n(s,u,o),d=!0,c)}}function Z(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,a=w(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(t,a),s=r(t,a),u=i(t,a);return(a.pure?$:Y)(o,s,u,t,a)}function J(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Q(t,e){return t===e}var tt,et,nt,rt,it,at,ot,st,ut,ct,lt,ft,ht=(nt=(et=void 0===tt?{}:tt).connectHOC,rt=void 0===nt?P:nt,it=et.mapStateToPropsFactories,at=void 0===it?q:it,ot=et.mapDispatchToPropsFactories,st=void 0===ot?H:ot,ut=et.mergePropsFactories,ct=void 0===ut?X:ut,lt=et.selectorFactory,ft=void 0===lt?Z:lt,function(t,e,n,r){void 0===r&&(r={});var i=r,a=i.pure,o=void 0===a||a,s=i.areStatesEqual,u=void 0===s?Q:s,c=i.areOwnPropsEqual,l=void 0===c?O:c,f=i.areStatePropsEqual,h=void 0===f?O:f,d=i.areMergedPropsEqual,p=void 0===d?O:d,v=w(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),m=J(t,at,"mapStateToProps"),y=J(e,st,"mapDispatchToProps"),g=J(n,ct,"mergeProps");return rt(ft,b({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:m,initMapDispatchToProps:y,initMergeProps:g,pure:o,areStatesEqual:u,areOwnPropsEqual:l,areStatePropsEqual:h,areMergedPropsEqual:p},v))});function dt(){var t=Object(a.useContext)(f);return x()(t,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),t}function pt(t){void 0===t&&(t=f);var e=t===f?dt:function(){return Object(a.useContext)(t)};return function(){return e().store}}var vt=pt();!function(t){void 0===t&&(t=f);var e=t===f?vt:pt(t)}();var mt="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,yt=function(t,e){return t===e};var gt;!function(t){void 0===t&&(t=f);var e=t===f?dt:function(){return Object(a.useContext)(t)}}();gt=s.unstable_batchedUpdates,h=gt;n(138);function bt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e,n){return e&&Et(t.prototype,e),n&&Et(t,n),t}function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t){return(xt="function"==typeof Symbol&&"symbol"===Tt(Symbol.iterator)?function(t){return Tt(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Tt(t)})(t)}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?St(t):e}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function It(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}function Nt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Pt=n(37);window.params={};var Mt={mobile:{type:"boolean",default:/Mobile|webOS|iPhone|iPod|iOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},editor:{type:"boolean",default:!1},node:{type:"string",default:null}};function Rt(){var t=window.location.hash.replace(/^#/,""),e={},n={};return Object(Pt.map)(t.split("&"),(function(t){var n=Nt(t.split("="),2),r=n[0],i=n[1];r&&r in Mt?e[r]=decodeURIComponent(i):r&&console.warn("Unknown parameter: ".concat(t,"."))})),Object(Pt.each)(Mt,(function(t,r){n[r]=r in e?function(t,e,n){var r=Number.isNaN;switch(t.type){case"boolean":return!("true"!==n)||"false"!==n&&(console.warn("Invalid value for param ".concat(e,", value: ").concat(n,", type=boolean")),t.default);case"int":try{var i=+n;return r(i)?(console.warn("Invalid value for param ".concat(e,", value: ").concat(n,", type=int")),t.default):i}catch(r){return console.warn("Invalid value for param ".concat(e,", value: ").concat(n,", type=int")),t.default}default:case"string":return n||t.default}}(t,r,e[r]):t.default,window.params[r]=n[r]})),n}var Ot=n(3),Lt=n.n(Ot);function Ut(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ft(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?jt(e,!0).forEach((function(n){Dt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):jt(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var Bt="ui/editor/init-store",zt="ui/editor/save-transform",Gt="ui/editor/save-all",Vt="ui/editor/select",Kt="ui/editor/add-node",Ht="ui/editor/remove-node",qt="ui/editor/update-node",Wt=function(t){return{type:Vt,payload:{node:t}}},Xt=function(t,e){return{type:qt,payload:{id:t,node:e}}},Yt=n(77),$t=n.n(Yt),Zt=(n(143),function(t){function e(t){var n;return wt(this,e),(n=At(this,kt(e).call(this,t))).state={context:null,subtitles:null},n.videoRef=o.a.createRef(),n.subtitlesRef=o.a.createRef(),n.handleOnEnded=n.handleOnEnded.bind(St(n),null),n.initVideoControlsUI=n.initVideoControlsUI.bind(St(n),null),n}return It(e,t),_t(e,[{key:"componentDidMount",value:function(){this.props.streaming&&($t.a.polyfill.installAll(),this.player=new $t.a.Player(this.videoRef.current),this.player.configure("preferredAudioLanguage","fr"),this.player.configure("preferredTextLanguage","en"),this.player.configure("preferredLanguage","en"),this.player.load("dash/".concat(this.props.node.path,"/"))),this.videoRef.current.addEventListener("ended",this.handleOnEnded)}},{key:"initVideoControlsUI",value:function(){this.videoRef.current.ui.configure({overflowMenuButtons:["captions","language","quality"]})}},{key:"componentDidUpdate",value:function(t){this.props.streaming&&this.props.node.path!==t.node.path&&this.player.load("dash/".concat(this.props.node.path,"/"))}},{key:"componentWillUnmount",value:function(){this.props.streaming&&(delete this.player,document.removeEventListener("shaka-ui-loaded",this.initVideoControlsUI)),this.videoRef.current.removeEventListener("ended",this.handleOnEnded)}},{key:"getCanvasImage",value:function(){var t=document.createElement("canvas");return t.width=600,t.height=240,t.getContext("2d").drawImage(this.videoRef.current,0,0,t.width,t.height),t.width=100,t.height=40,t.toDataURL()}},{key:"handleOnEnded",value:function(){this.props.onEnded&&this.props.onEnded()}},{key:"togglePlay",value:function(){return this.videoRef.current.paused?this.videoRef.current.play():this.videoRef.current.pause(),!this.videoRef.current.paused}},{key:"seek",value:function(t){this.videoRef.current.currentTime=t}},{key:"drawVideoFrame",value:function(){var t=this;if(this.state.context){var e=this.videoRef.current,n=this.props,r=n.width,i=n.height,a=e.textTracks;if(this.state.context&&a&&0<a.length){var o=a[0].activeCues,s=function(){t.state.context.fillStyle="#000",t.state.context.fillRect(0,i-130,r,110)};if(this.state.subtitles||s(),o&&0<o.length){var u=o[0].text;this.state.subtitles!==u&&(this.setState({subtitles:u}),s(),this.state.context.textAlign="center",this.state.context.fillStyle="#ffffff",this.state.context.font="14px monospace",this.state.context.fillText(u,r/2,i-110))}else this.setState({subtitles:null})}}return!1}},{key:"render",value:function(){var t=this.props,e=t.node,n=t.onClick,r=t.onDoubleClick,a=(t.editor,t.streaming),s=bt(t,["node","onClick","onDoubleClick","editor","streaming"]);return o.a.createElement("div",{className:"video-preview-container"},o.a.createElement("video",i({ref:this.videoRef,style:{zIndex:"0"},onClick:n,onDoubleClick:r},s),!a&&o.a.createElement("source",{src:"mp4/".concat(e.path)})))}}]),e}(o.a.Component)),Jt=function(t){function e(t){var n;return wt(this,e),(n=At(this,kt(e).call(this,t))).state={},n.videoRef=o.a.createRef(),n}return It(e,t),_t(e,[{key:"togglePlay",value:function(){return this.videoRef.current.paused?this.videoRef.current.play():this.videoRef.current.pause(),!this.videoRef.current.paused}},{key:"seek",value:function(t){this.videoRef.current.currentTime=t}},{key:"render",value:function(){var t=this.props,e=t.children,n=bt(t,["children"]);return o.a.createElement("div",{className:"video-preview-container"},o.a.createElement("video",i({ref:this.videoRef},n),e))}}]),e}(o.a.Component),Qt=null,te=Date.now(),ee=null;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)};var ne=function(t){function e(t){var n;return wt(this,e),(n=At(this,kt(e).call(this,t))).state={game:{},script:null,width:n.props.width,height:n.props.height,rwh:1,rhw:1,areaWidth:n.props.width,areaHeight:n.props.height},n.player=null,n.gameRef=o.a.createRef(),n.drawVideoFrame=n.drawVideoFrame.bind(St(n),null),n.handleResize=n.handleResize.bind(St(n),null),n}return It(e,t),_t(e,[{key:"setNodeScriptObject",value:function(){var t=null;return this.props.node&&void 0!==this.props.node.script&&(t=Function('"use strict"; '+this.props.node.script)(),this.setState({script:t})),t}},{key:"componentDidMount",value:function(){var t=this;window.addEventListener("resize",this.handleResize);var e=function(){try{t.frameId=window.requestAnimationFrame(e),Qt=Date.now(),(ee=Qt-te)>1e3/60&&(te=Qt-ee%(1e3/60)),t.drawVideoFrame(Qt,ee)&&window.cancelAnimationFrame(t.frameId)}catch(e){window.cancelAnimationFrame(t.frameId)}};e(),this.props.node&&"navigation"===this.props.node.type&&void 0!==this.props.node.seek&&this.player.seek(this.props.node.seek);var n=this.setNodeScriptObject();n&&n.onMount&&n.onMount({gameflag:{}}),this.handleResize()}},{key:"componentWillUmount",value:function(){this.state.script&&this.state.script.onMount&&this.state.script.onUmount(),window.cancelAnimationFrame(this.frameId),window.removeEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(t){if(t.node&&this.props.node){if(t.node.id!==this.props.node.id){this.setState({script:null});var e=this.setNodeScriptObject();e&&e.onMount&&e.onMount({gameflag:{}})}t.node.id!==this.props.node.id&&"navigation"===this.props.node.type&&void 0!==this.props.node.seek&&this.player.seek(this.props.node.seek)}}},{key:"handleResize",value:function(){if(!this.props.keepSize){var t=this.gameRef.current.getBoundingClientRect(),e=0,n=0,r=this.props.width,i=this.props.height-(this.props.editor?40:0),a=t.width,o=t.height,s=r/i;o*s<a?(n=o,e=o*s):(n=a*(i/r),e=a),this.setState({width:e,height:n,rwh:r/e,rhw:i/n,areaWidth:a,areaHeight:o})}}},{key:"drawVideoFrame",value:function(t,e){return this.player.drawVideoFrame(t,e)}},{key:"setNode",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=this.props.nodes.find((function(e){return e.id===t}));this.props.setNodeProperties(e)}else this.linkNode()}},{key:"linkNode",value:function(){var t=this.props,e=t.links,n=t.node,r=t.nodes,i=t.setNodeProperties,a=e.find((function(t){return Array.isArray(t.source)?t.source.includes(n.id):t.source===n.id}));if(a){var o=r.find((function(t){return t.id===a.target}));o&&(this.state.script&&this.state.script.onMount&&this.state.script.onUmount(),i(o))}}},{key:"handleDecisionOnClick",value:function(t){this.setNode(t.option)}},{key:"handleHotspotsOnClick",value:function(t){this.setNode(t.option)}},{key:"handleOnClick",value:function(){void 0===this.props.node.seek&&this.player.togglePlay()}},{key:"handleOnDoubleClick",value:function(){this.setNode()}},{key:"handleOnEnded",value:function(){var t=this;if(this.state.script&&this.state.script.onEnded){var e={game:this.state.game,setNode:function(e){return t.setNode(e)}};this.state.script.onEnded(e)}else this.setNode()}},{key:"handleLoadedData",value:function(){}},{key:"render",value:function(){var t=this,e=this.props,n=e.width,r=e.height,i=e.ready,a=e.node,s=e.keepSize,u=e.videoWidth,c=e.videoHeight,l=e.editor,f=e.Location,h=e.Decision,d=e.Hotspots,p=Lt()({"screen-video":!(a&&a.annotations&&a.annotations.keepRatio),"screen-video-intro":a&&a.annotations&&a.annotations.keepRatio,"screen-video-ingame":!(a&&a.annotations&&a.annotations.isIntro)}),v={zIndex:"0",width:s?"".concat(n,"px"):"100%",height:s?"".concat(r,"px"):"100%"};return i&&o.a.createElement("div",{ref:this.gameRef,className:"screen-container",style:v},a&&o.a.createElement(Zt,{ref:function(e){t.player=e},key:"player-".concat(a.id),node:a,width:this.state.width,height:this.state.height,rwh:this.state.rwh,rhw:this.state.rhw,autoPlay:"navigation"!==a.type,loop:"video"!==a.type,className:p,onEnded:function(){return t.handleOnEnded()},onClick:function(){return t.handleOnClick()},onDoubleClick:function(){return t.handleOnDoubleClick()},onPlaying:function(){return t.handleLoadedData()},editor:l,streaming:a.streaming}),a&&a.annotations&&a.annotations.locationDesc&&o.a.createElement(f,{locationDesc:a.annotations.locationDesc,rwh:this.state.rwh,rhw:this.state.rhw}),a&&a.annotations&&a.annotations.hotspots&&o.a.createElement(d,{items:a.annotations.hotspots,onClick:function(e){return t.handleHotspotsOnClick(e)},editor:l,width:this.state.width,height:this.state.height,videoWidth:u,videoHeight:c,rwh:this.state.rwh,rhw:this.state.rhw,areaWidth:this.state.areaWidth,areaHeight:this.state.areaHeight}),a&&"decision"===a.type&&o.a.createElement(h,{items:a.items,onClick:function(e){return t.handleDecisionOnClick(e)},timeout:a.timeout,defaultDecision:a.default,rwh:this.state.rwh,rhw:this.state.rhw,Video:Jt}))}}]),e}(o.a.Component),re=ht((function(t){return{ready:t.editor.ready,node:t.editor.node,nodes:t.editor.nodes,links:t.editor.links}}),(function(t){return{setNodeProperties:function(e){return t(Wt(e))},updateNode:function(e,n){return t(Xt(e,n))}}}))(ne),ie=function(t){var e=t.children,n=t.loading,r=t.active,i=t.alwaysRendered;return(r||i)&&o.a.createElement("div",{className:"layout-border ui tab basic segment".concat(r?" active":"").concat(n?" loading":""),style:{height:"100%",margin:"0",padding:"0"}},e)};ie.defaultProps={loading:!1,active:!1,alwaysRendered:!1};var ae=ie,oe=function(t){function e(t){var n;wt(this,e),n=At(this,kt(e).call(this,t));var r=(Array.isArray(n.props.children)?n.props.children:[n.props.children]).indexOf((function(t){return!0===t.active}));return n.state={selectedTabIndex:-1===r?t.selectedTabIndex?t.selectedTabIndex:0:r},n}return It(e,t),_t(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.type,r=e.alwaysRendered,i=e.size,a=[],s=o.a.Children.map(this.props.children,(function(e,n){var i=t.state.selectedTabIndex===n;return a.push({label:e.props.label,icon:e.props.icon,flag:e.props.flag,header:e.props.header,alwaysRendered:r,active:i}),o.a.cloneElement(e,{active:i,alwaysRendered:r})})),u=0<a.length&&o.a.createElement("div",{className:"ui attached ".concat(n," menu ").concat(i," inverted")},a.map((function(e,n){return e.header?o.a.createElement("div",{key:e.label,className:"header item"},e.label):o.a.createElement("a",{key:e.label,className:"item".concat(e.active?" active":""),onClick:function(){t.setState({selectedTabIndex:n})},"aria-label":"Tab ".concat(e.label)},e.flag&&o.a.createElement("i",{className:"".concat(e.flag," flag")}),e.icon&&o.a.createElement("i",{className:"".concat(e.icon," icon")}),e.label)})));return o.a.createElement(o.a.Fragment,null,u,s)}}]),e}(o.a.Component);oe.defaultProps={children:void 0,selectedTabIndex:void 0,alwaysRendered:!1,size:"mini",type:"secondary"};var se=oe,ue=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},ce=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return ue(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}};var le=ce(ue);le.right,le.left;var fe=Array.prototype;fe.slice,fe.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var he=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n};Array.prototype.slice;var de={value:function(){}};function pe(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new ve(r)}function ve(t){this._=t}function me(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ye(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ge(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=de,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ve.prototype=pe.prototype={constructor:ve,on:function(t,e){var n,r=this._,i=me(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=ge(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ge(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=ye(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ve(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var be=pe,we="http://www.w3.org/1999/xhtml",Ee={svg:"http://www.w3.org/2000/svg",xhtml:we,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_e=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ee.hasOwnProperty(e)?{space:Ee[e],local:t}:t};function Te(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===we&&e.documentElement.namespaceURI===we?e.createElement(t):e.createElementNS(n,t)}}function xe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Se=function(t){var e=_e(t);return(e.local?xe:Te)(e)};function Ae(){}var ke=function(t){return null==t?Ae:function(){return this.querySelector(t)}};function Ce(){return[]}var Ie=function(t){return null==t?Ce:function(){return this.querySelectorAll(t)}},Ne=function(t){return function(){return this.matches(t)}},Pe=function(t){return new Array(t.length)};function Me(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Me.prototype={constructor:Me,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Re="$";function Oe(t,e,n,r,i,a){for(var o,s=0,u=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Me(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function Le(t,e,n,r,i,a,o){var s,u,c,l={},f=e.length,h=a.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=Re+o.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<h;++s)(u=l[c=Re+o.call(t,a[s],s,a)])?(r[s]=u,u.__data__=a[s],l[c]=null):n[s]=new Me(t,a[s]);for(s=0;s<f;++s)(u=e[s])&&l[d[s]]===u&&(i[s]=u)}function Ue(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function De(t){return function(){this.removeAttribute(t)}}function je(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fe(t,e){return function(){this.setAttribute(t,e)}}function Be(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ze(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Ge(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Ve=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Ke(t){return function(){this.style.removeProperty(t)}}function He(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qe(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function We(t,e){return t.style.getPropertyValue(e)||Ve(t).getComputedStyle(t,null).getPropertyValue(e)}function Xe(t){return function(){delete this[t]}}function Ye(t,e){return function(){this[t]=e}}function $e(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ze(t){return t.trim().split(/^|\s+/)}function Je(t){return t.classList||new Qe(t)}function Qe(t){this._node=t,this._names=Ze(t.getAttribute("class")||"")}function tn(t,e){for(var n=Je(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function en(t,e){for(var n=Je(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function nn(t){return function(){tn(this,t)}}function rn(t){return function(){en(this,t)}}function an(t,e){return function(){(e.apply(this,arguments)?tn:en)(this,t)}}Qe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function on(){this.textContent=""}function sn(t){return function(){this.textContent=t}}function un(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function cn(){this.innerHTML=""}function ln(t){return function(){this.innerHTML=t}}function fn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function hn(){this.nextSibling&&this.parentNode.appendChild(this)}function dn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pn(){return null}function vn(){var t=this.parentNode;t&&t.removeChild(this)}function mn(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function yn(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var gn={},bn=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(gn={mouseenter:"mouseover",mouseleave:"mouseout"}));function wn(t,e,n){return t=En(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function En(t,e,n){return function(r){var i=bn;bn=r;try{t.call(this,this.__data__,e,n)}finally{bn=i}}}function _n(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Tn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function xn(t,e,n){var r=gn.hasOwnProperty(t.type)?wn:En;return function(i,a,o){var s,u=this.__on,c=r(e,a,o);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function Sn(t,e,n,r){var i=bn;t.sourceEvent=bn,bn=t;try{return e.apply(n,r)}finally{bn=i}}function An(t,e,n){var r=Ve(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function kn(t,e){return function(){return An(this,t,e)}}function Cn(t,e){return function(){return An(this,t,e.apply(this,arguments))}}var In=[null];function Nn(t,e){this._groups=t,this._parents=e}function Pn(){return new Nn([[document.documentElement]],In)}Nn.prototype=Pn.prototype={constructor:Nn,select:function(t){"function"!=typeof t&&(t=ke(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(o=t.call(a,a.__data__,l,s))&&("__data__"in a&&(o.__data__=a.__data__),c[l]=o);return new Nn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Ie(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,c=0;c<u;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new Nn(r,i)},filter:function(t){"function"!=typeof t&&(t=Ne(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new Nn(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each((function(t){p[++l]=t})),p;var n,r=e?Le:Oe,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),c=new Array(o),l=0;l<o;++l){var f=i[l],h=a[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),v=p.length,m=u[l]=new Array(v),y=s[l]=new Array(v);r(f,h,m,y,c[l]=new Array(d),p,e);for(var g,b,w=0,E=0;w<v;++w)if(g=m[w]){for(w>=E&&(E=w+1);!(b=y[E])&&++E<v;);g._next=b||null}}return(s=new Nn(s,i))._enter=u,s._exit=c,s},enter:function(){return new Nn(this._enter||this._groups.map(Pe),this._parents)},exit:function(){return new Nn(this._exit||this._groups.map(Pe),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],l=n[s],f=c.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new Nn(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ue);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,c=i[a]=new Array(u),l=0;l<u;++l)(o=s[l])&&(c[l]=o);c.sort(e)}return new Nn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=_e(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?je:De:"function"==typeof e?n.local?Ge:ze:n.local?Be:Fe)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Ke:"function"==typeof e?qe:He)(t,e,null==n?"":n)):We(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Xe:"function"==typeof e?$e:Ye)(t,e)):this.node()[t]},classed:function(t,e){var n=Ze(t+"");if(arguments.length<2){for(var r=Je(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?an:e?nn:rn)(n,e))},text:function(t){return arguments.length?this.each(null==t?on:("function"==typeof t?un:sn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?cn:("function"==typeof t?fn:ln)(t)):this.node().innerHTML},raise:function(){return this.each(hn)},lower:function(){return this.each(dn)},append:function(t){var e="function"==typeof t?t:Se(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Se(t),r=null==e?pn:"function"==typeof e?e:ke(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(vn)},clone:function(t){return this.select(t?yn:mn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=_n(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?xn:Tn,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Cn:kn)(t,e))}};var Mn=Pn,Rn=function(t){return"string"==typeof t?new Nn([[document.querySelector(t)]],[document.documentElement]):new Nn([[t]],In)},On=0;function Ln(){this._="@"+(++On).toString(36)}Ln.prototype=function(){return new Ln}.prototype={constructor:Ln,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Un=function(){for(var t,e=bn;t=e.sourceEvent;)e=t;return e},Dn=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},jn=function(t){var e=Un();return e.changedTouches&&(e=e.changedTouches[0]),Dn(t,e)},Fn=function(t,e,n){arguments.length<3&&(n=e,e=Un().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return Dn(t,r);return null};function Bn(){bn.stopImmediatePropagation()}var zn=function(){bn.preventDefault(),bn.stopImmediatePropagation()},Gn=function(t){var e=t.document.documentElement,n=Rn(t).on("dragstart.drag",zn,!0);"onselectstart"in e?n.on("selectstart.drag",zn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Vn(t,e){var n=t.document.documentElement,r=Rn(t).on("dragstart.drag",null);e&&(r.on("click.drag",zn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Kn=function(t){return function(){return t}};function Hn(t,e,n,r,i,a,o,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=u,this._=c}function qn(){return!bn.ctrlKey&&!bn.button}function Wn(){return this.parentNode}function Xn(t){return null==t?{x:bn.x,y:bn.y}:t}function Yn(){return navigator.maxTouchPoints||"ontouchstart"in this}Hn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var $n=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Zn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jn(){}var Qn="\\s*([+-]?\\d+)\\s*",tr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",er="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nr=/^#([0-9a-f]{3})$/,rr=/^#([0-9a-f]{6})$/,ir=new RegExp("^rgb\\("+[Qn,Qn,Qn]+"\\)$"),ar=new RegExp("^rgb\\("+[er,er,er]+"\\)$"),or=new RegExp("^rgba\\("+[Qn,Qn,Qn,tr]+"\\)$"),sr=new RegExp("^rgba\\("+[er,er,er,tr]+"\\)$"),ur=new RegExp("^hsl\\("+[tr,er,er]+"\\)$"),cr=new RegExp("^hsla\\("+[tr,er,er,tr]+"\\)$"),lr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fr(){return this.rgb().formatHex()}function hr(){return this.rgb().formatRgb()}function dr(t){var e;return t=(t+"").trim().toLowerCase(),(e=nr.exec(t))?new gr((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=rr.exec(t))?pr(parseInt(e[1],16)):(e=ir.exec(t))?new gr(e[1],e[2],e[3],1):(e=ar.exec(t))?new gr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=or.exec(t))?vr(e[1],e[2],e[3],e[4]):(e=sr.exec(t))?vr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ur.exec(t))?_r(e[1],e[2]/100,e[3]/100,1):(e=cr.exec(t))?_r(e[1],e[2]/100,e[3]/100,e[4]):lr.hasOwnProperty(t)?pr(lr[t]):"transparent"===t?new gr(NaN,NaN,NaN,0):null}function pr(t){return new gr(t>>16&255,t>>8&255,255&t,1)}function vr(t,e,n,r){return r<=0&&(t=e=n=NaN),new gr(t,e,n,r)}function mr(t){return t instanceof Jn||(t=dr(t)),t?new gr((t=t.rgb()).r,t.g,t.b,t.opacity):new gr}function yr(t,e,n,r){return 1===arguments.length?mr(t):new gr(t,e,n,null==r?1:r)}function gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function br(){return"#"+Er(this.r)+Er(this.g)+Er(this.b)}function wr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Er(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function _r(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sr(t,e,n,r)}function Tr(t){if(t instanceof Sr)return new Sr(t.h,t.s,t.l,t.opacity);if(t instanceof Jn||(t=dr(t)),!t)return new Sr;if(t instanceof Sr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new Sr(o,s,u,t.opacity)}function xr(t,e,n,r){return 1===arguments.length?Tr(t):new Sr(t,e,n,null==r?1:r)}function Sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ar(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}$n(Jn,dr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:fr,formatHex:fr,formatHsl:function(){return Tr(this).formatHsl()},formatRgb:hr,toString:hr}),$n(gr,yr,Zn(Jn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:br,formatHex:br,formatRgb:wr,toString:wr})),$n(Sr,xr,Zn(Jn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Sr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Sr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gr(Ar(t>=240?t-240:t+120,i,r),Ar(t,i,r),Ar(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var kr=Math.PI/180,Cr=180/Math.PI,Ir=.96422,Nr=1,Pr=.82521,Mr=4/29,Rr=6/29,Or=3*Rr*Rr,Lr=Rr*Rr*Rr;function Ur(t){if(t instanceof jr)return new jr(t.l,t.a,t.b,t.opacity);if(t instanceof Hr)return qr(t);t instanceof gr||(t=mr(t));var e,n,r=Gr(t.r),i=Gr(t.g),a=Gr(t.b),o=Fr((.2225045*r+.7168786*i+.0606169*a)/Nr);return r===i&&i===a?e=n=o:(e=Fr((.4360747*r+.3850649*i+.1430804*a)/Ir),n=Fr((.0139322*r+.0971045*i+.7141733*a)/Pr)),new jr(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Dr(t,e,n,r){return 1===arguments.length?Ur(t):new jr(t,e,n,null==r?1:r)}function jr(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Fr(t){return t>Lr?Math.pow(t,1/3):t/Or+Mr}function Br(t){return t>Rr?t*t*t:Or*(t-Mr)}function zr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Gr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Vr(t){if(t instanceof Hr)return new Hr(t.h,t.c,t.l,t.opacity);if(t instanceof jr||(t=Ur(t)),0===t.a&&0===t.b)return new Hr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Cr;return new Hr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Kr(t,e,n,r){return 1===arguments.length?Vr(t):new Hr(t,e,n,null==r?1:r)}function Hr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function qr(t){if(isNaN(t.h))return new jr(t.l,0,0,t.opacity);var e=t.h*kr;return new jr(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}$n(jr,Dr,Zn(Jn,{brighter:function(t){return new jr(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new jr(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new gr(zr(3.1338561*(e=Ir*Br(e))-1.6168667*(t=Nr*Br(t))-.4906146*(n=Pr*Br(n))),zr(-.9787684*e+1.9161415*t+.033454*n),zr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),$n(Hr,Kr,Zn(Jn,{brighter:function(t){return new Hr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Hr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return qr(this).rgb()}}));var Wr=-.29227,Xr=-.90649,Yr=1.97294,$r=Yr*Xr,Zr=1.78277*Yr,Jr=1.78277*Wr- -.14861*Xr;function Qr(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ti)return new ti(t.h,t.s,t.l,t.opacity);t instanceof gr||(t=mr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Jr*r+$r*e-Zr*n)/(Jr+$r-Zr),a=r-i,o=(Yr*(n-i)-Wr*a)/Xr,s=Math.sqrt(o*o+a*a)/(Yr*i*(1-i)),u=s?Math.atan2(o,a)*Cr-120:NaN;return new ti(u<0?u+360:u,s,i,t.opacity)}(t):new ti(t,e,n,null==r?1:r)}function ti(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ei(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}$n(ti,Qr,Zn(Jn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ti(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ti(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*kr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new gr(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Wr*r+Xr*i)),255*(e+n*(Yr*r)),this.opacity)}}));var ni=function(t){return function(){return t}};function ri(t,e){return function(n){return t+n*e}}function ii(t,e){var n=e-t;return n?ri(t,n>180||n<-180?n-360*Math.round(n/360):n):ni(isNaN(t)?e:t)}function ai(t){return 1==(t=+t)?oi:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ni(isNaN(e)?n:e)}}function oi(t,e){var n=e-t;return n?ri(t,n):ni(isNaN(t)?e:t)}var si=function t(e){var n=ai(e);function r(t,e){var r=n((t=yr(t)).r,(e=yr(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=oi(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function ui(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=yr(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}ui((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return ei((n-r/e)*e,o,i,a,s)}})),ui((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return ei((n-r/e)*e,i,a,o,s)}}));var ci=function(t,e){return e-=t=+t,function(n){return t+e*n}},li=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fi=new RegExp(li.source,"g");var hi,di,pi,vi,mi=function(t,e){var n,r,i,a=li.lastIndex=fi.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=li.exec(t))&&(r=fi.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:ci(n,r)})),a=fi.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},yi=180/Math.PI,gi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},bi=function(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*yi,skewX:Math.atan(u)*yi,scaleX:o,scaleY:s}};function wi(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],u=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:ci(t,i)},{i:u-2,x:ci(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ci(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,u),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ci(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,u),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:ci(t,n)},{i:s-2,x:ci(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Ei=wi((function(t){return"none"===t?gi:(hi||(hi=document.createElement("DIV"),di=document.documentElement,pi=document.defaultView),hi.style.transform=t,t=pi.getComputedStyle(di.appendChild(hi),null).getPropertyValue("transform"),di.removeChild(hi),t=t.slice(7,-1).split(","),bi(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),_i=wi((function(t){return null==t?gi:(vi||(vi=document.createElementNS("http://www.w3.org/2000/svg","g")),vi.setAttribute("transform",t),(t=vi.transform.baseVal.consolidate())?(t=t.matrix,bi(t.a,t.b,t.c,t.d,t.e,t.f)):gi)}),", ",")",")"),Ti=Math.SQRT2;function xi(t){return((t=Math.exp(t))+1/t)/2}var Si=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],u=e[1],c=e[2],l=s-i,f=u-a,h=l*l+f*f;if(h<1e-12)r=Math.log(c/o)/Ti,n=function(t){return[i+t*l,a+t*f,o*Math.exp(Ti*t*r)]};else{var d=Math.sqrt(h),p=(c*c-o*o+4*h)/(2*o*2*d),v=(c*c-o*o-4*h)/(2*c*2*d),m=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-m)/Ti,n=function(t){var e,n=t*r,s=xi(m),u=o/(2*d)*(s*(e=Ti*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+u*l,a+u*f,o*s/xi(Ti*n+m)]}}return n.duration=1e3*r,n};function Ai(t){return function(e,n){var r=t((e=xr(e)).h,(n=xr(n)).h),i=oi(e.s,n.s),a=oi(e.l,n.l),o=oi(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}Ai(ii),Ai(oi);function ki(t){return function(e,n){var r=t((e=Kr(e)).h,(n=Kr(n)).h),i=oi(e.c,n.c),a=oi(e.l,n.l),o=oi(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}ki(ii),ki(oi);function Ci(t){return function e(n){function r(e,r){var i=t((e=Qr(e)).h,(r=Qr(r)).h),a=oi(e.s,r.s),o=oi(e.l,r.l),s=oi(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}Ci(ii),Ci(oi);var Ii,Ni,Pi=0,Mi=0,Ri=0,Oi=1e3,Li=0,Ui=0,Di=0,ji="object"==typeof performance&&performance.now?performance:Date,Fi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Bi(){return Ui||(Fi(zi),Ui=ji.now()+Di)}function zi(){Ui=0}function Gi(){this._call=this._time=this._next=null}function Vi(t,e,n){var r=new Gi;return r.restart(t,e,n),r}function Ki(){Ui=(Li=ji.now())+Di,Pi=Mi=0;try{!function(){Bi(),++Pi;for(var t,e=Ii;e;)(t=Ui-e._time)>=0&&e._call.call(null,t),e=e._next;--Pi}()}finally{Pi=0,function(){var t,e,n=Ii,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ii=e);Ni=t,qi(r)}(),Ui=0}}function Hi(){var t=ji.now(),e=t-Li;e>Oi&&(Di-=e,Li=t)}function qi(t){Pi||(Mi&&(Mi=clearTimeout(Mi)),t-Ui>24?(t<1/0&&(Mi=setTimeout(Ki,t-ji.now()-Di)),Ri&&(Ri=clearInterval(Ri))):(Ri||(Li=ji.now(),Ri=setInterval(Hi,Oi)),Pi=1,Fi(Ki)))}Gi.prototype=Vi.prototype={constructor:Gi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Bi():+n)+(null==e?0:+e),this._next||Ni===this||(Ni?Ni._next=this:Ii=this,Ni=this),this._call=t,this._time=n,qi()},stop:function(){this._call&&(this._call=null,this._time=1/0,qi())}};var Wi=function(t,e,n){var r=new Gi;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},Xi=be("start","end","cancel","interrupt"),Yi=[],$i=0,Zi=1,Ji=2,Qi=3,ta=4,ea=5,na=6,ra=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(u){var c,l,f,h;if(n.state!==Zi)return s();for(c in i)if((h=i[c]).name===n.name){if(h.state===Qi)return Wi(a);h.state===ta?(h.state=na,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=na,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Wi((function(){n.state===Qi&&(n.state=ta,n.timer.restart(o,n.delay,n.time),o(u))})),n.state=Ji,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ji){for(n.state=Qi,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=ea,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===ea&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=na,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Vi((function(t){n.state=Zi,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Xi,tween:Yi,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:$i})};function ia(t,e){var n=oa(t,e);if(n.state>$i)throw new Error("too late; already scheduled");return n}function aa(t,e){var n=oa(t,e);if(n.state>Qi)throw new Error("too late; already running");return n}function oa(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var sa=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Ji&&n.state<ea,n.state=na,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}};function ua(t,e){var n,r;return function(){var i=aa(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function ca(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=aa(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}a.tween=i}}function la(t,e,n){var r=t._id;return t.each((function(){var t=aa(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return oa(t,r).value[e]}}var fa=function(t,e){var n;return("number"==typeof e?ci:e instanceof dr?si:(n=dr(e))?(e=n,si):mi)(t,e)};function ha(t){return function(){this.removeAttribute(t)}}function da(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pa(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function va(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function ma(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}}function ya(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}function ga(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}function ba(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i}function wa(t,e){return function(){ia(this,t).delay=+e.apply(this,arguments)}}function Ea(t,e){return e=+e,function(){ia(this,t).delay=e}}function _a(t,e){return function(){aa(this,t).duration=+e.apply(this,arguments)}}function Ta(t,e){return e=+e,function(){aa(this,t).duration=e}}function xa(t,e){if("function"!=typeof e)throw new Error;return function(){aa(this,t).ease=e}}function Sa(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ia:aa;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var Aa=Mn.prototype.constructor;function ka(t){return function(){this.style.removeProperty(t)}}function Ca(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,a,n)),r}return a._value=e,a}var Ia=0;function Na(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Pa(){return++Ia}var Ma=Mn.prototype;Na.prototype=function(t){return Mn().transition(t)}.prototype={constructor:Na,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ke(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,c=r[o],l=c.length,f=a[o]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,ra(f[h],e,n,h,f,oa(s,n)));return new Na(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ie(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,d=t.call(u,u.__data__,f,c),p=oa(u,n),v=0,m=d.length;v<m;++v)(h=d[v])&&ra(h,e,n,v,d,p);a.push(d),o.push(u)}return new Na(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Ne(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new Na(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],l=n[s],f=c.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new Na(o,this._parents,this._name,this._id)},selection:function(){return new Aa(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Pa(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)if(o=s[c]){var l=oa(o,e);ra(o,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Na(r,this._parents,t,n)},call:Ma.call,nodes:Ma.nodes,node:Ma.node,size:Ma.size,empty:Ma.empty,each:Ma.each,on:function(t,e){var n=this._id;return arguments.length<2?oa(this.node(),n).on.on(t):this.each(Sa(n,t,e))},attr:function(t,e){var n=_e(t),r="transform"===n?_i:fa;return this.attrTween(t,"function"==typeof e?(n.local?ya:ma)(n,r,la(this,"attr."+t,e)):null==e?(n.local?da:ha)(n):(n.local?va:pa)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=_e(t);return this.tween(n,(r.local?ga:ba)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Ei:fa;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=We(this,t),o=(this.style.removeProperty(t),We(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,ka(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=We(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=We(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}(t,r,la(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=aa(this,t),c=u.on,l=null==u.value[o]?a||(a=ka(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=We(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ca(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(la(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=oa(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?ua:ca)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?wa:Ea)(e,t)):oa(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_a:Ta)(e,t)):oa(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(xa(e,t)):oa(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0==--i&&a()}};n.each((function(){var n=aa(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI;(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var Ra=2*Math.PI,Oa=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ra);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Ra)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ra);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Ra)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ra);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Ra)},i.period=function(n){return t(e,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function La(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Oa.time=Bi(),Oa;return n}Mn.prototype.interrupt=function(t){return this.each((function(){sa(this,t)}))},Mn.prototype.transition=function(t){var e,n;t instanceof Na?(e=t._id,t=t._name):(e=Pa(),(n=Oa).time=Bi(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)(o=s[c])&&ra(o,t,e,c,s,n||La(o,e));return new Na(r,this._parents,t,e)};function Ua(t){return[+t[0],+t[1]]}function Da(t){return[Ua(t[0]),Ua(t[1])]}["w","e"].map(ja),["n","s"].map(ja),["n","w","e","s","nw","ne","sw","se"].map(ja);function ja(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Fa=Math.PI,Ba=2*Fa,za=Ba-1e-6;function Ga(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Va(){return new Ga}Ga.prototype=Va.prototype={constructor:Ga,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,u=r-e,c=a-t,l=o-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var h=n-a,d=r-o,p=s*s+u*u,v=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),g=i*Math.tan((Fa-Math.acos((p+f-v)/(2*m*y)))/2),b=g/y,w=g/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+w*s)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+o,c=e+s,l=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Ba+Ba),f>za?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Fa)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Ka(){}function Ha(t,e){var n=new Ka;if(t instanceof Ka)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}Ka.prototype=Ha.prototype={constructor:Ka,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var qa=Ha;function Wa(){}var Xa=qa.prototype;function Ya(t,e){var n=new Wa;if(t instanceof Wa)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Wa.prototype=Ya.prototype={constructor:Wa,has:Xa.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Xa.remove,clear:Xa.clear,values:Xa.keys,size:Xa.size,empty:Xa.empty,each:Xa.each};Array.prototype.slice;var $a={},Za={},Ja=34,Qa=10,to=13;function eo(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function no(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ro(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function io(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ro(-e,6):e>9999?"+"+ro(e,6):ro(e,4))+"-"+ro(t.getUTCMonth()+1,2)+"-"+ro(t.getUTCDate(),2)+(a?"T"+ro(n,2)+":"+ro(r,2)+":"+ro(i,2)+"."+ro(a,3)+"Z":i?"T"+ro(n,2)+":"+ro(r,2)+":"+ro(i,2)+"Z":r||n?"T"+ro(n,2)+":"+ro(r,2)+"Z":"")}var ao=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,u=a<=0,c=!1;function l(){if(u)return Za;if(c)return c=!1,$a;var e,r,i=o;if(t.charCodeAt(i)===Ja){for(;o++<a&&t.charCodeAt(o)!==Ja||t.charCodeAt(++o)===Ja;);return(e=o)>=a?u=!0:(r=t.charCodeAt(o++))===Qa?c=!0:r===to&&(c=!0,t.charCodeAt(o)===Qa&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(e=o++))===Qa)c=!0;else if(r===to)c=!0,t.charCodeAt(o)===Qa&&++o;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===Qa&&--a,t.charCodeAt(a-1)===to&&--a;(r=l())!==Za;){for(var f=[];r!==$a&&r!==Za;)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?io(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=eo(t);return function(r,i){return e(n(r),i,t)}}(t,e):eo(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=no(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=no(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}},oo=ao(","),so=oo.parse,uo=(oo.parseRows,oo.format,oo.formatBody,oo.formatRows,ao("\t")),co=uo.parse;uo.parseRows,uo.format,uo.formatBody,uo.formatRows;function lo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var fo=function(t,e){return fetch(t,e).then(lo)};function ho(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),fo(e,n).then((function(e){return t(e,r)}))}}ho(so),ho(co);function po(t){return function(e,n){return fo(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}po("application/xml"),po("text/html"),po("image/svg+xml");function vo(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,u,c,l,f,h,d=t._root,p={data:r},v=t._x0,m=t._y0,y=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(a=(v+y)/2))?v=a:y=a,(l=n>=(o=(m+g)/2))?m=o:g=o,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(a=(v+y)/2))?v=a:y=a,(l=n>=(o=(m+g)/2))?m=o:g=o}while((f=l<<1|c)==(h=(u>=o)<<1|s>=a));return i[h]=d,i[f]=p,t}var mo=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function yo(t){return t[0]}function go(t){return t[1]}function bo(t,e,n){var r=new wo(null==e?yo:e,null==n?go:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function wo(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Eo(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var _o=bo.prototype=wo.prototype;_o.copy=function(){var t,e,n=new wo(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Eo(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Eo(e));return n},_o.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return vo(this.cover(e,n),e,n,t)},_o.addAll=function(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<a;++n)vo(this,o[n],s[n],t[n]);return this},_o.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o,s,u=i-n,c=this._root;n>t||t>=i||r>e||e>=a;)switch(s=(e<r)<<1|t<n,(o=new Array(4))[s]=c,c=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},_o.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},_o.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},_o.find=function(t,e,n){var r,i,a,o,s,u,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new mo(v,l,f,h,d)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>h||(a=u.y0)>d||(o=u.x1)<l||(s=u.y1)<f))if(v.length){var m=(i+o)/2,y=(a+s)/2;p.push(new mo(v[3],m,y,o,s),new mo(v[2],i,y,m,s),new mo(v[1],m,a,o,y),new mo(v[0],i,a,m,y)),(c=(e>=y)<<1|t>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var g=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),w=g*g+b*b;if(w<n){var E=Math.sqrt(n=w);l=t-E,f=e-E,h=t+E,d=e+E,r=v.data}}return r},_o.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,u,c,l,f,h,d=this._root,p=this._x0,v=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=a>=(s=(p+m)/2))?p=s:m=s,(l=o>=(u=(v+y)/2))?v=u:y=u,e=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},_o.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},_o.root=function(){return this._root},_o.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},_o.visit=function(t){var e,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new mo(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&u.length){var c=(r+a)/2,l=(i+o)/2;(n=u[3])&&s.push(new mo(n,c,l,a,o)),(n=u[2])&&s.push(new mo(n,r,l,c,o)),(n=u[1])&&s.push(new mo(n,c,i,a,l)),(n=u[0])&&s.push(new mo(n,r,i,c,l))}return this},_o.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new mo(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(o+u)/2,f=(s+c)/2;(a=i[0])&&n.push(new mo(a,o,s,l,f)),(a=i[1])&&n.push(new mo(a,l,s,u,f)),(a=i[2])&&n.push(new mo(a,o,f,l,c)),(a=i[3])&&n.push(new mo(a,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},_o.x=function(t){return arguments.length?(this._x=t,this):this._x},_o.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var To=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},xo=function(t){return(t=To(Math.abs(t)))?t[1]:NaN},So=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ao(t){if(!(e=So.exec(t)))throw new Error("invalid format: "+t);var e;return new ko({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ko(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Ao.prototype=ko.prototype,ko.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Co,Io,No=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},Po=function(t,e){var n=To(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Mo={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Po(100*t,e)},r:Po,s:function(t,e){var n=To(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Co=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+To(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ro=function(t){return t},Oo=Array.prototype.map,Lo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Io=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ro:(e=Oo.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ro:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Oo.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ao(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,m=t.precision,y=t.trim,g=t.type;"n"===g?(v=!0,g="g"):Mo[g]||(void 0===m&&(m=12),y=!0,g="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",w="$"===h?a:/[%p]/.test(g)?u:"",E=Mo[g],_=/[defgprs%]/.test(g);function T(t){var i,a,u,h=b,T=w;if("c"===g)T=E(t)+T,t="";else{var x=(t=+t)<0;if(t=isNaN(t)?l:E(Math.abs(t),m),y&&(t=No(t)),x&&0==+t&&(x=!1),h=(x?"("===f?f:c:"-"===f||"("===f?"":f)+h,T=("s"===g?Lo[8+Co/3]:"")+T+(x&&"("===f?")":""),_)for(i=-1,a=t.length;++i<a;)if(48>(u=t.charCodeAt(i))||u>57){T=(46===u?o+t.slice(i+1):t.slice(i))+T,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var S=h.length+t.length+T.length,A=S<p?new Array(p-S+1).join(e):"";switch(v&&d&&(t=r(A+t,A.length?p-T.length:1/0),A=""),n){case"<":t=h+t+T+A;break;case"=":t=h+A+t+T;break;case"^":t=A.slice(0,S=A.length>>1)+h+t+T+A.slice(S);break;default:t=A+h+t+T}return s(t)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),T.toString=function(){return t+""},T}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ao(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(xo(e)/3))),i=Math.pow(10,-r),a=Lo[8+r/3];return function(t){return n(i*t)+a}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Io.format,Io.formatPrefix;var Uo=function(){return new Do};function Do(){this.reset()}Do.prototype={constructor:Do,reset:function(){this.s=this.t=0},add:function(t){Fo(jo,t,this.t),Fo(this,jo.s,this.s),this.s?this.t+=jo.t:this.s=jo.t},valueOf:function(){return this.s}};var jo=new Do;function Fo(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var Bo=1e-6,zo=1e-12,Go=Math.PI,Vo=Go/2,Ko=Go/4,Ho=2*Go,qo=Go/180,Wo=Math.abs,Xo=Math.atan,Yo=Math.atan2,$o=Math.cos,Zo=(Math.ceil,Math.exp),Jo=(Math.floor,Math.log),Qo=(Math.pow,Math.sin),ts=Math.sign||function(t){return t>0?1:t<0?-1:0},es=Math.sqrt,ns=Math.tan;function rs(t){return t>1?0:t<-1?Go:Math.acos(t)}function is(t){return t>1?Vo:t<-1?-Vo:Math.asin(t)}function as(){}Uo(),Uo();function os(t){var e=t[0],n=t[1],r=$o(n);return[r*$o(e),r*Qo(e),Qo(n)]}function ss(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function us(t){var e=es(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Uo();function cs(t,e){return[Wo(t)>Go?t+Math.round(-t/Ho)*Ho:t,e]}cs.invert=cs;var ls=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:as,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},fs=function(t,e){return Wo(t[0]-e[0])<Bo&&Wo(t[1]-e[1])<Bo};function hs(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var ds=function(t,e,n,r,i){var a,o,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(fs(r,o)){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else s.push(n=new hs(r,t,null,!0)),u.push(n.o=new hs(r,null,n,!1)),s.push(n=new hs(o,t,null,!1)),u.push(n.o=new hs(o,null,n,!0))}})),s.length){for(u.sort(e),ps(s),ps(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,o=c.length;a<o;++a)i.point((l=c[a])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((l=c[a])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function ps(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var vs=Uo();function ms(t){return Wo(t[0])<=Go?t[0]:ts(t[0])*((Wo(t[0])+Go)%Ho-Go)}var ys=function(t,e){var n=ms(e),r=e[1],i=Qo(r),a=[Qo(n),-$o(n),0],o=0,s=0;vs.reset(),1===i?r=Vo+Bo:-1===i&&(r=-Vo-Bo);for(var u=0,c=t.length;u<c;++u)if(f=(l=t[u]).length)for(var l,f,h=l[f-1],d=ms(h),p=h[1]/2+Ko,v=Qo(p),m=$o(p),y=0;y<f;++y,d=b,v=E,m=_,h=g){var g=l[y],b=ms(g),w=g[1]/2+Ko,E=Qo(w),_=$o(w),T=b-d,x=T>=0?1:-1,S=x*T,A=S>Go,k=v*E;if(vs.add(Yo(k*x*Qo(S),m*_+k*$o(S))),o+=A?T+x*Ho:T,A^d>=n^b>=n){var C=ss(os(h),os(g));us(C);var I=ss(a,C);us(I);var N=(A^T>=0?-1:1)*is(I[2]);(r>N||r===N&&(C[0]||C[1]))&&(s+=A^T>=0?1:-1)}}return(o<-Bo||o<Bo&&vs<-Bo)^1&s},gs=function(t,e,n,r){return function(i){var a,o,s,u=e(i),c=ls(),l=e(c),f=!1,h={point:d,lineStart:v,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=g,h.lineEnd=b,o=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=m,o=he(o);var t=ys(a,r);o.length?(f||(i.polygonStart(),f=!0),ds(o,ws,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function v(){h.point=p,u.lineStart()}function m(){h.point=d,u.lineEnd()}function y(t,e){s.push([t,e]),l.point(t,e)}function g(){l.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),l.lineEnd();var t,e,n,r,u=l.clean(),h=c.result(),d=h.length;if(s.pop(),a.push(s),s=null,d)if(1&u){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&h.push(h.pop().concat(h.shift())),o.push(h.filter(bs))}return h}};function bs(t){return t.length>1}function ws(t,e){return((t=t.x)[0]<0?t[1]-Vo-Bo:Vo-t[1])-((e=e.x)[0]<0?e[1]-Vo-Bo:Vo-e[1])}gs((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Go:-Go,u=Wo(a-n);Wo(u-Go)<Bo?(t.point(n,r=(r+o)/2>0?Vo:-Vo),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&u>=Go&&(Wo(n-i)<Bo&&(n-=i*Bo),Wo(a-s)<Bo&&(a-=s*Bo),r=function(t,e,n,r){var i,a,o=Qo(t-n);return Wo(o)>Bo?Xo((Qo(e)*(a=$o(r))*Qo(n)-Qo(r)*(i=$o(e))*Qo(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Vo,r.point(-Go,i),r.point(0,i),r.point(Go,i),r.point(Go,0),r.point(Go,-i),r.point(0,-i),r.point(-Go,-i),r.point(-Go,0),r.point(-Go,i);else if(Wo(t[0]-e[0])>Bo){var a=t[0]<e[0]?Go:-Go;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-Go,-Vo]);Uo();Uo(),Uo();function Es(t){this._context=t}Es.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ho)}},result:as};Uo();function _s(){this._string=[]}function Ts(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}_s.prototype={_radius:4.5,_circle:Ts(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Ts(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function xs(t){return function(e){var n=new Ss;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ss(){}Ss.prototype={constructor:Ss,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};$o(30*qo);xs({point:function(t,e){this.stream.point(t*qo,e*qo)}});function As(t){return function(e,n){var r=$o(e),i=$o(n),a=t(r*i);return[a*i*Qo(e),a*Qo(n)]}}function ks(t){return function(e,n){var r=es(e*e+n*n),i=t(r),a=Qo(i),o=$o(i);return[Yo(e*a,r*o),is(r&&n*a/r)]}}var Cs=As((function(t){return es(2/(1+t))}));Cs.invert=ks((function(t){return 2*is(t/2)}));var Is=As((function(t){return(t=rs(t))&&t/Qo(t)}));Is.invert=ks((function(t){return t}));function Ns(t,e){return[t,Jo(ns((Vo+e)/2))]}Ns.invert=function(t,e){return[t,2*Xo(Zo(e))-Vo]};function Ps(t,e){return[t,e]}Ps.invert=Ps;var Ms=1.340264,Rs=-.081106,Os=893e-6,Ls=.003796,Us=es(3)/2;function Ds(t,e){var n=is(Us*Qo(e)),r=n*n,i=r*r*r;return[t*$o(n)/(Us*(Ms+3*Rs*r+i*(7*Os+9*Ls*r))),n*(Ms+Rs*r+i*(Os+Ls*r))]}Ds.invert=function(t,e){for(var n,r=e,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(Ms+Rs*i+a*(Os+Ls*i))-e)/(Ms+3*Rs*i+a*(7*Os+9*Ls*i)))*r)*i*i,!(Wo(n)<zo));++o);return[Us*t*(Ms+3*Rs*i+a*(7*Os+9*Ls*i))/$o(r),is(Qo(r)/Us)]};function js(t,e){var n=$o(e),r=$o(t)*n;return[n*Qo(t)/r,Qo(e)/r]}js.invert=ks(Xo);function Fs(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Fs.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(Wo(n)>Bo&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};function Bs(t,e){return[$o(e)*Qo(t),Qo(e)]}Bs.invert=ks(is);function zs(t,e){var n=$o(e),r=1+$o(t)*n;return[n*Qo(t)/r,Qo(e)/r]}zs.invert=ks((function(t){return 2*Xo(t)}));function Gs(t,e){return[Jo(ns((Vo+e)/2)),-t]}Gs.invert=function(t,e){return[-e,2*Xo(Zo(t))-Vo]};function Vs(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Ks(t,e){var n,r,i,a,o,s=new Xs(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Hs);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)c.push(r=n.children[a]=new Xs(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Ws)}function Hs(t){return t.children}function qs(t){t.data=t.data.data}function Ws(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Xs(t){this.data=t,this.depth=this.height=0,this.parent=null}Xs.prototype=Ks.prototype={constructor:Xs,count:function(){return this.eachAfter(Vs)},each:function(t){var e,n,r,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Ks(this).eachBefore(qs)}};Array.prototype.slice;var Ys=function(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,c=t.value&&(r-e)/t.value;++s<u;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c};function $s(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}$s.prototype=Object.create(Xs.prototype);var Zs=function(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,c=t.value&&(i-n)/t.value;++s<u;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c},Js=(1+Math.sqrt(5))/2;function Qs(t,e,n,r,i,a){for(var o,s,u,c,l,f,h,d,p,v,m,y=[],g=e.children,b=0,w=0,E=g.length,_=e.value;b<E;){u=i-n,c=a-r;do{l=g[w++].value}while(!l&&w<E);for(f=h=l,m=l*l*(v=Math.max(c/u,u/c)/(_*t)),p=Math.max(h/m,m/f);w<E;++w){if(l+=s=g[w].value,s<f&&(f=s),s>h&&(h=s),m=l*l*v,(d=Math.max(h/m,m/f))>p){l-=s;break}p=d}y.push(o={value:l,dice:u<c,children:g.slice(b,w)}),o.dice?Ys(o,n,r,i,_?r+=c*l/_:a):Zs(o,n,r,_?n+=u*l/_:i,a),_-=l,b=w}return y}(function t(e){function n(t,n,r,i,a){Qs(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n})(Js),function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e)for(var o,s,u,c,l,f=-1,h=o.length,d=t.value;++f<h;){for(u=(s=o[f]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?Ys(s,n,r,i,r+=(a-r)*s.value/d):Zs(s,n,r,n+=(i-n)*s.value/d,a),d-=s.value}else t._squarify=o=Qs(e,t,n,r,i,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Js);var tu=function(){return Math.random()},eu=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(tu),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(tu)),nu=(function t(e){function n(){var t=eu.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(tu),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(tu));(function t(e){function n(t){var n=nu.source(e)(t);return function(){return n()/t}}return n.source=t,n})(tu),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(tu);var ru=Array.prototype;ru.map,ru.slice;var iu=new Date,au=new Date;function ou(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return ou((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return iu.setTime(+e),au.setTime(+r),t(iu),t(au),Math.floor(n(iu,au))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var su=ou((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));su.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ou((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):su:null};su.range;var uu=6e4,cu=6048e5,lu=ou((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),fu=(lu.range,ou((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+e*uu)}),(function(t,e){return(e-t)/uu}),(function(t){return t.getMinutes()}))),hu=(fu.range,ou((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*uu)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),du=(hu.range,ou((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*uu)/864e5}),(function(t){return t.getDate()-1}))),pu=du;du.range;function vu(t){return ou((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*uu)/cu}))}var mu=vu(0),yu=vu(1),gu=vu(2),bu=vu(3),wu=vu(4),Eu=vu(5),_u=vu(6),Tu=(mu.range,yu.range,gu.range,bu.range,wu.range,Eu.range,_u.range,ou((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),xu=(Tu.range,ou((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));xu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ou((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Su=xu,Au=(xu.range,ou((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*uu)}),(function(t,e){return(e-t)/uu}),(function(t){return t.getUTCMinutes()}))),ku=(Au.range,ou((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),Cu=(ku.range,ou((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Iu=Cu;Cu.range;function Nu(t){return ou((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/cu}))}var Pu=Nu(0),Mu=Nu(1),Ru=Nu(2),Ou=Nu(3),Lu=Nu(4),Uu=Nu(5),Du=Nu(6),ju=(Pu.range,Mu.range,Ru.range,Ou.range,Lu.range,Uu.range,Du.range,ou((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),Fu=(ju.range,ou((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Fu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ou((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Bu=Fu;Fu.range;function zu(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gu(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vu(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Ku,Hu,qu,Wu={"-":"",_:" ",0:"0"},Xu=/^\s*\d+/,Yu=/^%/,$u=/[\\^$*+?|[\]().{}]/g;function Zu(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ju(t){return t.replace($u,"\\$&")}function Qu(t){return new RegExp("^(?:"+t.map(Ju).join("|")+")","i")}function tc(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ec(t,e,n){var r=Xu.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nc(t,e,n){var r=Xu.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rc(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ic(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ac(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function oc(t,e,n){var r=Xu.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sc(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uc(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cc(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lc(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fc(t,e,n){var r=Xu.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function hc(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dc(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pc(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vc(t,e,n){var r=Xu.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mc(t,e,n){var r=Xu.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yc(t,e,n){var r=Yu.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gc(t,e,n){var r=Xu.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bc(t,e,n){var r=Xu.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function wc(t,e){return Zu(t.getDate(),e,2)}function Ec(t,e){return Zu(t.getHours(),e,2)}function _c(t,e){return Zu(t.getHours()%12||12,e,2)}function Tc(t,e){return Zu(1+pu.count(Su(t),t),e,3)}function xc(t,e){return Zu(t.getMilliseconds(),e,3)}function Sc(t,e){return xc(t,e)+"000"}function Ac(t,e){return Zu(t.getMonth()+1,e,2)}function kc(t,e){return Zu(t.getMinutes(),e,2)}function Cc(t,e){return Zu(t.getSeconds(),e,2)}function Ic(t){var e=t.getDay();return 0===e?7:e}function Nc(t,e){return Zu(mu.count(Su(t),t),e,2)}function Pc(t,e){var n=t.getDay();return t=n>=4||0===n?wu(t):wu.ceil(t),Zu(wu.count(Su(t),t)+(4===Su(t).getDay()),e,2)}function Mc(t){return t.getDay()}function Rc(t,e){return Zu(yu.count(Su(t),t),e,2)}function Oc(t,e){return Zu(t.getFullYear()%100,e,2)}function Lc(t,e){return Zu(t.getFullYear()%1e4,e,4)}function Uc(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zu(e/60|0,"0",2)+Zu(e%60,"0",2)}function Dc(t,e){return Zu(t.getUTCDate(),e,2)}function jc(t,e){return Zu(t.getUTCHours(),e,2)}function Fc(t,e){return Zu(t.getUTCHours()%12||12,e,2)}function Bc(t,e){return Zu(1+Iu.count(Bu(t),t),e,3)}function zc(t,e){return Zu(t.getUTCMilliseconds(),e,3)}function Gc(t,e){return zc(t,e)+"000"}function Vc(t,e){return Zu(t.getUTCMonth()+1,e,2)}function Kc(t,e){return Zu(t.getUTCMinutes(),e,2)}function Hc(t,e){return Zu(t.getUTCSeconds(),e,2)}function qc(t){var e=t.getUTCDay();return 0===e?7:e}function Wc(t,e){return Zu(Pu.count(Bu(t),t),e,2)}function Xc(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Lu(t):Lu.ceil(t),Zu(Lu.count(Bu(t),t)+(4===Bu(t).getUTCDay()),e,2)}function Yc(t){return t.getUTCDay()}function $c(t,e){return Zu(Mu.count(Bu(t),t),e,2)}function Zc(t,e){return Zu(t.getUTCFullYear()%100,e,2)}function Jc(t,e){return Zu(t.getUTCFullYear()%1e4,e,4)}function Qc(){return"+0000"}function tl(){return"%"}function el(t){return+t}function nl(t){return Math.floor(+t/1e3)}!function(t){Ku=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=Qu(i),l=tc(i),f=Qu(a),h=tc(a),d=Qu(o),p=tc(o),v=Qu(s),m=tc(s),y=Qu(u),g=tc(u),b={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:wc,e:wc,f:Sc,H:Ec,I:_c,j:Tc,L:xc,m:Ac,M:kc,p:function(t){return i[+(t.getHours()>=12)]},Q:el,s:nl,S:Cc,u:Ic,U:Nc,V:Pc,w:Mc,W:Rc,x:null,X:null,y:Oc,Y:Lc,Z:Uc,"%":tl},w={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Dc,e:Dc,f:Gc,H:jc,I:Fc,j:Bc,L:zc,m:Vc,M:Kc,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:el,s:nl,S:Hc,u:qc,U:Wc,V:Xc,w:Yc,W:$c,x:null,X:null,y:Zc,Y:Jc,Z:Qc,"%":tl},E={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return x(t,e,n,r)},d:lc,e:lc,f:mc,H:hc,I:hc,j:fc,L:vc,m:cc,M:dc,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:gc,s:bc,S:pc,u:nc,U:rc,V:ic,w:ec,W:ac,x:function(t,e,r){return x(t,n,e,r)},X:function(t,e,n){return x(t,r,e,n)},y:sc,Y:oc,Z:uc,"%":yc};function _(t,e){return function(n){var r,i,a,o=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(i=Wu[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function T(t,e){return function(n){var r,i,a=Vu(1900);if(x(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Gu(Vu(a.y))).getUTCDay(),r=i>4||0===i?Mu.ceil(r):Mu(r),r=Iu.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=e(Vu(a.y))).getDay(),r=i>4||0===i?yu.ceil(r):yu(r),r=pu.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Gu(Vu(a.y)).getUTCDay():e(Vu(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Gu(a)):e(a)}}function x(t,e,n,r){for(var i,a,o=0,s=e.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=E[i in Wu?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=T(t+="",zu);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=T(t,Gu);return e.toString=function(){return t},e}}}(t),Ku.format,Ku.parse,Hu=Ku.utcFormat,qu=Ku.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Hu("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||qu("%Y-%m-%dT%H:%M:%S.%LZ");Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var rl=1e-12,il=Math.PI,al=2*il;function ol(t){this._context=t}ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var sl=function(t){return new ol(t)};cl(sl);function ul(t){this._curve=t}function cl(t){function e(e){return new ul(t(e))}return e._curve=t,e}ul.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var ll=Math.sin(il/10)/Math.sin(7*il/10),fl=(Math.sin(al/10),Math.cos(al/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function hl(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dl(t){this._context=t}dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pl(t){this._context=t}pl.prototype={areaStart:fl,areaEnd:fl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vl(t){this._context=t}vl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ml(t,e){this._basis=new dl(t),this._beta=e}ml.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*o),this._beta*e[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new dl(t):new ml(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function yl(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function gl(t,e){this._context=t,this._k=(1-e)/6}gl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yl(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:yl(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new gl(t,e)}return n.tension=function(e){return t(+e)},n})(0);function bl(t,e){this._context=t,this._k=(1-e)/6}bl.prototype={areaStart:fl,areaEnd:fl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:yl(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new bl(t,e)}return n.tension=function(e){return t(+e)},n})(0);function wl(t,e){this._context=t,this._k=(1-e)/6}wl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yl(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new wl(t,e)}return n.tension=function(e){return t(+e)},n})(0);function El(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>rl){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>rl){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function _l(t,e){this._context=t,this._alpha=e}_l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:El(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new _l(t,e):new gl(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Tl(t,e){this._context=t,this._alpha=e}Tl.prototype={areaStart:fl,areaEnd:fl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:El(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Tl(t,e):new bl(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function xl(t,e){this._context=t,this._alpha=e}xl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:El(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new xl(t,e):new wl(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Sl(t){this._context=t}Sl.prototype={areaStart:fl,areaEnd:fl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Al(t){return t<0?-1:1}function kl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Al(a)+Al(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Cl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Il(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Nl(t){this._context=t}function Pl(t){this._context=new Ml(t)}function Ml(t){this._context=t}function Rl(t){this._context=t}function Ol(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}Nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Il(this,this._t0,Cl(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Il(this,Cl(this,n=kl(this,t,e)),n);break;default:Il(this,this._t0,n=kl(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Pl.prototype=Object.create(Nl.prototype)).point=function(t,e){Nl.prototype.point.call(this,e,t)},Ml.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},Rl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Ol(t),i=Ol(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ll(t,e){this._context=t,this._t=e}Ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};function Ul(){this._=null}function Dl(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function jl(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Fl(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Bl(t){for(;t.L;)t=t.L;return t}Ul.prototype={constructor:Ul,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Bl(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(jl(this,n),n=(t=n).U),n.C=!1,r.C=!0,Fl(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Fl(this,n),n=(t=n).U),n.C=!1,r.C=!0,jl(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?Bl(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,jl(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Fl(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,jl(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Fl(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,jl(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Fl(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var zl=Ul;function Gl(t,e,n,r){var i=[null,null],a=df.push(i)-1;return i.left=t,i.right=e,n&&Kl(i,t,e,n),r&&Kl(i,e,t,r),ff[t.index].halfedges.push(a),ff[e.index].halfedges.push(a),i}function Vl(t,e,n){var r=[e,n];return r.left=t,r}function Kl(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Hl(t,e,n,r,i){var a,o=t[0],s=t[1],u=o[0],c=o[1],l=0,f=1,h=s[0]-u,d=s[1]-c;if(a=e-u,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>l&&(l=a)}if(a=r-u,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<f&&(f=a)}if(a=n-c,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>l&&(l=a)}if(a=i-c,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<f&&(f=a)}return!(l>0||f<1)||(l>0&&(t[0]=[u+l*h,c+l*d]),f<1&&(t[1]=[u+f*h,c+f*d]),!0)}}}}}function ql(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,u=t[0],c=t.left,l=t.right,f=c[0],h=c[1],d=l[0],p=l[1],v=(f+d)/2,m=(h+p)/2;if(p===h){if(v<e||v>=r)return;if(f>d){if(u){if(u[1]>=i)return}else u=[v,n];a=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];a=[v,n]}}else if(s=m-(o=(f-d)/(p-h))*v,o<-1||o>1)if(f>d){if(u){if(u[1]>=i)return}else u=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<p){if(u){if(u[0]>=r)return}else u=[e,o*e+s];a=[r,o*r+s]}else{if(u){if(u[0]<e)return}else u=[r,o*r+s];a=[e,o*e+s]}return t[0]=u,t[1]=a,!0}function Wl(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Xl(t,e){return e[+(e.left!==t.site)]}function Yl(t,e){return e[+(e.left===t.site)]}var $l,Zl=[];function Jl(){Dl(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ql(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,c=r[1]-s,l=a[0]-o,f=a[1]-s,h=2*(u*f-c*l);if(!(h>=-vf)){var d=u*u+c*c,p=l*l+f*f,v=(f*d-c*p)/h,m=(u*p-l*d)/h,y=Zl.pop()||new Jl;y.arc=t,y.site=i,y.x=v+o,y.y=(y.cy=m+s)+Math.sqrt(v*v+m*m),t.circle=y;for(var g=null,b=hf._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}hf.insert(g,y),g||($l=y)}}}}function tf(t){var e=t.circle;e&&(e.P||($l=e.N),hf.remove(e),Zl.push(e),Dl(e),t.circle=null)}var ef=[];function nf(){Dl(this),this.edge=this.site=this.circle=null}function rf(t){var e=ef.pop()||new nf;return e.site=t,e}function af(t){tf(t),lf.remove(t),ef.push(t),Dl(t)}function of(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];af(t);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<pf&&Math.abs(r-u.circle.cy)<pf;)a=u.P,s.unshift(u),af(u),u=a;s.unshift(u),tf(u);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<pf&&Math.abs(r-c.circle.cy)<pf;)o=c.N,s.push(c),af(c),c=o;s.push(c),tf(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],Kl(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=Gl(u.site,c.site,null,i),Ql(u),Ql(c)}function sf(t){for(var e,n,r,i,a=t[0],o=t[1],s=lf._;s;)if((r=uf(s,o)-a)>pf)s=s.L;else{if(!((i=a-cf(s,o))>pf)){r>-pf?(e=s.P,n=s):i>-pf?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){ff[t.index]={site:t,halfedges:[]}}(t);var u=rf(t);if(lf.insert(e,u),e||n){if(e===n)return tf(e),n=rf(e.site),lf.insert(u,n),u.edge=n.edge=Gl(e.site,u.site),Ql(e),void Ql(n);if(n){tf(e),tf(n);var c=e.site,l=c[0],f=c[1],h=t[0]-l,d=t[1]-f,p=n.site,v=p[0]-l,m=p[1]-f,y=2*(h*m-d*v),g=h*h+d*d,b=v*v+m*m,w=[(m*g-d*b)/y+l,(h*b-v*g)/y+f];Kl(n.edge,c,p,w),u.edge=Gl(c,t,null,w),n.edge=Gl(t,p,null,w),Ql(e),Ql(n)}else u.edge=Gl(e.site,u.site)}}function uf(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/a-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-a/2)))/f+r:(r+s)/2}function cf(t,e){var n=t.N;if(n)return uf(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var lf,ff,hf,df,pf=1e-6,vf=1e-12;function mf(t,e){return e[1]-t[1]||e[0]-t[0]}function yf(t,e){var n,r,i,a=t.sort(mf).pop();for(df=[],ff=new Array(t.length),lf=new zl,hf=new zl;;)if(i=$l,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(sf(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;of(i.arc)}if(function(){for(var t,e,n,r,i=0,a=ff.length;i<a;++i)if((t=ff[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=Wl(t,df[e[n]]);for(o.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,a=df.length;a--;)ql(i=df[a],t,e,n,r)&&Hl(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>pf||Math.abs(i[0][1]-i[1][1])>pf)||delete df[a]}(o,s,u,c),function(t,e,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m=ff.length,y=!0;for(i=0;i<m;++i)if(a=ff[i]){for(o=a.site,s=(u=a.halfedges).length;s--;)df[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(d=Yl(a,df[u[s]]))[0],v=d[1],f=(l=Xl(a,df[u[++s%c]]))[0],h=l[1],(Math.abs(p-f)>pf||Math.abs(v-h)>pf)&&(u.splice(s,0,df.push(Vl(o,d,Math.abs(p-t)<pf&&r-v>pf?[t,Math.abs(f-t)<pf?h:r]:Math.abs(v-r)<pf&&n-p>pf?[Math.abs(h-r)<pf?f:n,r]:Math.abs(p-n)<pf&&v-e>pf?[n,Math.abs(f-n)<pf?h:e]:Math.abs(v-e)<pf&&p-t>pf?[Math.abs(h-e)<pf?f:t,e]:null))-1),++c);c&&(y=!1)}if(y){var g,b,w,E=1/0;for(i=0,y=null;i<m;++i)(a=ff[i])&&(w=(g=(o=a.site)[0]-t)*g+(b=o[1]-e)*b)<E&&(E=w,y=a);if(y){var _=[t,e],T=[t,r],x=[n,r],S=[n,e];y.halfedges.push(df.push(Vl(o=y.site,_,T))-1,df.push(Vl(o,T,x))-1,df.push(Vl(o,x,S))-1,df.push(Vl(o,S,_))-1)}}for(i=0;i<m;++i)(a=ff[i])&&(a.halfedges.length||delete ff[i])}(o,s,u,c)}this.edges=df,this.cells=ff,lf=hf=df=ff=null}yf.prototype={constructor:yf,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Xl(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s,u,c,l=n.site,f=-1,h=e[i[a-1]],d=h.left===l?h.right:h.left;++f<a;)o=d,d=(h=e[i[f]]).left===l?h.right:h.left,o&&d&&r<o.index&&r<d.index&&(u=o,c=d,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,o.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<l&&(l=f,o=s.index)}}))}while(null!==o);return a._found=r,null==n||l<=n*n?i.site:null}};var gf=function(t){return function(){return t}};function bf(t,e,n){this.target=t,this.type=e,this.transform=n}function wf(t,e,n){this.k=t,this.x=e,this.y=n}wf.prototype={constructor:wf,scale:function(t){return 1===t?this:new wf(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new wf(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ef=new wf(1,0,0);function _f(){bn.stopImmediatePropagation()}wf.prototype;var Tf=function(){bn.preventDefault(),bn.stopImmediatePropagation()};function xf(){return!bn.ctrlKey&&!bn.button}function Sf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Af(){return this.__zoom||Ef}function kf(){return-bn.deltaY*(1===bn.deltaMode?.05:bn.deltaMode?1:.002)}function Cf(){return navigator.maxTouchPoints||"ontouchstart"in this}function If(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pf(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?Nf(e,!0).forEach((function(n){Dt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Nf(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var Mf={fill:"rgb(1, 22, 29)",fontSize:"10",fontFamily:"Verdana"},Rf=Pf({},Mf,{fontSize:"12"}),Of={fill:"none",stroke:"white",strokeWidth:"3"},Lf=Pf({},Of,{strokeDasharray:"10"}),Uf=function(t){function e(t){var n;wt(this,e),(n=At(this,kt(e).call(this,t))).gRef=o.a.createRef(),n.linkRef=o.a.createRef(),n.offset={drag:!1},n.handleClick=n.handleClick.bind(St(n),null),n.targetNodes=[],n.sourceNodes=[];var r=n.props.links.filter((function(t){return Array.isArray(t.source)?t.source.includes(n.props.id):t.source===n.props.id})),i=n.props.links.filter((function(t){return Array.isArray(t.target)?t.target.includes(n.props.id):t.target===n.props.id}));return r&&r.forEach((function(t){if(Array.isArray(t.target))t.target.forEach((function(t){var e=n.props.nodes.find((function(e){return e.id===t}));e&&n.targetNodes.push(e)}));else{var e=n.props.nodes.find((function(e){return e.id===t.target}));e&&n.targetNodes.push(e)}})),i&&i.forEach((function(t){if(Array.isArray(t.source))t.source.forEach((function(t){var e=n.props.nodes.find((function(e){return e.id===t}));e&&n.sourceNodes.push(e)}));else{var e=n.props.nodes.find((function(e){return e.id===t.source}));e&&n.sourceNodes.push(e)}})),n}return It(e,t),_t(e,[{key:"componentDidMount",value:function(){var t=this,e=this,n=Rn(this.gRef.current);n.on("click",this.handleClick);var r=function(){var t,e,n,r,i=qn,a=Wn,o=Xn,s=Yn,u={},c=be("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var o=b("mouse",a.apply(this,arguments),jn,this,arguments);o&&(Rn(bn.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Gn(bn.view),Bn(),n=!1,t=bn.clientX,e=bn.clientY,o("start"))}}function p(){if(zn(),!n){var r=bn.clientX-t,i=bn.clientY-e;n=r*r+i*i>f}u.mouse("drag")}function v(){Rn(bn.view).on("mousemove.drag mouseup.drag",null),Vn(bn.view,n),zn(),u.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=bn.changedTouches,r=a.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=b(n[t].identifier,r,Fn,this,arguments))&&(Bn(),e("start"))}}function y(){var t,e,n=bn.changedTouches,r=n.length;for(t=0;t<r;++t)(e=u[n[t].identifier])&&(zn(),e("drag"))}function g(){var t,e,n=bn.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=u[n[t].identifier])&&(Bn(),e("end"))}function b(t,e,n,r,i){var a,s,f,d=n(e,t),p=c.copy();if(Sn(new Hn(h,"beforestart",a,t,l,d[0],d[1],0,0,p),(function(){return null!=(bn.subject=a=o.apply(r,i))&&(s=a.x-d[0]||0,f=a.y-d[1]||0,!0)})))return function o(c){var v,m=d;switch(c){case"start":u[t]=o,v=l++;break;case"end":delete u[t],--l;case"drag":d=n(e,t),v=l}Sn(new Hn(h,c,a,t,v,d[0]+s,d[1]+f,d[0]-m[0],d[1]-m[1],p),p.apply,p,[c,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Kn(!!t),h):i},h.container=function(t){return arguments.length?(a="function"==typeof t?t:Kn(t),h):a},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:Kn(t),h):o},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Kn(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}().clickDistance(16).on("start",(function(){n.raise().classed("cursor-grabbing",!0),e.offset={x:bn.x-75,y:bn.y-20,drag:!1},bn.on("drag",(function(){e.offset={x:e.offset.x+bn.dx,y:e.offset.y+bn.dy,drag:!0},n.attr("transform","translate(".concat(e.offset.x,",").concat(e.offset.y,")")),t.targetNodes&&t.targetNodes.forEach((function(t){Rn("#node-line-".concat(e.props.id,"-").concat(t.id)).attr("x1",bn.x+("decision"===e.props.type?-5:55)).attr("y1",bn.y)})),t.sourceNodes&&t.sourceNodes.forEach((function(t){Rn("#node-line-".concat(t.id,"-").concat(e.props.id)).attr("x2",bn.x-45).attr("y2",bn.y)}))})).on("end",(function(){n.classed("cursor-grabbing",!1),e.offset.drag&&e.props.onDragEnd&&e.props.onDragEnd(e.props.id,e.offset)}))}));n.call(r)}},{key:"handleClick",value:function(){var t=this.props,e=t.onClick,n=(t.onDragEnd,t.links,t.nodes,t.selected,bt(t,["onClick","onDragEnd","links","nodes","selected"]));e&&e(Pf({},n))}},{key:"render",value:function(){var t=this,e=this.props,n=e.x,r=e.y,i=e.type,a=e.path,s=e.desc,u=e.selected,c=e.id,l=e.thumbnail;return o.a.createElement(o.a.Fragment,null,this.targetNodes&&this.targetNodes.map((function(e){return o.a.createElement("line",{key:"".concat(c).concat(e.id),id:"node-line-".concat(c,"-").concat(e.id),x1:n+("decision"===i?70:130),y1:r+20,x2:e.x+30,y2:e.y+20,style:1<t.targetNodes.length?Lf:Of})})),o.a.createElement("g",{ref:this.gRef,className:"node-group",transform:"translate(".concat(n,",").concat(r,")")},o.a.createElement("rect",{x:0,y:0,rx:"20",ry:"20",className:"node ".concat(i," ").concat(u?"selected":"")},o.a.createElement("title",null,s)),o.a.createElement("text",{x:15,y:18,style:Rf},o.a.createElement("title",null,s),c),o.a.createElement("text",{x:15,y:30,style:Mf},"(",i,") - ",a),o.a.createElement("image",{width:"100",height:"40",href:l})))}}]),e}(o.a.Component),Df=function(t){function e(t){var n;return wt(this,e),(n=At(this,kt(e).call(this,t))).state={shift:!1,backspace:!1},n.svgRef=o.a.createRef(),n.gRef=o.a.createRef(),n.saveNodes=n.saveNodes.bind(St(n),null),n.handleNodeOnDragEnd=n.handleNodeOnDragEnd.bind(St(n),null),n.handleClick=n.handleClick.bind(St(n),null),n}return It(e,t),_t(e,[{key:"componentDidMount",value:function(){var t=this,e=Rn(this.svgRef.current),n=function(){var t,e,n=xf,r=Sf,i=If,a=kf,o=Cf,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,l=Si,f=be("start","zoom","end"),h=500,d=150,p=0;function v(t){t.property("__zoom",Af).on("wheel.zoom",_).on("mousedown.zoom",T).on("dblclick.zoom",x).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new wf(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new wf(t.k,r,i)}function g(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n){t.on("start.zoom",(function(){w(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,a=w(t,i),o=r.apply(t,i),s=null==n?g(o):"function"==typeof n?n.apply(t,i):n,u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,i):e,h=l(c.invert(s).concat(u/c.k),f.invert(s).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=h(t),n=u/e[2];t=new wf(n,s[0]-e[0]*n,s[1]-e[1]*n)}a.zoom(null,t)}}))}function w(t,e,n){return!n&&t.__zooming||new E(t,e)}function E(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function _(){if(n.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,a.apply(this,arguments)))),o=jn(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[o,e.invert(o)],sa(this),t.start()}Tf(),t.wheel=setTimeout((function(){t.wheel=null,t.end()}),d),t.zoom("mouse",i(y(m(e,r),t.mouse[0],t.mouse[1]),t.extent,u))}}function T(){if(!e&&n.apply(this,arguments)){var t=w(this,arguments,!0),r=Rn(bn.view).on("mousemove.zoom",(function(){if(Tf(),!t.moved){var e=bn.clientX-o,n=bn.clientY-s;t.moved=e*e+n*n>p}t.zoom("mouse",i(y(t.that.__zoom,t.mouse[0]=jn(t.that),t.mouse[1]),t.extent,u))}),!0).on("mouseup.zoom",(function(){r.on("mousemove.zoom mouseup.zoom",null),Vn(bn.view,t.moved),Tf(),t.end()}),!0),a=jn(this),o=bn.clientX,s=bn.clientY;Gn(bn.view),_f(),t.mouse=[a,this.__zoom.invert(a)],sa(this),t.start()}}function x(){if(n.apply(this,arguments)){var t=this.__zoom,e=jn(this),a=t.invert(e),o=t.k*(bn.shiftKey?.5:2),s=i(y(m(t,o),e,a),r.apply(this,arguments),u);Tf(),c>0?Rn(this).transition().duration(c).call(b,s,e):Rn(this).call(v.transform,s)}}function S(){if(n.apply(this,arguments)){var e,r,i,a,o=bn.touches,s=o.length,u=w(this,arguments,bn.changedTouches.length===s);for(_f(),r=0;r<s;++r)i=o[r],a=[a=Fn(this,o,i.identifier),this.__zoom.invert(a),i.identifier],u.touch0?u.touch1||u.touch0[2]===a[2]||(u.touch1=a,u.taps=0):(u.touch0=a,e=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(u.taps<2&&(t=setTimeout((function(){t=null}),h)),sa(this),u.start())}}function A(){if(this.__zooming){var e,n,r,a,o=w(this,arguments),s=bn.changedTouches,c=s.length;for(Tf(),t&&(t=clearTimeout(t)),o.taps=0,e=0;e<c;++e)n=s[e],r=Fn(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var l=o.touch0[0],f=o.touch0[1],h=o.touch1[0],d=o.touch1[1],p=(p=h[0]-l[0])*p+(p=h[1]-l[1])*p,v=(v=d[0]-f[0])*v+(v=d[1]-f[1])*v;n=m(n,Math.sqrt(p/v)),r=[(l[0]+h[0])/2,(l[1]+h[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom("touch",i(y(n,r,a),o.extent,u))}}function k(){if(this.__zooming){var t,n,r=w(this,arguments),i=bn.changedTouches,a=i.length;for(_f(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),h),t=0;t<a;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var o=Rn(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return v.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",Af),t!==r?b(t,e,n):r.interrupt().each((function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n){v.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},v.scaleTo=function(t,e,n){v.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,o=null==n?g(t):"function"==typeof n?n.apply(this,arguments):n,s=a.invert(o),c="function"==typeof e?e.apply(this,arguments):e;return i(y(m(a,c),o,s),t,u)}),n)},v.translateBy=function(t,e,n){v.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)}))},v.translateTo=function(t,e,n,a){v.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,s=null==a?g(t):"function"==typeof a?a.apply(this,arguments):a;return i(Ef.translate(s[0],s[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),a)},E.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Sn(new bf(v,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},v.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:gf(+t),v):a},v.filter=function(t){return arguments.length?(n="function"==typeof t?t:gf(!!t),v):n},v.touchable=function(t){return arguments.length?(o="function"==typeof t?t:gf(!!t),v):o},v.extent=function(t){return arguments.length?(r="function"==typeof t?t:gf([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):r},v.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],v):[s[0],s[1]]},v.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],v):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},v.constrain=function(t){return arguments.length?(i=t,v):i},v.duration=function(t){return arguments.length?(c=+t,v):c},v.interpolate=function(t){return arguments.length?(l=t,v):l},v.on=function(){var t=f.on.apply(f,arguments);return t===f?v:t},v.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,v):Math.sqrt(p)},v}().clickDistance(4).scaleExtent([.25,2.5]).on("start",(function(){e.raise().classed("cursor-grabbing",!0)})).on("zoom",(function(){bn.transform&&t.props.saveTransform({transform:{k:bn.transform.k,x:bn.transform.x,y:bn.transform.y},transformStr:bn.transform.toString()})})).on("end",(function(){e.raise().classed("cursor-grabbing",!1),t.saveNodes()}));if(e.call(n),e.on("click",(function(){var n=t.svgRef.current.getBoundingClientRect(),r=Rn(t.gRef.current),i=e.node().createSVGPoint();i.x=bn.x-n.left,i.y=bn.y-n.top,i=i.matrixTransform(r.node().getCTM().inverse()),t.handleClick(i.x,i.y)})),e.on("dblclick.zoom",null),t.props.transform){var r=t.props.transform,i=r.k,a=r.x,o=r.y,s=Ef.translate(a,o).scale(i);e.call(n.transform,s)}}},{key:"saveNodes",value:function(){this.props.saveAll({transform:this.props.transform,transformStr:this.props.transformStr,nodes:this.props.nodes})}},{key:"componentWillUnmount",value:function(){this.saveNodes()}},{key:"handleNodeOnDragEnd",value:function(t,e,n){var r=this.props.nodes.find((function(t){return t.id===e}));r&&(r.x=n.x,r.y=n.y),this.saveNodes()}},{key:"handleKeyUp",value:function(t){this.state.shift&&this.state.backspace&&this.props.removeNode(this.props.selected),(16===t.keyCode||"Shift"===t.key)&&this.setState({shift:!1}),(8===t.keyCode||"Backspace"===t.key)&&this.setState({backspace:!1})}},{key:"handleKeyDown",value:function(t){(16===t.keyCode||"Shift"===t.key)&&this.setState({shift:!0}),(8===t.keyCode||"Backspace"===t.key)&&this.setState({backspace:!0})}},{key:"handleClick",value:function(t,e,n){var r,i,a;this.state.shift&&this.props.addNode({id:(r=99999,i=1e6,a=Math.floor,r=(0,Math.ceil)(r),i=a(i),a(Math.random()*(i-r))+r).toString(),type:"navigation",x:e-75,y:n-15,path:"nav",desc:"Office Navigation",seek:0})}},{key:"render",value:function(){var t=this,e=this.props,n=e.selected,r=e.setNodeProperties,a=e.transformStr,s=e.nodes,u=e.links;return o.a.createElement("svg",{ref:this.svgRef,className:"cursor-grab",tabIndex:"0",onKeyDown:function(e){return t.handleKeyDown(e)},onKeyUp:function(e){return t.handleKeyUp(e)}},o.a.createElement("defs",null,o.a.createElement("pattern",{id:"smallGrid",width:"10",height:"10",patternUnits:"userSpaceOnUse"},o.a.createElement("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"gray",strokeWidth:"0.5"})),o.a.createElement("pattern",{id:"grid",width:"100",height:"100",patternUnits:"userSpaceOnUse",patternTransform:a},o.a.createElement("rect",{width:"100",height:"100",fill:"url(#smallGrid)"}),o.a.createElement("path",{d:"M 100 0 L 0 0 0 100",fill:"none",stroke:"gray",strokeWidth:"1"}))),o.a.createElement("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),o.a.createElement("g",{ref:this.gRef,transform:a},s&&s.map((function(e){return o.a.createElement(Uf,i({key:e.id},e,{id:e.id,links:u,nodes:s,selected:n===e.id,onDragEnd:t.handleNodeOnDragEnd,onClick:function(t){r(t)}}))}))))}}]),e}(o.a.Component),jf=ht((function(t){return{nodes:t.editor.nodes,links:t.editor.links,transform:t.editor.transform,transformStr:t.editor.transformStr,selected:t.editor.selected||""}}),(function(t){return{saveTransform:function(e){return t(function(t){return{type:zt,payload:t}}(e))},saveAll:function(e){return t(function(t){return{type:Gt,payload:t}}(e))},setNodeProperties:function(e){return t(Wt(e))},addNode:function(e){return t(function(t){return{type:Kt,payload:{node:t}}}(e))},removeNode:function(e){return t(function(t){return{type:Ht,payload:{id:t}}}(e))}}}))(Df),Ff=n(4),Bf=n.n(Ff),zf=n(38),Gf=n.n(zf),Vf=n(14),Kf=n.n(Vf),Hf=n(8),qf=n.n(Hf),Wf=n(9),Xf=n.n(Wf),Yf=n(10),$f=n.n(Yf),Zf=n(11),Jf=n.n(Zf),Qf=n(2),th=n.n(Qf),eh=n(12),nh=n.n(eh),rh=n(1),ih=n.n(rh),ah=n(50),oh=n.n(ah),sh=n(51),uh=n.n(sh),ch=n(6),lh=n.n(ch),fh=n(72),hh=n.n(fh),dh=n(7),ph=n.n(dh),vh=n(16),mh=n.n(vh),yh=function(t,e){"function"!=typeof t?null!==t&&"object"===mh()(t)&&(t.current=e):t(e)},gh=function(t,e){var n=t.handledProps,r=void 0===n?[]:n;return Object.keys(e).reduce((function(t,n){return"childKey"===n?t:(-1===r.indexOf(n)&&(t[n]=e[n]),t)}),{})},bh=n(73),wh=n.n(bh),Eh=[].concat(["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),_h=["alt","height","src","srcSet","width"],Th=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.htmlProps,r=void 0===n?Eh:n,i=e.includeAria,a=void 0===i||i,o={},s={};return wh()(t,(function(t,e){var n=a&&(/^aria-.*$/.test(e)||"role"===e);(oh()(r,e)||n?o:s)[e]=t})),[o,s]},xh={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function Sh(t){var e=mh()(t);return"string"===e||"number"===e?xh[t]||t:""}var Ah=function(t,e){return t&&e},kh=function(t,e){return t&&!0!==t&&"".concat(t," ").concat(e)},Ch=function(t,e){return t&&(!0===t?e:"".concat(t," ").concat(e))},Ih=function(t){return kh(t,"aligned")},Nh=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&"equal"===t)return"equal width";var r=mh()(t);return"string"!==r&&"number"!==r||!e?Sh(t):"".concat(Sh(t)," ").concat(e)};var Ph=function(t,e,n){var r=t.defaultProps,i=void 0===r?{}:r;if(e.as&&e.as!==i.as)return e.as;if(n){var a=n();if(a)return a}return e.href?"a":i.as||"div"},Mh=n(118),Rh=n.n(Mh),Oh=n(26),Lh=n.n(Oh),Uh=function(t,e){return Lh()(a.Children.toArray(t),{type:e})},Dh=function(t,e){return Rh()(a.Children.toArray(t),{type:e})},jh=function(t){return null==t||Array.isArray(t)&&0===t.length},Fh=n(119),Bh=n.n(Fh),zh=n(13),Gh=n.n(zh),Vh=n(120),Kh=n.n(Vh),Hh=n(36),qh=n.n(Hh),Wh=n(121),Xh=n.n(Wh),Yh=n(71),$h=n.n(Yh),Zh=n(122),Jh=n.n(Zh);function Qh(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!=typeof t&&"string"!=typeof t)throw new Error("createShorthand() Component must be a string or function.");if(ph()(n)||Jh()(n))return null;var i=$h()(n),s=Xh()(n),u=qh()(n),c=Object(a.isValidElement)(n),l=Kh()(n),f=i||s||Gh()(n);if(!(u||c||l||f))return null;var h=r.defaultProps,d=void 0===h?{}:h,p=c&&n.props||l&&n||f&&e(n),v=r.overrideProps,m=void 0===v?{}:v;m=qh()(m)?m(Kf()({},d,p)):m;var y=Kf()({},d,p,m);if(d.className||m.className||p.className){var g=Lt()(d.className,m.className,p.className);y.className=Bh()(g.split(" ")).join(" ")}if((d.style||m.style||p.style)&&(y.style=Kf()({},d.style,p.style,m.style)),ph()(y.key)){var b=y.childKey,w=r.autoGenerateKey,E=void 0===w||w;ph()(b)?E&&(i||s)&&(y.key=n):(y.key="function"==typeof b?b(y):b,delete y.childKey)}return c?Object(a.cloneElement)(n,y):f||l?o.a.createElement(t,y):u?n(t,y,y.children):void 0}function td(t,e){if("function"!=typeof t&&"string"!=typeof t)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return Qh(t,e,n,r)}}Qh.handledProps=[];td("div",(function(t){return{children:t}})),td("iframe",(function(t){return{src:t}})),td("img",(function(t){return{src:t}}));var ed=td("input",(function(t){return{type:t}})),nd=(td("label",(function(t){return{children:t}})),td("p",(function(t){return{children:t}})),n(234),function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"prevNode",null),n}return nh()(e,t),Xf()(e,[{key:"componentDidMount",value:function(){this.prevNode=Object(s.findDOMNode)(this),yh(this.props.innerRef,this.prevNode)}},{key:"componentDidUpdate",value:function(){var t=Object(s.findDOMNode)(this);this.prevNode!==t&&(this.prevNode=t,yh(this.props.innerRef,t))}},{key:"componentWillUnmount",value:function(){yh(this.props.innerRef,null)}},{key:"render",value:function(){return this.props.children}}]),e}(a.Component));ih()(nd,"handledProps",["children","innerRef"]),nd.propTypes={};var rd=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"handleRefOverride",(function(t){var e=n.props,r=e.children,i=e.innerRef;yh(r.ref,t),yh(i,t)})),n}return nh()(e,t),Xf()(e,[{key:"render",value:function(){var t=this.props.children;return Object(a.cloneElement)(t,{ref:this.handleRefOverride})}}]),e}(a.Component);function id(t){var e=t.children,n=t.innerRef,r=o.a.Children.only(e),i=Object(S.isForwardRef)(r)?rd:nd;return o.a.createElement(i,{innerRef:n},r)}ih()(rd,"handledProps",["children","innerRef"]),rd.propTypes={},id.handledProps=["children","innerRef"],id.propTypes={},id.FindNode=nd,id.Forward=rd;var ad=id;n(104);function od(t){var e=t.children,n=t.className,i=t.content,a=t.size,s=Lt()(a,"icons",n),u=gh(od,t),c=Ph(od,t);return o.a.createElement(c,Bf()({},u,{className:s}),r.isNil(e)?i:e)}od.handledProps=["as","children","className","content","size"],od.propTypes={},od.defaultProps={as:"i"};var sd=od,ud=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"handleClick",(function(t){n.props.disabled?t.preventDefault():lh()(n.props,"onClick",t,n.props)})),n}return nh()(e,t),Xf()(e,[{key:"getIconAriaOptions",value:function(){var t={},e=this.props,n=e["aria-label"],r=e["aria-hidden"];return ph()(n)?t["aria-hidden"]="true":t["aria-label"]=n,ph()(r)||(t["aria-hidden"]=r),t}},{key:"render",value:function(){var t=this.props,n=t.bordered,r=t.circular,i=t.className,a=t.color,s=t.corner,u=t.disabled,c=t.fitted,l=t.flipped,f=t.inverted,h=t.link,d=t.loading,p=t.name,v=t.rotated,m=t.size,y=Lt()(a,p,m,Ah(n,"bordered"),Ah(r,"circular"),Ah(u,"disabled"),Ah(c,"fitted"),Ah(f,"inverted"),Ah(h,"link"),Ah(d,"loading"),Ch(s,"corner"),kh(l,"flipped"),kh(v,"rotated"),"icon",i),g=gh(e,this.props),b=Ph(e,this.props),w=this.getIconAriaOptions();return o.a.createElement(b,Bf()({},g,w,{className:y,onClick:this.handleClick}))}}]),e}(a.PureComponent);ih()(ud,"defaultProps",{as:"i"}),ih()(ud,"Group",sd),ih()(ud,"handledProps",["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"]),ud.propTypes={},ud.create=td(ud,(function(t){return{name:t}}));var cd=ud,ld=n(52),fd=n.n(ld),hd="object"===("undefined"==typeof document?"undefined":mh()(document))&&null!==document,dd="object"===("undefined"==typeof window?"undefined":mh()(window))&&null!==window&&window.self===window,pd=function t(){return ph()(t.override)?hd&&dd:t.override},vd=n(27),md=n.n(vd),yd=n(78),gd=n.n(yd),bd=n(79),wd=n.n(bd),Ed=n(123),_d=n.n(Ed),Td=function(t,e){if(Lh()([e,t],ph.a))return!1;if(e.target&&(lh()(e.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return lh()(e.target,"removeAttribute","data-suir-click-target"),t.contains(e.target);var n=e.clientX,r=e.clientY;if(Lh()([n,r],ph.a))return!1;var i=t.getClientRects();if(!(t.offsetWidth&&t.offsetHeight&&i&&i.length))return!1;var a=_d()(i),o=a.top,s=a.bottom,u=a.left,c=a.right;return!Lh()([o,s,u,c],ph.a)&&(wd()(r,o,s+.001)&&wd()(n,u,c+.001))},xd=(n(246),n(249),n(251),n(253),n(25),n(254),n(257),n(259),function(t){return"default".concat(t[0].toUpperCase()+t.slice(1))}),Sd=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];if(void 0!==i)return i;if(r){var a=e[xd(t)];if(void 0!==a)return a;if(n){var o=n[t];if(void 0!==o)return o}}return"checked"!==t&&("value"===t?e.multiple?[]:"":void 0)},Ad=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"trySetState",(function(t,e){var r=n.constructor.autoControlledProps,i=Object.keys(t).reduce((function(e,i){return void 0!==n.props[i]?e:-1===r.indexOf(i)?e:(e[i]=t[i],e)}),{});e&&(i=Kf()({},i,e)),Object.keys(i).length>0&&n.setState(i)}));var o=n.constructor.autoControlledProps,s=lh()(th()(n),"getInitialAutoControlledState",n.props)||{},u=o.reduce((function(t,e){return t[e]=Sd(e,n.props,s,!0),t}),{});return n.state=Kf()({},s,u),n}return nh()(e,t),Xf()(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.constructor.autoControlledProps.reduce((function(e,n){return!fd()(t[n])&&(e[n]=t[n]),e}),{});Object.keys(e).length>0&&this.setState(e)}}]),e}(a.Component),kd=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"handleRef",(function(t){yh(n.props.innerRef,t)})),n}return nh()(e,t),Xf()(e,[{key:"componentDidMount",value:function(){lh()(this.props,"onMount",null,this.props)}},{key:"componentWillUnmount",value:function(){lh()(this.props,"onUnmount",null,this.props)}},{key:"render",value:function(){if(!pd())return null;var t=this.props,e=t.children,n=t.mountNode,r=void 0===n?document.body:n;return Object(s.createPortal)(o.a.createElement(ad,{innerRef:this.handleRef},e),r)}}]),e}(a.Component);ih()(kd,"handledProps",["children","innerRef","mountNode","onMount","onUnmount"]),kd.propTypes={};var Cd=kd,Id=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"contentRef",Object(a.createRef)()),ih()(th()(n),"triggerRef",Object(a.createRef)()),ih()(th()(n),"latestDocumentMouseDownEvent",null),ih()(th()(n),"handleDocumentMouseDown",(function(t){n.latestDocumentMouseDownEvent=t})),ih()(th()(n),"handleDocumentClick",(function(t){var e=n.props.closeOnDocumentClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!n.contentRef.current||Td(n.triggerRef.current,t)||r&&Td(n.contentRef.current,r)||Td(n.contentRef.current,t)||e&&n.close(t)})),ih()(th()(n),"handleEscape",(function(t){n.props.closeOnEscape&&gd.a.getCode(t)===gd.a.Escape&&n.close(t)})),ih()(th()(n),"handlePortalMouseLeave",(function(t){var e=n.props,r=e.closeOnPortalMouseLeave,i=e.mouseLeaveDelay;r&&t.target===n.contentRef.current&&(n.mouseLeaveTimer=n.closeWithTimeout(t,i))})),ih()(th()(n),"handlePortalMouseEnter",(function(){n.props.closeOnPortalMouseLeave&&clearTimeout(n.mouseLeaveTimer)})),ih()(th()(n),"handleTriggerBlur",(function(t){for(var e=n.props,r=e.trigger,i=e.closeOnTriggerBlur,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];lh.a.apply(void 0,[r,"props.onBlur",t].concat(o));var u=t.relatedTarget||document.activeElement,c=lh()(n.contentRef.current,"contains",u);i&&!c&&n.close(t)})),ih()(th()(n),"handleTriggerClick",(function(t){for(var e=n.props,r=e.trigger,i=e.closeOnTriggerClick,a=e.openOnTriggerClick,o=n.state.open,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];lh.a.apply(void 0,[r,"props.onClick",t].concat(u)),o&&i?n.close(t):!o&&a&&n.open(t)})),ih()(th()(n),"handleTriggerFocus",(function(t){for(var e=n.props,r=e.trigger,i=e.openOnTriggerFocus,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];lh.a.apply(void 0,[r,"props.onFocus",t].concat(o)),i&&n.open(t)})),ih()(th()(n),"handleTriggerMouseLeave",(function(t){clearTimeout(n.mouseEnterTimer);for(var e=n.props,r=e.trigger,i=e.closeOnTriggerMouseLeave,a=e.mouseLeaveDelay,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];lh.a.apply(void 0,[r,"props.onMouseLeave",t].concat(s)),i&&(n.mouseLeaveTimer=n.closeWithTimeout(t,a))})),ih()(th()(n),"handleTriggerMouseEnter",(function(t){clearTimeout(n.mouseLeaveTimer);for(var e=n.props,r=e.trigger,i=e.mouseEnterDelay,a=e.openOnTriggerMouseEnter,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];lh.a.apply(void 0,[r,"props.onMouseEnter",t].concat(s)),a&&(n.mouseEnterTimer=n.openWithTimeout(t,i))})),ih()(th()(n),"open",(function(t){var e=n.props.onOpen;e&&e(t,n.props),n.trySetState({open:!0})})),ih()(th()(n),"openWithTimeout",(function(t,e){var r=Kf()({},t);return setTimeout((function(){return n.open(r)}),e||0)})),ih()(th()(n),"close",(function(t){var e=n.props.onClose;e&&e(t,n.props),n.trySetState({open:!1})})),ih()(th()(n),"closeWithTimeout",(function(t,e){var r=Kf()({},t);return setTimeout((function(){return n.close(r)}),e||0)})),ih()(th()(n),"handleMount",(function(){lh()(n.props,"onMount",null,n.props)})),ih()(th()(n),"handleUnmount",(function(){lh()(n.props,"onUnmount",null,n.props)})),ih()(th()(n),"handleTriggerRef",(function(t){n.triggerRef.current=t,yh(n.props.triggerRef,t)})),n}return nh()(e,t),Xf()(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.eventPool,r=t.mountNode,i=t.trigger,s=this.state.open;return o.a.createElement(a.Fragment,null,s&&o.a.createElement(a.Fragment,null,o.a.createElement(Cd,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},e),o.a.createElement(md.a,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),o.a.createElement(md.a,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),o.a.createElement(md.a,{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),o.a.createElement(md.a,{name:"click",on:this.handleDocumentClick,pool:n}),o.a.createElement(md.a,{name:"keydown",on:this.handleEscape,pool:n})),i&&o.a.createElement(ad,{innerRef:this.handleTriggerRef},Object(a.cloneElement)(i,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))}}]),e}(Ad);ih()(Id,"defaultProps",{closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0}),ih()(Id,"autoControlledProps",["open"]),ih()(Id,"Inner",Cd),ih()(Id,"handledProps",["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"]),Id.propTypes={};var Nd=Id;function Pd(t){var e=t.blurring,n=t.className,i=t.children,a=t.content,s=t.dimmed,u=Lt()(Ah(e,"blurring"),Ah(s,"dimmed"),"dimmable",n),c=gh(Pd,t),l=Ph(Pd,t);return o.a.createElement(l,Bf()({},c,{className:u}),r.isNil(i)?a:i)}Pd.handledProps=["as","blurring","children","className","content","dimmed"],Pd.propTypes={};var Md=Pd,Rd=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"containerRef",Object(a.createRef)()),ih()(th()(n),"contentRef",Object(a.createRef)()),ih()(th()(n),"handleClick",(function(t){var e=n.contentRef.current;lh()(n.props,"onClick",t,n.props),e&&e!==t.target&&Td(e,t)||lh()(n.props,"onClickOutside",t,n.props)})),n}return nh()(e,t),Xf()(e,[{key:"componentDidMount",value:function(){var t=this.props.active;this.toggleStyles(t)}},{key:"componentDidUpdate",value:function(t){var e=this.props.active;t.active!==e&&this.toggleStyles(e)}},{key:"toggleStyles",value:function(t){var e=this.containerRef.current;e&&e.style&&(t?e.style.setProperty("display","flex","important"):e.style.removeProperty("display"))}},{key:"render",value:function(){var t=this.props,n=t.active,i=t.children,a=t.className,s=t.content,u=t.disabled,c=t.inverted,l=t.page,f=t.simple,h=t.verticalAlign,d=Lt()("ui",Ah(n,"active transition visible"),Ah(u,"disabled"),Ah(c,"inverted"),Ah(l,"page"),Ah(f,"simple"),Ih(h),"dimmer",a),p=gh(e,this.props),v=Ph(e,this.props),m=r.isNil(i)?s:i;return o.a.createElement(ad,{innerRef:this.containerRef},o.a.createElement(v,Bf()({},p,{className:d,onClick:this.handleClick}),m&&o.a.createElement("div",{className:"content",ref:this.contentRef},m)))}}]),e}(a.Component);ih()(Rd,"handledProps",["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"]),Rd.propTypes={};var Od=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"handlePortalMount",(function(){pd()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))})),ih()(th()(n),"handlePortalUnmount",(function(){pd()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))})),n}return nh()(e,t),Xf()(e,[{key:"render",value:function(){var t=this.props,n=t.active,r=t.page,i=gh(e,this.props);return r?o.a.createElement(Nd,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},o.a.createElement(Rd,Bf()({},i,{active:n,page:r}))):o.a.createElement(Rd,Bf()({},i,{active:n,page:r}))}}]),e}(a.Component);function Ld(t){var e=t.children,n=t.className,i=t.content,a=t.size,s=Lt()("ui",a,n,"images"),u=gh(Ld,t),c=Ph(Ld,t);return o.a.createElement(c,Bf()({},u,{className:s}),r.isNil(e)?i:e)}ih()(Od,"Dimmable",Md),ih()(Od,"Inner",Rd),ih()(Od,"handledProps",["active","page"]),Od.propTypes={},Od.create=td(Od,(function(t){return{content:t}})),Ld.handledProps=["as","children","className","content","size"],Ld.propTypes={};var Ud=Ld;function Dd(t){var e=t.avatar,n=t.bordered,i=t.centered,a=t.children,s=t.circular,u=t.className,c=t.content,l=t.dimmer,f=t.disabled,h=t.floated,d=t.fluid,p=t.hidden,v=t.href,m=t.inline,y=t.label,g=t.rounded,b=t.size,w=t.spaced,E=t.verticalAlign,_=t.wrapped,T=t.ui,x=Lt()(Ah(T,"ui"),b,Ah(e,"avatar"),Ah(n,"bordered"),Ah(s,"circular"),Ah(i,"centered"),Ah(f,"disabled"),Ah(d,"fluid"),Ah(p,"hidden"),Ah(m,"inline"),Ah(g,"rounded"),Ch(w,"spaced"),kh(h,"floated"),Ih(E,"aligned"),"image",u),S=gh(Dd,t),A=Th(S,{htmlProps:_h}),k=Gf()(A,2),C=k[0],I=k[1],N=Ph(Dd,t,(function(){if(!(ph()(l)&&ph()(y)&&ph()(_)&&r.isNil(a)))return"div"}));return r.isNil(a)?r.isNil(c)?"img"===N?o.a.createElement(N,Bf()({},I,C,{className:x})):o.a.createElement(N,Bf()({},I,{className:x,href:v}),Od.create(l,{autoGenerateKey:!1}),Vd.create(y,{autoGenerateKey:!1}),o.a.createElement("img",C)):o.a.createElement(N,Bf()({},S,{className:x}),c):o.a.createElement(N,Bf()({},S,{className:x}),a)}Dd.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],Dd.Group=Ud,Dd.propTypes={},Dd.defaultProps={as:"img",ui:!0},Dd.create=td(Dd,(function(t){return{src:t}}));var jd=Dd;function Fd(t){var e=t.children,n=t.className,i=t.content,a=Lt()("detail",n),s=gh(Fd,t),u=Ph(Fd,t);return o.a.createElement(u,Bf()({},s,{className:a}),r.isNil(e)?i:e)}Fd.handledProps=["as","children","className","content"],Fd.propTypes={},Fd.create=td(Fd,(function(t){return{content:t}}));var Bd=Fd;function zd(t){var e=t.children,n=t.circular,i=t.className,a=t.color,s=t.content,u=t.size,c=t.tag,l=Lt()("ui",a,u,Ah(n,"circular"),Ah(c,"tag"),"labels",i),f=gh(zd,t),h=Ph(zd,t);return o.a.createElement(h,Bf()({},f,{className:l}),r.isNil(e)?s:e)}zd.handledProps=["as","children","circular","className","color","content","size","tag"],zd.propTypes={};var Gd=zd,Vd=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"handleClick",(function(t){var e=n.props.onClick;e&&e(t,n.props)})),ih()(th()(n),"handleIconOverrides",(function(t){return{onClick:function(e){lh()(t,"onClick",e),lh()(n.props,"onRemove",e,n.props)}}})),n}return nh()(e,t),Xf()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.attached,a=t.basic,s=t.children,u=t.circular,c=t.className,l=t.color,f=t.content,h=t.corner,d=t.detail,p=t.empty,v=t.floating,m=t.horizontal,y=t.icon,g=t.image,b=t.onRemove,w=t.pointing,E=t.prompt,_=t.removeIcon,T=t.ribbon,x=t.size,S=t.tag,A=(!0===w?"pointing":("left"===w||"right"===w)&&"".concat(w," pointing"))||("above"===w||"below"===w)&&"pointing ".concat(w),k=Lt()("ui",l,A,x,Ah(n,"active"),Ah(a,"basic"),Ah(u,"circular"),Ah(p,"empty"),Ah(v,"floating"),Ah(m,"horizontal"),Ah(!0===g,"image"),Ah(E,"prompt"),Ah(S,"tag"),Ch(h,"corner"),Ch(T,"ribbon"),kh(i,"attached"),"label",c),C=gh(e,this.props),I=Ph(e,this.props);if(!r.isNil(s))return o.a.createElement(I,Bf()({},C,{className:k,onClick:this.handleClick}),s);var N=fd()(_)?"delete":_;return o.a.createElement(I,Bf()({className:k,onClick:this.handleClick},C),cd.create(y,{autoGenerateKey:!1}),"boolean"!=typeof g&&jd.create(g,{autoGenerateKey:!1}),f,Bd.create(d,{autoGenerateKey:!1}),b&&cd.create(N,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))}}]),e}(a.Component);function Kd(t){var e=t.children,n=t.className,i=t.content,a=t.hidden,s=t.visible,u=Lt()(Ah(s,"visible"),Ah(a,"hidden"),"content",n),c=gh(Kd,t),l=Ph(Kd,t);return o.a.createElement(l,Bf()({},c,{className:u}),r.isNil(e)?i:e)}ih()(Vd,"Detail",Bd),ih()(Vd,"Group",Gd),ih()(Vd,"handledProps",["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"]),Vd.propTypes={},Vd.create=td(Vd,(function(t){return{content:t}})),Kd.handledProps=["as","children","className","content","hidden","visible"],Kd.propTypes={};var Hd=Kd;function qd(t){var e=t.attached,n=t.basic,i=t.buttons,a=t.children,s=t.className,u=t.color,c=t.compact,l=t.content,f=t.floated,h=t.fluid,d=t.icon,p=t.inverted,v=t.labeled,m=t.negative,y=t.positive,g=t.primary,b=t.secondary,w=t.size,E=t.toggle,_=t.vertical,T=t.widths,x=Lt()("ui",u,w,Ah(n,"basic"),Ah(c,"compact"),Ah(h,"fluid"),Ah(d,"icon"),Ah(p,"inverted"),Ah(v,"labeled"),Ah(m,"negative"),Ah(y,"positive"),Ah(g,"primary"),Ah(b,"secondary"),Ah(E,"toggle"),Ah(_,"vertical"),Ch(e,"attached"),kh(f,"floated"),Nh(T),"buttons",s),S=gh(qd,t),A=Ph(qd,t);return ph()(i)?o.a.createElement(A,Bf()({},S,{className:x}),r.isNil(a)?l:a):o.a.createElement(A,Bf()({},S,{className:x}),uh()(i,(function(t){return Zd.create(t)})))}qd.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],qd.propTypes={};var Wd=qd;function Xd(t){var e=t.className,n=t.text,r=Lt()("or",e),i=gh(Xd,t),a=Ph(Xd,t);return o.a.createElement(a,Bf()({},i,{className:r,"data-text":n}))}Xd.handledProps=["as","className","text"],Xd.propTypes={};var Yd=Xd,$d=function(t){function e(){var t,n;qf()(this,e);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(o))),ih()(th()(n),"ref",Object(a.createRef)()),ih()(th()(n),"computeElementType",(function(){var t=n.props,e=t.attached,r=t.label;if(!ph()(e)||!ph()(r))return"div"})),ih()(th()(n),"computeTabIndex",(function(t){var e=n.props,r=e.disabled,i=e.tabIndex;return ph()(i)?r?-1:"div"===t?0:void 0:i})),ih()(th()(n),"focus",(function(){return lh()(n.ref.current,"focus")})),ih()(th()(n),"handleClick",(function(t){n.props.disabled?t.preventDefault():lh()(n.props,"onClick",t,n.props)})),ih()(th()(n),"hasIconClass",(function(){var t=n.props,e=t.labelPosition,i=t.children,a=t.content,o=t.icon;return!0===o||o&&(e||r.isNil(i)&&ph()(a))})),n}return nh()(e,t),Xf()(e,[{key:"computeButtonAriaRole",value:function(t){var e=this.props.role;return ph()(e)?"button"!==t?"button":void 0:e}},{key:"render",value:function(){var t=this.props,n=t.active,i=t.animated,a=t.attached,s=t.basic,u=t.children,c=t.circular,l=t.className,f=t.color,h=t.compact,d=t.content,p=t.disabled,v=t.floated,m=t.fluid,y=t.icon,g=t.inverted,b=t.label,w=t.labelPosition,E=t.loading,_=t.negative,T=t.positive,x=t.primary,S=t.secondary,A=t.size,k=t.toggle,C=Lt()(f,A,Ah(n,"active"),Ah(s,"basic"),Ah(c,"circular"),Ah(h,"compact"),Ah(m,"fluid"),Ah(this.hasIconClass(),"icon"),Ah(g,"inverted"),Ah(E,"loading"),Ah(_,"negative"),Ah(T,"positive"),Ah(x,"primary"),Ah(S,"secondary"),Ah(k,"toggle"),Ch(i,"animated"),Ch(a,"attached")),I=Lt()(Ch(w||!!b,"labeled")),N=Lt()(Ah(p,"disabled"),kh(v,"floated")),P=gh(e,this.props),M=Ph(e,this.props,this.computeElementType),R=this.computeTabIndex(M);if(!ph()(b)){var O=Lt()("ui",C,"button",l),L=Lt()("ui",I,"button",l,N),U=Vd.create(b,{defaultProps:{basic:!0,pointing:"left"===w?"right":"left"},autoGenerateKey:!1});return o.a.createElement(M,Bf()({},P,{className:L,onClick:this.handleClick}),"left"===w&&U,o.a.createElement(ad,{innerRef:this.ref},o.a.createElement("button",{className:O,"aria-pressed":k?!!n:void 0,disabled:p,tabIndex:R},cd.create(y,{autoGenerateKey:!1})," ",d)),("right"===w||!w)&&U)}var D=Lt()("ui",C,N,I,"button",l),j=!r.isNil(u),F=this.computeButtonAriaRole(M);return o.a.createElement(ad,{innerRef:this.ref},o.a.createElement(M,Bf()({},P,{className:D,"aria-pressed":k?!!n:void 0,disabled:p&&"button"===M||void 0,onClick:this.handleClick,role:F,tabIndex:R}),j&&u,!j&&cd.create(y,{autoGenerateKey:!1}),!j&&d))}}]),e}(a.Component);ih()($d,"defaultProps",{as:"button"}),ih()($d,"Content",Hd),ih()($d,"Group",Wd),ih()($d,"Or",Yd),ih()($d,"handledProps",["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"]),$d.propTypes={},$d.create=td($d,(function(t){return{content:t}}));var Zd=$d,Jd=function(t){function e(){var t,n;qf()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=$f()(this,(t=Jf()(e)).call.apply(t,[this].concat(i))),ih()(th()(n),"inputRef",Object(a.createRef)()),ih()(th()(n),"computeIcon",(function(){var t=n.props,e=t.loading,r=t.icon;return ph()(r)?e?"spinner":void 0:r})),ih()(th()(n),"computeTabIndex",(function(){var t=n.props,e=t.disabled,r=t.tabIndex;return ph()(r)?e?-1:void 0:r})),ih()(th()(n),"focus",(function(){return n.inputRef.current.focus()})),ih()(th()(n),"select",(function(){return n.inputRef.current.select()})),ih()(th()(n),"handleChange",(function(t){var e=hh()(t,"target.value");lh()(n.props,"onChange",t,Kf()({},n.props,{value:e}))})),ih()(th()(n),"handleChildOverrides",(function(t,e){return Kf()({},e,t.props,{ref:function(e){yh(t.ref,e),n.inputRef.current=e}})})),ih()(th()(n),"partitionProps",(function(){var t=n.props,r=t.disabled,i=t.type,a=n.computeTabIndex(),o=gh(e,n.props),s=Th(o),u=Gf()(s,2),c=u[0],l=u[1];return[Kf()({},c,{disabled:r,type:i,tabIndex:a,onChange:n.handleChange,ref:n.inputRef}),l]})),n}return nh()(e,t),Xf()(e,[{key:"render",value:function(){var t=this,n=this.props,i=n.action,s=n.actionPosition,u=n.children,c=n.className,l=n.disabled,f=n.error,h=n.fluid,d=n.focus,p=n.icon,v=n.iconPosition,m=n.input,y=n.inverted,g=n.label,b=n.labelPosition,w=n.loading,E=n.size,_=n.transparent,T=n.type,x=Lt()("ui",E,Ah(l,"disabled"),Ah(f,"error"),Ah(h,"fluid"),Ah(d,"focus"),Ah(y,"inverted"),Ah(w,"loading"),Ah(_,"transparent"),kh(s,"action")||Ah(i,"action"),kh(v,"icon")||Ah(p||w,"icon"),kh(b,"labeled")||Ah(g,"labeled"),"input",c),S=Ph(e,this.props),A=this.partitionProps(),k=Gf()(A,2),C=k[0],I=k[1];if(!r.isNil(u)){var N=uh()(a.Children.toArray(u),(function(e){return"input"!==e.type?e:Object(a.cloneElement)(e,t.handleChildOverrides(e,C))}));return o.a.createElement(S,Bf()({},I,{className:x}),N)}var P=Zd.create(i,{autoGenerateKey:!1}),M=Vd.create(g,{defaultProps:{className:Lt()("label",oh()(b,"corner")&&b)},autoGenerateKey:!1});return o.a.createElement(S,Bf()({},I,{className:x}),"left"===s&&P,"right"!==b&&M,ed(m||T,{defaultProps:C,autoGenerateKey:!1}),cd.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==s&&P,"right"===b&&M)}}]),e}(a.Component);ih()(Jd,"defaultProps",{type:"text"}),ih()(Jd,"handledProps",["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"]),Jd.propTypes={},Jd.create=td(Jd,(function(t){return{type:t}}));var Qd=Jd,tp={width:"100%",paddingTop:"1.0em",paddingBottom:"0.5em"},ep={width:"100%",paddingBottom:"0.5em"},np=function(t){function e(t){var n;return wt(this,e),(n=At(this,kt(e).call(this,t))).state={},n}return It(e,t),_t(e,[{key:"render",value:function(){var t=this.props.node;return o.a.createElement(o.a.Fragment,null,t&&"decision"===t.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:"ui horizontal divider header"},o.a.createElement("i",{className:"clone outline icon"}),"Decisions"),t.items.map((function(t){return o.a.createElement("div",{key:"".concat(t.id).concat(t.type)},o.a.createElement(Qd,{size:"mini",label:"type",placeholder:t.type,defaultValue:t.type,style:tp}),o.a.createElement(Qd,{size:"mini",label:"desc",placeholder:t.desc,defaultValue:t.desc,style:ep}),o.a.createElement(Qd,{size:"mini",label:"option",placeholder:t.option,defaultValue:t.option,style:ep}),o.a.createElement("video",{controls:!0,width:"265",height:"190",src:"mp4/".concat(t.path)}))}))))}}]),e}(o.a.Component),rp=ht((function(t){return{node:t.editor.node}}))(np),ip=function(t){var e=t.annotations,n=t.style;return Object.keys(e).map((function(t){return o.a.createElement(Qd,{key:"".concat(t).concat(e[t]),size:"mini",label:t,placeholder:t,defaultValue:e[t],style:n})}))},ap={width:"100%",paddingTop:"1.0em",paddingBottom:"0.5em"},op={width:"100%",paddingBottom:"0.5em"},sp=function(t){function e(t){var n;return wt(this,e),(n=At(this,kt(e).call(this,t))).state={},n}return It(e,t),_t(e,[{key:"render",value:function(){var t=this.props.node;return o.a.createElement(o.a.Fragment,null,t&&"navigation"===t.type&&t.items&&0<t.items.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:"ui horizontal divider header"},o.a.createElement("i",{className:"exchange icon"}),"Navigation"),t.items&&t.items.map((function(e){return o.a.createElement("div",{key:"".concat(t.id).concat(e.type)},o.a.createElement(Qd,{size:"mini",label:"type",placeholder:e.type,defaultValue:e.type,style:ap}),o.a.createElement(Qd,{size:"mini",label:"desc",placeholder:e.desc,defaultValue:e.desc,style:op}),o.a.createElement(Qd,{size:"mini",label:"option",placeholder:e.option,defaultValue:e.option,style:op}))}))))}}]),e}(o.a.Component),up=ht((function(t){return{node:t.editor.node}}))(sp);function cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var lp,fp=["selected","items","links","nodes","annotations","script"],hp={width:"100%",paddingBottom:"0.5em"},dp=function(t){function e(t){var n;return wt(this,e),(n=At(this,kt(e).call(this,t))).state={node:n.props.node},n.timer=null,n}return It(e,t),_t(e,[{key:"componentDidUpdate",value:function(t){Object(Pt.isEqual)(this.props.node,t.node)||this.setState({node:this.props.node})}},{key:"onChangeField",value:function(t,e){var n=this;this.timer&&clearTimeout(this.timer);var r=parseFloat(e);"id"===t||isNaN(r)||(e=r),this.timer=setTimeout((function(){var r=n.props.node.id,i=function(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?cp(e,!0).forEach((function(n){Dt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):cp(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}({},n.state.node);i[t]=e,n.setState({node:i}),n.props.updateNode(r,i)}),500)}},{key:"render",value:function(){var t=this,e=this.state.node;return o.a.createElement("div",{className:"layout-properties"},e&&o.a.createElement(o.a.Fragment,null,Object.keys(e).map((function(n){return fp.includes(n)?null:o.a.createElement(Qd,{key:"".concat(n).concat(e[n]),size:"mini",label:n,placeholder:n,defaultValue:e[n],style:hp,onChange:function(e){return t.onChangeField(n,e.target.value)}})})),o.a.createElement("video",{controls:!0,width:"265",height:"190",src:"mp4/".concat(e.path)}),e.annotations&&o.a.createElement(ip,{annotations:e.annotations,style:hp}),o.a.createElement(rp,{node:e}),o.a.createElement(up,{node:e})))}}]),e}(o.a.Component),pp=ht((function(t){return{node:t.editor.node}}),(function(t){return{updateNode:function(e,n){return t(Xt(e,n))}}}))(dp),vp=n(74),mp=function(t){function e(t){var n;return wt(this,e),Dt(St(n=At(this,kt(e).call(this,t))),"handleEditorDidMount",(function(t,e){n.editorRef.current=e})),n.state={},n.editorRef=o.a.createRef(),n}return It(e,t),_t(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"layout-scripting"},o.a.createElement(vp.ControlledEditor,{width:"100%",height:"100%",value:this.props.node?this.props.node.script:"",editorDidMount:this.handleEditorDidMount,language:"javascript",theme:"dark"}))}}]),e}(o.a.Component),yp=ht((function(t){return{node:t.editor.node}}),(function(t){return{updateNode:function(e,n){return t(Xt(e,n))}}}))(mp),gp=ht((function(t){return{ready:t.editor.ready}}))((function(t){var e=t.ready,n=t.codename,r=bt(t,["ready","codename"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(se,{selectedTabIndex:1,size:"small"},o.a.createElement(ae,{label:n,header:!0}),o.a.createElement(ae,{label:"Editor",active:!0,icon:"columns"},o.a.createElement("div",{style:{display:"flex",height:"100%"}},o.a.createElement("div",{style:{flex:"0 0 300px",paddingRight:"0.3em",height:"100%"}},o.a.createElement(se,null,o.a.createElement(ae,{label:"Properties",icon:"list ul"},o.a.createElement(pp,null)))),o.a.createElement("div",{style:{flex:"1",padding:"0px"}},e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"editor-screen-row"},o.a.createElement("div",{className:"editor-screen-column"},o.a.createElement(se,null,o.a.createElement(ae,{label:"Scene",icon:"film"},o.a.createElement(re,i({editor:!0,keepSize:!0},r,{width:600,height:420,videoWidth:r.width,videoHeight:r.height}))))),o.a.createElement("div",{className:"editor-screen-column"},o.a.createElement(se,null,o.a.createElement(ae,{label:"Scripting",icon:"code"},o.a.createElement(yp,null))))),o.a.createElement(se,null,o.a.createElement(ae,{label:"Nodegraph",icon:"sitemap"},o.a.createElement(jf,null))))))),o.a.createElement(ae,{label:"Game",icon:"gamepad"},o.a.createElement("div",{className:"layout-border canvas-container-scroll"},e&&o.a.createElement(re,r)))))})),bp=function(t){function e(t){var n;wt(this,e),n=At(this,kt(e).call(this,t));var r=Rt();return n.state={params:r},n}return It(e,t),_t(e,[{key:"render",value:function(){var t=this.props,e=t.ready,n=bt(t,["ready"]);return e&&o.a.createElement(o.a.Fragment,null,this.state.params.editor?o.a.createElement(gp,n):o.a.createElement(re,i({},n,{videoWidth:this.props.width,videoHeight:this.props.height})))}}]),e}(o.a.Component),wp=ht((function(t){return{ready:t.editor.ready}}))(bp),Ep=n(124),_p=n.n(Ep),Tp=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"==typeof t[i]&&(n[i]=t[i])}var a,o=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:D.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:D.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+D.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){a=t}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=t[u],f=c(l,e);if(void 0===f){var h=B(u,e);throw new Error(h)}i[u]=f,r=r||f!==l}return r?i:t}}({editor:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{ready:!1},e=1<arguments.length?arguments[1]:void 0;switch(e.type){case Bt:return Ft({},t,{ready:!0},e.payload);case zt:return Ft({},t,{transform:e.payload.transform,transformStr:e.payload.transformStr});case Gt:return Ft({},t,{transform:e.payload.transform,transformStr:e.payload.transformStr,nodes:e.payload.nodes});case Vt:return Ft({},t,{node:e.payload.node,selected:e.payload.node.id});case Kt:return Ft({},t,{nodes:[].concat(Ut(t.nodes),[e.payload.node]),node:e.payload.node});case qt:return Ft({},t,{nodes:t.nodes.map((function(t){return t.id===e.payload.id?Ft({},t,{},e.payload.node):t}))});case Ht:var n=e.payload.id;return Ft({},t,{selected:"",nodes:Ut(t.nodes.filter((function(t){return t.id!==n}))),links:[].concat(Ut(t.links.filter((function(t){return t.source!==n&&t.target!==n}))),Ut(t.links.filter((function(t){return t.source!==n&&Array.isArray(t.target)&&!t.target.includes(n)}))))});default:return t}}}),xp=(lp=new F(Tp),_p.a.get("metadata").then((function(t){return lp.dispatch((e=t.data,{type:Bt,payload:e}));var e})),lp);e.default=function(t){var e=i({},t);u.a.render(o.a.createElement(g,{store:xp},o.a.createElement(wp,e)),document.getElementById("root"))}}])}));